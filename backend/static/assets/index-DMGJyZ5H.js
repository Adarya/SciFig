var Sy=Object.defineProperty;var Ey=(e,t,n)=>t in e?Sy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Me=(e,t,n)=>Ey(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var bt=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};function _u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Py(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),n}var Jf={exports:{}},wo={},Qf={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ii=Symbol.for("react.element"),Cy=Symbol.for("react.portal"),Ty=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),Oy=Symbol.for("react.profiler"),Ry=Symbol.for("react.provider"),Dy=Symbol.for("react.context"),Iy=Symbol.for("react.forward_ref"),My=Symbol.for("react.suspense"),Fy=Symbol.for("react.memo"),$y=Symbol.for("react.lazy"),Yd=Symbol.iterator;function Ly(e){return e===null||typeof e!="object"?null:(e=Yd&&e[Yd]||e["@@iterator"],typeof e=="function"?e:null)}var Yf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xf=Object.assign,Zf={};function Er(e,t,n){this.props=e,this.context=t,this.refs=Zf,this.updater=n||Yf}Er.prototype.isReactComponent={};Er.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Er.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function em(){}em.prototype=Er.prototype;function ku(e,t,n){this.props=e,this.context=t,this.refs=Zf,this.updater=n||Yf}var Nu=ku.prototype=new em;Nu.constructor=ku;Xf(Nu,Er.prototype);Nu.isPureReactComponent=!0;var Xd=Array.isArray,tm=Object.prototype.hasOwnProperty,Su={current:null},nm={key:!0,ref:!0,__self:!0,__source:!0};function sm(e,t,n){var s,r={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)tm.call(t,s)&&!nm.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Ii,type:e,key:i,ref:o,props:r,_owner:Su.current}}function zy(e,t){return{$$typeof:Ii,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Eu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ii}function Uy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zd=/\/+/g;function il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Uy(""+e.key):t.toString(36)}function ba(e,t,n,s,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ii:case Cy:o=!0}}if(o)return o=e,r=r(o),e=s===""?"."+il(o,0):s,Xd(r)?(n="",e!=null&&(n=e.replace(Zd,"$&/")+"/"),ba(r,t,n,"",function(u){return u})):r!=null&&(Eu(r)&&(r=zy(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Zd,"$&/")+"/")+e)),t.push(r)),1;if(o=0,s=s===""?".":s+":",Xd(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+il(i,l);o+=ba(i,t,n,c,r)}else if(c=Ly(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+il(i,l++),o+=ba(i,t,n,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ji(e,t,n){if(e==null)return e;var s=[],r=0;return ba(e,s,"","",function(i){return t.call(n,i,r++)}),s}function Vy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var at={current:null},wa={transition:null},By={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:wa,ReactCurrentOwner:Su};function rm(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Ji,forEach:function(e,t,n){Ji(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ji(e,function(){t++}),t},toArray:function(e){return Ji(e,function(t){return t})||[]},only:function(e){if(!Eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Er;he.Fragment=Ty;he.Profiler=Oy;he.PureComponent=ku;he.StrictMode=Ay;he.Suspense=My;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=By;he.act=rm;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Xf({},e.props),r=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Su.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)tm.call(t,c)&&!nm.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Ii,type:e.type,key:r,ref:i,props:s,_owner:o}};he.createContext=function(e){return e={$$typeof:Dy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ry,_context:e},e.Consumer=e};he.createElement=sm;he.createFactory=function(e){var t=sm.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:Iy,render:e}};he.isValidElement=Eu;he.lazy=function(e){return{$$typeof:$y,_payload:{_status:-1,_result:e},_init:Vy}};he.memo=function(e,t){return{$$typeof:Fy,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=wa.transition;wa.transition={};try{e()}finally{wa.transition=t}};he.unstable_act=rm;he.useCallback=function(e,t){return at.current.useCallback(e,t)};he.useContext=function(e){return at.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return at.current.useDeferredValue(e)};he.useEffect=function(e,t){return at.current.useEffect(e,t)};he.useId=function(){return at.current.useId()};he.useImperativeHandle=function(e,t,n){return at.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return at.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return at.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return at.current.useMemo(e,t)};he.useReducer=function(e,t,n){return at.current.useReducer(e,t,n)};he.useRef=function(e){return at.current.useRef(e)};he.useState=function(e){return at.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return at.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return at.current.useTransition()};he.version="18.3.1";Qf.exports=he;var E=Qf.exports;const On=_u(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy=E,Wy=Symbol.for("react.element"),Hy=Symbol.for("react.fragment"),Gy=Object.prototype.hasOwnProperty,Ky=qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jy={key:!0,ref:!0,__self:!0,__source:!0};function im(e,t,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Gy.call(t,s)&&!Jy.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)r[s]===void 0&&(r[s]=t[s]);return{$$typeof:Wy,type:e,key:i,ref:o,props:r,_owner:Ky.current}}wo.Fragment=Hy;wo.jsx=im;wo.jsxs=im;Jf.exports=wo;var a=Jf.exports,am={exports:{}},_t={},om={exports:{}},lm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,I){var G=F.length;F.push(I);e:for(;0<G;){var R=G-1>>>1,B=F[R];if(0<r(B,I))F[R]=I,F[G]=B,G=R;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var I=F[0],G=F.pop();if(G!==I){F[0]=G;e:for(var R=0,B=F.length,$=B>>>1;R<$;){var ae=2*(R+1)-1,de=F[ae],w=ae+1,O=F[w];if(0>r(de,G))w<B&&0>r(O,de)?(F[R]=O,F[w]=G,R=w):(F[R]=de,F[ae]=G,R=ae);else if(w<B&&0>r(O,G))F[R]=O,F[w]=G,R=w;else break e}}return I}function r(F,I){var G=F.sortIndex-I.sortIndex;return G!==0?G:F.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,p=null,h=3,f=!1,y=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(F){for(var I=n(u);I!==null;){if(I.callback===null)s(u);else if(I.startTime<=F)s(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function k(F){if(b=!1,m(F),!y)if(n(c)!==null)y=!0,K(T);else{var I=n(u);I!==null&&X(k,I.startTime-F)}}function T(F,I){y=!1,b&&(b=!1,v(x),x=-1),f=!0;var G=h;try{for(m(I),p=n(c);p!==null&&(!(p.expirationTime>I)||F&&!C());){var R=p.callback;if(typeof R=="function"){p.callback=null,h=p.priorityLevel;var B=R(p.expirationTime<=I);I=e.unstable_now(),typeof B=="function"?p.callback=B:p===n(c)&&s(c),m(I)}else s(c);p=n(c)}if(p!==null)var $=!0;else{var ae=n(u);ae!==null&&X(k,ae.startTime-I),$=!1}return $}finally{p=null,h=G,f=!1}}var P=!1,_=null,x=-1,j=5,S=-1;function C(){return!(e.unstable_now()-S<j)}function D(){if(_!==null){var F=e.unstable_now();S=F;var I=!0;try{I=_(!0,F)}finally{I?M():(P=!1,_=null)}}else P=!1}var M;if(typeof g=="function")M=function(){g(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,W=L.port2;L.port1.onmessage=D,M=function(){W.postMessage(null)}}else M=function(){N(D,0)};function K(F){_=F,P||(P=!0,M())}function X(F,I){x=N(function(){F(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){y||f||(y=!0,K(T))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var G=h;h=I;try{return F()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,I){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=h;h=F;try{return I()}finally{h=G}},e.unstable_scheduleCallback=function(F,I,G){var R=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?R+G:R):G=R,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=G+B,F={id:d++,callback:I,priorityLevel:F,startTime:G,expirationTime:B,sortIndex:-1},G>R?(F.sortIndex=G,t(u,F),n(c)===null&&F===n(u)&&(b?(v(x),x=-1):b=!0,X(k,G-R))):(F.sortIndex=B,t(c,F),y||f||(y=!0,K(T))),F},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(F){var I=h;return function(){var G=h;h=I;try{return F.apply(this,arguments)}finally{h=G}}}})(lm);om.exports=lm;var Qy=om.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=E,wt=Qy;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cm=new Set,pi={};function Ts(e,t){fr(e,t),fr(e+"Capture",t)}function fr(e,t){for(pi[e]=t,e=0;e<t.length;e++)cm.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=Object.prototype.hasOwnProperty,Xy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ep={},tp={};function Zy(e){return ec.call(tp,e)?!0:ec.call(ep,e)?!1:Xy.test(e)?tp[e]=!0:(ep[e]=!0,!1)}function ev(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tv(e,t,n,s){if(t===null||typeof t>"u"||ev(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,s,r,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ke[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ke[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ke[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ke[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ke[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ke[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ke[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ke[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ke[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pu=/[\-:]([a-z])/g;function Cu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pu,Cu);Ke[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pu,Cu);Ke[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pu,Cu);Ke[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ke[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ke[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tu(e,t,n,s){var r=Ke.hasOwnProperty(t)?Ke[t]:null;(r!==null?r.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tv(t,n,r,s)&&(n=null),s||r===null?Zy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,s=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var bn=Yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qi=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),Au=Symbol.for("react.strict_mode"),tc=Symbol.for("react.profiler"),um=Symbol.for("react.provider"),dm=Symbol.for("react.context"),Ou=Symbol.for("react.forward_ref"),nc=Symbol.for("react.suspense"),sc=Symbol.for("react.suspense_list"),Ru=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),pm=Symbol.for("react.offscreen"),np=Symbol.iterator;function Rr(e){return e===null||typeof e!="object"?null:(e=np&&e[np]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,al;function Wr(e){if(al===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);al=t&&t[1]||""}return`
`+al+e}var ol=!1;function ll(e,t){if(!e||ol)return"";ol=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,l=i.length-1;1<=o&&0<=l&&r[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==i[l]){var c=`
`+r[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ol=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Wr(e):""}function nv(e){switch(e.tag){case 5:return Wr(e.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 2:case 15:return e=ll(e.type,!1),e;case 11:return e=ll(e.type.render,!1),e;case 1:return e=ll(e.type,!0),e;default:return""}}function rc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hs:return"Fragment";case Ws:return"Portal";case tc:return"Profiler";case Au:return"StrictMode";case nc:return"Suspense";case sc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dm:return(e.displayName||"Context")+".Consumer";case um:return(e._context.displayName||"Context")+".Provider";case Ou:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ru:return t=e.displayName||null,t!==null?t:rc(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return rc(e(t))}catch{}}return null}function sv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rc(t);case 8:return t===Au?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rv(e){var t=hm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yi(e){e._valueTracker||(e._valueTracker=rv(e))}function fm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=hm(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ia(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ic(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sp(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mm(e,t){t=t.checked,t!=null&&Tu(e,"checked",t,!1)}function ac(e,t){mm(e,t);var n=Hn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oc(e,t.type,n):t.hasOwnProperty("defaultValue")&&oc(e,t.type,Hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function oc(e,t,n){(t!=="number"||Ia(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hr=Array.isArray;function lr(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Hn(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function lc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ip(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(Hr(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hn(n)}}function gm(e,t){var n=Hn(t.value),s=Hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function ap(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xi,ym=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xi=Xi||document.createElement("div"),Xi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iv=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(e){iv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yr[t]=Yr[e]})});function vm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yr.hasOwnProperty(e)&&Yr[e]?(""+t).trim():t+"px"}function bm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=vm(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}var av=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uc(e,t){if(t){if(av[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function dc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=null;function Du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hc=null,cr=null,ur=null;function op(e){if(e=$i(e)){if(typeof hc!="function")throw Error(z(280));var t=e.stateNode;t&&(t=So(t),hc(e.stateNode,e.type,t))}}function wm(e){cr?ur?ur.push(e):ur=[e]:cr=e}function jm(){if(cr){var e=cr,t=ur;if(ur=cr=null,op(e),t)for(e=0;e<t.length;e++)op(t[e])}}function _m(e,t){return e(t)}function km(){}var cl=!1;function Nm(e,t,n){if(cl)return e(t,n);cl=!0;try{return _m(e,t,n)}finally{cl=!1,(cr!==null||ur!==null)&&(km(),jm())}}function fi(e,t){var n=e.stateNode;if(n===null)return null;var s=So(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var fc=!1;if(mn)try{var Dr={};Object.defineProperty(Dr,"passive",{get:function(){fc=!0}}),window.addEventListener("test",Dr,Dr),window.removeEventListener("test",Dr,Dr)}catch{fc=!1}function ov(e,t,n,s,r,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Xr=!1,Ma=null,Fa=!1,mc=null,lv={onError:function(e){Xr=!0,Ma=e}};function cv(e,t,n,s,r,i,o,l,c){Xr=!1,Ma=null,ov.apply(lv,arguments)}function uv(e,t,n,s,r,i,o,l,c){if(cv.apply(this,arguments),Xr){if(Xr){var u=Ma;Xr=!1,Ma=null}else throw Error(z(198));Fa||(Fa=!0,mc=u)}}function As(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lp(e){if(As(e)!==e)throw Error(z(188))}function dv(e){var t=e.alternate;if(!t){if(t=As(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return lp(r),e;if(i===s)return lp(r),t;i=i.sibling}throw Error(z(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=i;break}if(l===s){o=!0,s=r,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,s=r;break}if(l===s){o=!0,s=i,n=r;break}l=l.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==s)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Em(e){return e=dv(e),e!==null?Pm(e):null}function Pm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pm(e);if(t!==null)return t;e=e.sibling}return null}var Cm=wt.unstable_scheduleCallback,cp=wt.unstable_cancelCallback,pv=wt.unstable_shouldYield,hv=wt.unstable_requestPaint,De=wt.unstable_now,fv=wt.unstable_getCurrentPriorityLevel,Iu=wt.unstable_ImmediatePriority,Tm=wt.unstable_UserBlockingPriority,$a=wt.unstable_NormalPriority,mv=wt.unstable_LowPriority,Am=wt.unstable_IdlePriority,jo=null,Jt=null;function gv(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(jo,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:vv,xv=Math.log,yv=Math.LN2;function vv(e){return e>>>=0,e===0?32:31-(xv(e)/yv|0)|0}var Zi=64,ea=4194304;function Gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function La(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=Gr(l):(i&=o,i!==0&&(s=Gr(i)))}else o=n&~r,o!==0?s=Gr(o):i!==0&&(s=Gr(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&r)&&(r=s&-s,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-zt(t),r=1<<n,s|=e[n],t&=~r;return s}function bv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wv(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-zt(i),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=bv(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function gc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Om(){var e=Zi;return Zi<<=1,!(Zi&4194240)&&(Zi=64),e}function ul(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function jv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-zt(n),i=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~i}}function Mu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-zt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var ve=0;function Rm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dm,Fu,Im,Mm,Fm,xc=!1,ta=[],Mn=null,Fn=null,$n=null,mi=new Map,gi=new Map,Cn=[],_v="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function up(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(t.pointerId)}}function Ir(e,t,n,s,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},t!==null&&(t=$i(t),t!==null&&Fu(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function kv(e,t,n,s,r){switch(t){case"focusin":return Mn=Ir(Mn,e,t,n,s,r),!0;case"dragenter":return Fn=Ir(Fn,e,t,n,s,r),!0;case"mouseover":return $n=Ir($n,e,t,n,s,r),!0;case"pointerover":var i=r.pointerId;return mi.set(i,Ir(mi.get(i)||null,e,t,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,gi.set(i,Ir(gi.get(i)||null,e,t,n,s,r)),!0}return!1}function $m(e){var t=xs(e.target);if(t!==null){var n=As(t);if(n!==null){if(t=n.tag,t===13){if(t=Sm(n),t!==null){e.blockedOn=t,Fm(e.priority,function(){Im(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ja(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);pc=s,n.target.dispatchEvent(s),pc=null}else return t=$i(n),t!==null&&Fu(t),e.blockedOn=n,!1;t.shift()}return!0}function dp(e,t,n){ja(e)&&n.delete(t)}function Nv(){xc=!1,Mn!==null&&ja(Mn)&&(Mn=null),Fn!==null&&ja(Fn)&&(Fn=null),$n!==null&&ja($n)&&($n=null),mi.forEach(dp),gi.forEach(dp)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,xc||(xc=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Nv)))}function xi(e){function t(r){return Mr(r,e)}if(0<ta.length){Mr(ta[0],e);for(var n=1;n<ta.length;n++){var s=ta[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Mn!==null&&Mr(Mn,e),Fn!==null&&Mr(Fn,e),$n!==null&&Mr($n,e),mi.forEach(t),gi.forEach(t),n=0;n<Cn.length;n++)s=Cn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)$m(n),n.blockedOn===null&&Cn.shift()}var dr=bn.ReactCurrentBatchConfig,za=!0;function Sv(e,t,n,s){var r=ve,i=dr.transition;dr.transition=null;try{ve=1,$u(e,t,n,s)}finally{ve=r,dr.transition=i}}function Ev(e,t,n,s){var r=ve,i=dr.transition;dr.transition=null;try{ve=4,$u(e,t,n,s)}finally{ve=r,dr.transition=i}}function $u(e,t,n,s){if(za){var r=yc(e,t,n,s);if(r===null)bl(e,t,s,Ua,n),up(e,s);else if(kv(r,e,t,n,s))s.stopPropagation();else if(up(e,s),t&4&&-1<_v.indexOf(e)){for(;r!==null;){var i=$i(r);if(i!==null&&Dm(i),i=yc(e,t,n,s),i===null&&bl(e,t,s,Ua,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else bl(e,t,s,null,n)}}var Ua=null;function yc(e,t,n,s){if(Ua=null,e=Du(s),e=xs(e),e!==null)if(t=As(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ua=e,null}function Lm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fv()){case Iu:return 1;case Tm:return 4;case $a:case mv:return 16;case Am:return 536870912;default:return 16}default:return 16}}var Rn=null,Lu=null,_a=null;function zm(){if(_a)return _a;var e,t=Lu,n=t.length,s,r="value"in Rn?Rn.value:Rn.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===r[i-s];s++);return _a=r.slice(e,1<s?1-s:void 0)}function ka(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function na(){return!0}function pp(){return!1}function kt(e){function t(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?na:pp,this.isPropagationStopped=pp,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),t}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zu=kt(Pr),Fi=Oe({},Pr,{view:0,detail:0}),Pv=kt(Fi),dl,pl,Fr,_o=Oe({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fr&&(Fr&&e.type==="mousemove"?(dl=e.screenX-Fr.screenX,pl=e.screenY-Fr.screenY):pl=dl=0,Fr=e),dl)},movementY:function(e){return"movementY"in e?e.movementY:pl}}),hp=kt(_o),Cv=Oe({},_o,{dataTransfer:0}),Tv=kt(Cv),Av=Oe({},Fi,{relatedTarget:0}),hl=kt(Av),Ov=Oe({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),Rv=kt(Ov),Dv=Oe({},Pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Iv=kt(Dv),Mv=Oe({},Pr,{data:0}),fp=kt(Mv),Fv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lv[e])?!!t[e]:!1}function Uu(){return zv}var Uv=Oe({},Fi,{key:function(e){if(e.key){var t=Fv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$v[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(e){return e.type==="keypress"?ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vv=kt(Uv),Bv=Oe({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=kt(Bv),qv=Oe({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),Wv=kt(qv),Hv=Oe({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gv=kt(Hv),Kv=Oe({},_o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jv=kt(Kv),Qv=[9,13,27,32],Vu=mn&&"CompositionEvent"in window,Zr=null;mn&&"documentMode"in document&&(Zr=document.documentMode);var Yv=mn&&"TextEvent"in window&&!Zr,Um=mn&&(!Vu||Zr&&8<Zr&&11>=Zr),gp=" ",xp=!1;function Vm(e,t){switch(e){case"keyup":return Qv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gs=!1;function Xv(e,t){switch(e){case"compositionend":return Bm(t);case"keypress":return t.which!==32?null:(xp=!0,gp);case"textInput":return e=t.data,e===gp&&xp?null:e;default:return null}}function Zv(e,t){if(Gs)return e==="compositionend"||!Vu&&Vm(e,t)?(e=zm(),_a=Lu=Rn=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Um&&t.locale!=="ko"?null:t.data;default:return null}}var eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eb[e.type]:t==="textarea"}function qm(e,t,n,s){wm(s),t=Va(t,"onChange"),0<t.length&&(n=new zu("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ei=null,yi=null;function tb(e){tg(e,0)}function ko(e){var t=Qs(e);if(fm(t))return e}function nb(e,t){if(e==="change")return t}var Wm=!1;if(mn){var fl;if(mn){var ml="oninput"in document;if(!ml){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),ml=typeof vp.oninput=="function"}fl=ml}else fl=!1;Wm=fl&&(!document.documentMode||9<document.documentMode)}function bp(){ei&&(ei.detachEvent("onpropertychange",Hm),yi=ei=null)}function Hm(e){if(e.propertyName==="value"&&ko(yi)){var t=[];qm(t,yi,e,Du(e)),Nm(tb,t)}}function sb(e,t,n){e==="focusin"?(bp(),ei=t,yi=n,ei.attachEvent("onpropertychange",Hm)):e==="focusout"&&bp()}function rb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ko(yi)}function ib(e,t){if(e==="click")return ko(t)}function ab(e,t){if(e==="input"||e==="change")return ko(t)}function ob(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:ob;function vi(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!ec.call(t,r)||!Vt(e[r],t[r]))return!1}return!0}function wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jp(e,t){var n=wp(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wp(n)}}function Gm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Km(){for(var e=window,t=Ia();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ia(e.document)}return t}function Bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lb(e){var t=Km(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gm(n.ownerDocument.documentElement,n)){if(s!==null&&Bu(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!e.extend&&i>s&&(r=s,s=i,i=r),r=jp(n,i);var o=jp(n,s);r&&o&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cb=mn&&"documentMode"in document&&11>=document.documentMode,Ks=null,vc=null,ti=null,bc=!1;function _p(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bc||Ks==null||Ks!==Ia(s)||(s=Ks,"selectionStart"in s&&Bu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ti&&vi(ti,s)||(ti=s,s=Va(vc,"onSelect"),0<s.length&&(t=new zu("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ks)))}function sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Js={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionend:sa("Transition","TransitionEnd")},gl={},Jm={};mn&&(Jm=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function No(e){if(gl[e])return gl[e];if(!Js[e])return e;var t=Js[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jm)return gl[e]=t[n];return e}var Qm=No("animationend"),Ym=No("animationiteration"),Xm=No("animationstart"),Zm=No("transitionend"),eg=new Map,kp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(e,t){eg.set(e,t),Ts(t,[e])}for(var xl=0;xl<kp.length;xl++){var yl=kp[xl],ub=yl.toLowerCase(),db=yl[0].toUpperCase()+yl.slice(1);Zn(ub,"on"+db)}Zn(Qm,"onAnimationEnd");Zn(Ym,"onAnimationIteration");Zn(Xm,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(Zm,"onTransitionEnd");fr("onMouseEnter",["mouseout","mouseover"]);fr("onMouseLeave",["mouseout","mouseover"]);fr("onPointerEnter",["pointerout","pointerover"]);fr("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kr));function Np(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,uv(s,t,void 0,e),e.currentTarget=null}function tg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;Np(r,l,u),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;Np(r,l,u),i=c}}}if(Fa)throw e=mc,Fa=!1,mc=null,e}function ke(e,t){var n=t[Nc];n===void 0&&(n=t[Nc]=new Set);var s=e+"__bubble";n.has(s)||(ng(t,e,2,!1),n.add(s))}function vl(e,t,n){var s=0;t&&(s|=4),ng(n,e,s,t)}var ra="_reactListening"+Math.random().toString(36).slice(2);function bi(e){if(!e[ra]){e[ra]=!0,cm.forEach(function(n){n!=="selectionchange"&&(pb.has(n)||vl(n,!1,e),vl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ra]||(t[ra]=!0,vl("selectionchange",!1,t))}}function ng(e,t,n,s){switch(Lm(t)){case 1:var r=Sv;break;case 4:r=Ev;break;default:r=$u}n=r.bind(null,t,n,e),r=void 0,!fc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function bl(e,t,n,s,r){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=xs(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}Nm(function(){var u=i,d=Du(n),p=[];e:{var h=eg.get(e);if(h!==void 0){var f=zu,y=e;switch(e){case"keypress":if(ka(n)===0)break e;case"keydown":case"keyup":f=Vv;break;case"focusin":y="focus",f=hl;break;case"focusout":y="blur",f=hl;break;case"beforeblur":case"afterblur":f=hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=hp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Tv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Wv;break;case Qm:case Ym:case Xm:f=Rv;break;case Zm:f=Gv;break;case"scroll":f=Pv;break;case"wheel":f=Jv;break;case"copy":case"cut":case"paste":f=Iv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=mp}var b=(t&4)!==0,N=!b&&e==="scroll",v=b?h!==null?h+"Capture":null:h;b=[];for(var g=u,m;g!==null;){m=g;var k=m.stateNode;if(m.tag===5&&k!==null&&(m=k,v!==null&&(k=fi(g,v),k!=null&&b.push(wi(g,k,m)))),N)break;g=g.return}0<b.length&&(h=new f(h,y,null,n,d),p.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==pc&&(y=n.relatedTarget||n.fromElement)&&(xs(y)||y[gn]))break e;if((f||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?xs(y):null,y!==null&&(N=As(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(b=hp,k="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=mp,k="onPointerLeave",v="onPointerEnter",g="pointer"),N=f==null?h:Qs(f),m=y==null?h:Qs(y),h=new b(k,g+"leave",f,n,d),h.target=N,h.relatedTarget=m,k=null,xs(d)===u&&(b=new b(v,g+"enter",y,n,d),b.target=m,b.relatedTarget=N,k=b),N=k,f&&y)t:{for(b=f,v=y,g=0,m=b;m;m=Ms(m))g++;for(m=0,k=v;k;k=Ms(k))m++;for(;0<g-m;)b=Ms(b),g--;for(;0<m-g;)v=Ms(v),m--;for(;g--;){if(b===v||v!==null&&b===v.alternate)break t;b=Ms(b),v=Ms(v)}b=null}else b=null;f!==null&&Sp(p,h,f,b,!1),y!==null&&N!==null&&Sp(p,N,y,b,!0)}}e:{if(h=u?Qs(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var T=nb;else if(yp(h))if(Wm)T=ab;else{T=rb;var P=sb}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=ib);if(T&&(T=T(e,u))){qm(p,T,n,d);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&oc(h,"number",h.value)}switch(P=u?Qs(u):window,e){case"focusin":(yp(P)||P.contentEditable==="true")&&(Ks=P,vc=u,ti=null);break;case"focusout":ti=vc=Ks=null;break;case"mousedown":bc=!0;break;case"contextmenu":case"mouseup":case"dragend":bc=!1,_p(p,n,d);break;case"selectionchange":if(cb)break;case"keydown":case"keyup":_p(p,n,d)}var _;if(Vu)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Gs?Vm(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Um&&n.locale!=="ko"&&(Gs||x!=="onCompositionStart"?x==="onCompositionEnd"&&Gs&&(_=zm()):(Rn=d,Lu="value"in Rn?Rn.value:Rn.textContent,Gs=!0)),P=Va(u,x),0<P.length&&(x=new fp(x,e,null,n,d),p.push({event:x,listeners:P}),_?x.data=_:(_=Bm(n),_!==null&&(x.data=_)))),(_=Yv?Xv(e,n):Zv(e,n))&&(u=Va(u,"onBeforeInput"),0<u.length&&(d=new fp("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=_))}tg(p,t)})}function wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Va(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=fi(e,n),i!=null&&s.unshift(wi(e,i,r)),i=fi(e,t),i!=null&&s.push(wi(e,i,r))),e=e.return}return s}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sp(e,t,n,s,r){for(var i=t._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=fi(n,i),c!=null&&o.unshift(wi(n,c,l))):r||(c=fi(n,i),c!=null&&o.push(wi(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var hb=/\r\n?/g,fb=/\u0000|\uFFFD/g;function Ep(e){return(typeof e=="string"?e:""+e).replace(hb,`
`).replace(fb,"")}function ia(e,t,n){if(t=Ep(t),Ep(e)!==t&&n)throw Error(z(425))}function Ba(){}var wc=null,jc=null;function _c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kc=typeof setTimeout=="function"?setTimeout:void 0,mb=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(e){return Pp.resolve(null).then(e).catch(xb)}:kc;function xb(e){setTimeout(function(){throw e})}function wl(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){e.removeChild(r),xi(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);xi(t)}function Ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Cr,ji="__reactProps$"+Cr,gn="__reactContainer$"+Cr,Nc="__reactEvents$"+Cr,yb="__reactListeners$"+Cr,vb="__reactHandles$"+Cr;function xs(e){var t=e[Kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[Kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cp(e);e!==null;){if(n=e[Kt])return n;e=Cp(e)}return t}e=n,n=e.parentNode}return null}function $i(e){return e=e[Kt]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function So(e){return e[ji]||null}var Sc=[],Ys=-1;function es(e){return{current:e}}function Ne(e){0>Ys||(e.current=Sc[Ys],Sc[Ys]=null,Ys--)}function je(e,t){Ys++,Sc[Ys]=e.current,e.current=t}var Gn={},et=es(Gn),ht=es(!1),ks=Gn;function mr(e,t){var n=e.type.contextTypes;if(!n)return Gn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function ft(e){return e=e.childContextTypes,e!=null}function qa(){Ne(ht),Ne(et)}function Tp(e,t,n){if(et.current!==Gn)throw Error(z(168));je(et,t),je(ht,n)}function sg(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in t))throw Error(z(108,sv(e)||"Unknown",r));return Oe({},n,s)}function Wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,ks=et.current,je(et,e),je(ht,ht.current),!0}function Ap(e,t,n){var s=e.stateNode;if(!s)throw Error(z(169));n?(e=sg(e,t,ks),s.__reactInternalMemoizedMergedChildContext=e,Ne(ht),Ne(et),je(et,e)):Ne(ht),je(ht,n)}var ln=null,Eo=!1,jl=!1;function rg(e){ln===null?ln=[e]:ln.push(e)}function bb(e){Eo=!0,rg(e)}function ts(){if(!jl&&ln!==null){jl=!0;var e=0,t=ve;try{var n=ln;for(ve=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}ln=null,Eo=!1}catch(r){throw ln!==null&&(ln=ln.slice(e+1)),Cm(Iu,ts),r}finally{ve=t,jl=!1}}return null}var Xs=[],Zs=0,Ha=null,Ga=0,Pt=[],Ct=0,Ns=null,cn=1,un="";function cs(e,t){Xs[Zs++]=Ga,Xs[Zs++]=Ha,Ha=e,Ga=t}function ig(e,t,n){Pt[Ct++]=cn,Pt[Ct++]=un,Pt[Ct++]=Ns,Ns=e;var s=cn;e=un;var r=32-zt(s)-1;s&=~(1<<r),n+=1;var i=32-zt(t)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,cn=1<<32-zt(t)+r|n<<r|s,un=i+e}else cn=1<<i|n<<r|s,un=e}function qu(e){e.return!==null&&(cs(e,1),ig(e,1,0))}function Wu(e){for(;e===Ha;)Ha=Xs[--Zs],Xs[Zs]=null,Ga=Xs[--Zs],Xs[Zs]=null;for(;e===Ns;)Ns=Pt[--Ct],Pt[Ct]=null,un=Pt[--Ct],Pt[Ct]=null,cn=Pt[--Ct],Pt[Ct]=null}var vt=null,yt=null,Se=!1,Lt=null;function ag(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Op(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,yt=Ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ns!==null?{id:cn,overflow:un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,yt=null,!0):!1;default:return!1}}function Ec(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pc(e){if(Se){var t=yt;if(t){var n=t;if(!Op(e,t)){if(Ec(e))throw Error(z(418));t=Ln(n.nextSibling);var s=vt;t&&Op(e,t)?ag(s,n):(e.flags=e.flags&-4097|2,Se=!1,vt=e)}}else{if(Ec(e))throw Error(z(418));e.flags=e.flags&-4097|2,Se=!1,vt=e}}}function Rp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function aa(e){if(e!==vt)return!1;if(!Se)return Rp(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_c(e.type,e.memoizedProps)),t&&(t=yt)){if(Ec(e))throw og(),Error(z(418));for(;t;)ag(e,t),t=Ln(t.nextSibling)}if(Rp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yt=Ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=vt?Ln(e.stateNode.nextSibling):null;return!0}function og(){for(var e=yt;e;)e=Ln(e.nextSibling)}function gr(){yt=vt=null,Se=!1}function Hu(e){Lt===null?Lt=[e]:Lt.push(e)}var wb=bn.ReactCurrentBatchConfig;function $r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var s=n.stateNode}if(!s)throw Error(z(147,e));var r=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=r.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function oa(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dp(e){var t=e._init;return t(e._payload)}function lg(e){function t(v,g){if(e){var m=v.deletions;m===null?(v.deletions=[g],v.flags|=16):m.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function s(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function r(v,g){return v=Bn(v,g),v.index=0,v.sibling=null,v}function i(v,g,m){return v.index=m,e?(m=v.alternate,m!==null?(m=m.index,m<g?(v.flags|=2,g):m):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,m,k){return g===null||g.tag!==6?(g=Cl(m,v.mode,k),g.return=v,g):(g=r(g,m),g.return=v,g)}function c(v,g,m,k){var T=m.type;return T===Hs?d(v,g,m.props.children,k,m.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Sn&&Dp(T)===g.type)?(k=r(g,m.props),k.ref=$r(v,g,m),k.return=v,k):(k=Aa(m.type,m.key,m.props,null,v.mode,k),k.ref=$r(v,g,m),k.return=v,k)}function u(v,g,m,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=Tl(m,v.mode,k),g.return=v,g):(g=r(g,m.children||[]),g.return=v,g)}function d(v,g,m,k,T){return g===null||g.tag!==7?(g=js(m,v.mode,k,T),g.return=v,g):(g=r(g,m),g.return=v,g)}function p(v,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Cl(""+g,v.mode,m),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qi:return m=Aa(g.type,g.key,g.props,null,v.mode,m),m.ref=$r(v,null,g),m.return=v,m;case Ws:return g=Tl(g,v.mode,m),g.return=v,g;case Sn:var k=g._init;return p(v,k(g._payload),m)}if(Hr(g)||Rr(g))return g=js(g,v.mode,m,null),g.return=v,g;oa(v,g)}return null}function h(v,g,m,k){var T=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return T!==null?null:l(v,g,""+m,k);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Qi:return m.key===T?c(v,g,m,k):null;case Ws:return m.key===T?u(v,g,m,k):null;case Sn:return T=m._init,h(v,g,T(m._payload),k)}if(Hr(m)||Rr(m))return T!==null?null:d(v,g,m,k,null);oa(v,m)}return null}function f(v,g,m,k,T){if(typeof k=="string"&&k!==""||typeof k=="number")return v=v.get(m)||null,l(g,v,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Qi:return v=v.get(k.key===null?m:k.key)||null,c(g,v,k,T);case Ws:return v=v.get(k.key===null?m:k.key)||null,u(g,v,k,T);case Sn:var P=k._init;return f(v,g,m,P(k._payload),T)}if(Hr(k)||Rr(k))return v=v.get(m)||null,d(g,v,k,T,null);oa(g,k)}return null}function y(v,g,m,k){for(var T=null,P=null,_=g,x=g=0,j=null;_!==null&&x<m.length;x++){_.index>x?(j=_,_=null):j=_.sibling;var S=h(v,_,m[x],k);if(S===null){_===null&&(_=j);break}e&&_&&S.alternate===null&&t(v,_),g=i(S,g,x),P===null?T=S:P.sibling=S,P=S,_=j}if(x===m.length)return n(v,_),Se&&cs(v,x),T;if(_===null){for(;x<m.length;x++)_=p(v,m[x],k),_!==null&&(g=i(_,g,x),P===null?T=_:P.sibling=_,P=_);return Se&&cs(v,x),T}for(_=s(v,_);x<m.length;x++)j=f(_,v,x,m[x],k),j!==null&&(e&&j.alternate!==null&&_.delete(j.key===null?x:j.key),g=i(j,g,x),P===null?T=j:P.sibling=j,P=j);return e&&_.forEach(function(C){return t(v,C)}),Se&&cs(v,x),T}function b(v,g,m,k){var T=Rr(m);if(typeof T!="function")throw Error(z(150));if(m=T.call(m),m==null)throw Error(z(151));for(var P=T=null,_=g,x=g=0,j=null,S=m.next();_!==null&&!S.done;x++,S=m.next()){_.index>x?(j=_,_=null):j=_.sibling;var C=h(v,_,S.value,k);if(C===null){_===null&&(_=j);break}e&&_&&C.alternate===null&&t(v,_),g=i(C,g,x),P===null?T=C:P.sibling=C,P=C,_=j}if(S.done)return n(v,_),Se&&cs(v,x),T;if(_===null){for(;!S.done;x++,S=m.next())S=p(v,S.value,k),S!==null&&(g=i(S,g,x),P===null?T=S:P.sibling=S,P=S);return Se&&cs(v,x),T}for(_=s(v,_);!S.done;x++,S=m.next())S=f(_,v,x,S.value,k),S!==null&&(e&&S.alternate!==null&&_.delete(S.key===null?x:S.key),g=i(S,g,x),P===null?T=S:P.sibling=S,P=S);return e&&_.forEach(function(D){return t(v,D)}),Se&&cs(v,x),T}function N(v,g,m,k){if(typeof m=="object"&&m!==null&&m.type===Hs&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Qi:e:{for(var T=m.key,P=g;P!==null;){if(P.key===T){if(T=m.type,T===Hs){if(P.tag===7){n(v,P.sibling),g=r(P,m.props.children),g.return=v,v=g;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Sn&&Dp(T)===P.type){n(v,P.sibling),g=r(P,m.props),g.ref=$r(v,P,m),g.return=v,v=g;break e}n(v,P);break}else t(v,P);P=P.sibling}m.type===Hs?(g=js(m.props.children,v.mode,k,m.key),g.return=v,v=g):(k=Aa(m.type,m.key,m.props,null,v.mode,k),k.ref=$r(v,g,m),k.return=v,v=k)}return o(v);case Ws:e:{for(P=m.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){n(v,g.sibling),g=r(g,m.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=Tl(m,v.mode,k),g.return=v,v=g}return o(v);case Sn:return P=m._init,N(v,g,P(m._payload),k)}if(Hr(m))return y(v,g,m,k);if(Rr(m))return b(v,g,m,k);oa(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(n(v,g.sibling),g=r(g,m),g.return=v,v=g):(n(v,g),g=Cl(m,v.mode,k),g.return=v,v=g),o(v)):n(v,g)}return N}var xr=lg(!0),cg=lg(!1),Ka=es(null),Ja=null,er=null,Gu=null;function Ku(){Gu=er=Ja=null}function Ju(e){var t=Ka.current;Ne(Ka),e._currentValue=t}function Cc(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function pr(e,t){Ja=e,Gu=er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pt=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(Gu!==e)if(e={context:e,memoizedValue:t,next:null},er===null){if(Ja===null)throw Error(z(308));er=e,Ja.dependencies={lanes:0,firstContext:e}}else er=er.next=e;return t}var ys=null;function Qu(e){ys===null?ys=[e]:ys.push(e)}function ug(e,t,n,s){var r=t.interleaved;return r===null?(n.next=n,Qu(t)):(n.next=r.next,r.next=n),t.interleaved=n,xn(e,s)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var En=!1;function Yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,xe&2){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,xn(e,n)}return r=s.interleaved,r===null?(t.next=t,Qu(s)):(t.next=r.next,r.next=t),s.interleaved=t,xn(e,n)}function Na(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Mu(e,n)}}function Ip(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qa(e,t,n,s){var r=e.updateQueue;En=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var p=r.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,f=l.eventTime;if((s&h)===h){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(h=t,f=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){p=y.call(f,p,h);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(f,p,h):y,h==null)break e;p=Oe({},p,h);break e;case 2:En=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=r.effects,h===null?r.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=p):d=d.next=f,o|=h;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;h=l,l=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(d===null&&(c=p),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,t=r.shared.interleaved,t!==null){r=t;do o|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);Es|=o,e.lanes=o,e.memoizedState=p}}function Mp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(z(191,r));r.call(s)}}}var Li={},Qt=es(Li),_i=es(Li),ki=es(Li);function vs(e){if(e===Li)throw Error(z(174));return e}function Xu(e,t){switch(je(ki,t),je(_i,e),je(Qt,Li),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cc(t,e)}Ne(Qt),je(Qt,t)}function yr(){Ne(Qt),Ne(_i),Ne(ki)}function pg(e){vs(ki.current);var t=vs(Qt.current),n=cc(t,e.type);t!==n&&(je(_i,e),je(Qt,n))}function Zu(e){_i.current===e&&(Ne(Qt),Ne(_i))}var Ce=es(0);function Ya(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _l=[];function ed(){for(var e=0;e<_l.length;e++)_l[e]._workInProgressVersionPrimary=null;_l.length=0}var Sa=bn.ReactCurrentDispatcher,kl=bn.ReactCurrentBatchConfig,Ss=0,Ae=null,ze=null,Be=null,Xa=!1,ni=!1,Ni=0,jb=0;function Je(){throw Error(z(321))}function td(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vt(e[n],t[n]))return!1;return!0}function nd(e,t,n,s,r,i){if(Ss=i,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sa.current=e===null||e.memoizedState===null?Sb:Eb,e=n(s,r),ni){i=0;do{if(ni=!1,Ni=0,25<=i)throw Error(z(301));i+=1,Be=ze=null,t.updateQueue=null,Sa.current=Pb,e=n(s,r)}while(ni)}if(Sa.current=Za,t=ze!==null&&ze.next!==null,Ss=0,Be=ze=Ae=null,Xa=!1,t)throw Error(z(300));return e}function sd(){var e=Ni!==0;return Ni=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ae.memoizedState=Be=e:Be=Be.next=e,Be}function Rt(){if(ze===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=Be===null?Ae.memoizedState:Be.next;if(t!==null)Be=t,ze=e;else{if(e===null)throw Error(z(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Be===null?Ae.memoizedState=Be=e:Be=Be.next=e}return Be}function Si(e,t){return typeof t=="function"?t(e):t}function Nl(e){var t=Rt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var s=ze,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ss&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,o=s):c=c.next=p,Ae.lanes|=d,Es|=d}u=u.next}while(u!==null&&u!==i);c===null?o=s:c.next=l,Vt(s,t.memoizedState)||(pt=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){r=e;do i=r.lane,Ae.lanes|=i,Es|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sl(e){var t=Rt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=e(i,o.action),o=o.next;while(o!==r);Vt(i,t.memoizedState)||(pt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function hg(){}function fg(e,t){var n=Ae,s=Rt(),r=t(),i=!Vt(s.memoizedState,r);if(i&&(s.memoizedState=r,pt=!0),s=s.queue,rd(xg.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Ei(9,gg.bind(null,n,s,r,t),void 0,null),qe===null)throw Error(z(349));Ss&30||mg(n,t,r)}return r}function mg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gg(e,t,n,s){t.value=n,t.getSnapshot=s,yg(t)&&vg(e)}function xg(e,t,n){return n(function(){yg(t)&&vg(e)})}function yg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vt(e,n)}catch{return!0}}function vg(e){var t=xn(e,1);t!==null&&Ut(t,e,1,-1)}function Fp(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:e},t.queue=e,e=e.dispatch=Nb.bind(null,Ae,e),[t.memoizedState,e]}function Ei(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function bg(){return Rt().memoizedState}function Ea(e,t,n,s){var r=Ht();Ae.flags|=e,r.memoizedState=Ei(1|t,n,void 0,s===void 0?null:s)}function Po(e,t,n,s){var r=Rt();s=s===void 0?null:s;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,s!==null&&td(s,o.deps)){r.memoizedState=Ei(t,n,i,s);return}}Ae.flags|=e,r.memoizedState=Ei(1|t,n,i,s)}function $p(e,t){return Ea(8390656,8,e,t)}function rd(e,t){return Po(2048,8,e,t)}function wg(e,t){return Po(4,2,e,t)}function jg(e,t){return Po(4,4,e,t)}function _g(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kg(e,t,n){return n=n!=null?n.concat([e]):null,Po(4,4,_g.bind(null,t,e),n)}function id(){}function Ng(e,t){var n=Rt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&td(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Sg(e,t){var n=Rt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&td(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Eg(e,t,n){return Ss&21?(Vt(n,t)||(n=Om(),Ae.lanes|=n,Es|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n)}function _b(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var s=kl.transition;kl.transition={};try{e(!1),t()}finally{ve=n,kl.transition=s}}function Pg(){return Rt().memoizedState}function kb(e,t,n){var s=Vn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Cg(e))Tg(t,n);else if(n=ug(e,t,n,s),n!==null){var r=rt();Ut(n,e,s,r),Ag(n,t,s)}}function Nb(e,t,n){var s=Vn(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cg(e))Tg(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(r.hasEagerState=!0,r.eagerState=l,Vt(l,o)){var c=t.interleaved;c===null?(r.next=r,Qu(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=ug(e,t,r,s),n!==null&&(r=rt(),Ut(n,e,s,r),Ag(n,t,s))}}function Cg(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Tg(e,t){ni=Xa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ag(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Mu(e,n)}}var Za={readContext:Ot,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},Sb={readContext:Ot,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:$p,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ea(4194308,4,_g.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ea(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ea(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ht();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=kb.bind(null,Ae,e),[s.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Fp,useDebugValue:id,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Fp(!1),t=e[0];return e=_b.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Ae,r=Ht();if(Se){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),qe===null)throw Error(z(349));Ss&30||mg(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,$p(xg.bind(null,s,i,e),[e]),s.flags|=2048,Ei(9,gg.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Ht(),t=qe.identifierPrefix;if(Se){var n=un,s=cn;n=(s&~(1<<32-zt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ni++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Eb={readContext:Ot,useCallback:Ng,useContext:Ot,useEffect:rd,useImperativeHandle:kg,useInsertionEffect:wg,useLayoutEffect:jg,useMemo:Sg,useReducer:Nl,useRef:bg,useState:function(){return Nl(Si)},useDebugValue:id,useDeferredValue:function(e){var t=Rt();return Eg(t,ze.memoizedState,e)},useTransition:function(){var e=Nl(Si)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:hg,useSyncExternalStore:fg,useId:Pg,unstable_isNewReconciler:!1},Pb={readContext:Ot,useCallback:Ng,useContext:Ot,useEffect:rd,useImperativeHandle:kg,useInsertionEffect:wg,useLayoutEffect:jg,useMemo:Sg,useReducer:Sl,useRef:bg,useState:function(){return Sl(Si)},useDebugValue:id,useDeferredValue:function(e){var t=Rt();return ze===null?t.memoizedState=e:Eg(t,ze.memoizedState,e)},useTransition:function(){var e=Sl(Si)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:hg,useSyncExternalStore:fg,useId:Pg,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tc(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Co={isMounted:function(e){return(e=e._reactInternals)?As(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=rt(),r=Vn(e),i=pn(s,r);i.payload=t,n!=null&&(i.callback=n),t=zn(e,i,r),t!==null&&(Ut(t,e,r,s),Na(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=rt(),r=Vn(e),i=pn(s,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=zn(e,i,r),t!==null&&(Ut(t,e,r,s),Na(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rt(),s=Vn(e),r=pn(n,s);r.tag=2,t!=null&&(r.callback=t),t=zn(e,r,s),t!==null&&(Ut(t,e,s,n),Na(t,e,s))}};function Lp(e,t,n,s,r,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!vi(n,s)||!vi(r,i):!0}function Og(e,t,n){var s=!1,r=Gn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ot(i):(r=ft(t)?ks:et.current,s=t.contextTypes,i=(s=s!=null)?mr(e,r):Gn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Co,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function zp(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Co.enqueueReplaceState(t,t.state,null)}function Ac(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Yu(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=Ot(i):(i=ft(t)?ks:et.current,r.context=mr(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Tc(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Co.enqueueReplaceState(r,r.state,null),Qa(e,n,r,s),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function vr(e,t){try{var n="",s=t;do n+=nv(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function El(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Oc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Cb=typeof WeakMap=="function"?WeakMap:Map;function Rg(e,t,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){to||(to=!0,Vc=s),Oc(e,t)},n}function Dg(e,t,n){n=pn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){Oc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Oc(e,t),typeof s!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Up(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Cb;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=Bb.bind(null,e,t,n),t.then(e,e))}function Vp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bp(e,t,n,s,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pn(-1,1),t.tag=2,zn(n,t,1))),n.lanes|=1),e)}var Tb=bn.ReactCurrentOwner,pt=!1;function nt(e,t,n,s){t.child=e===null?cg(t,null,n,s):xr(t,e.child,n,s)}function qp(e,t,n,s,r){n=n.render;var i=t.ref;return pr(t,r),s=nd(e,t,n,s,i,r),n=sd(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,yn(e,t,r)):(Se&&n&&qu(t),t.flags|=1,nt(e,t,s,r),t.child)}function Wp(e,t,n,s,r){if(e===null){var i=n.type;return typeof i=="function"&&!hd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ig(e,t,i,s,r)):(e=Aa(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:vi,n(o,s)&&e.ref===t.ref)return yn(e,t,r)}return t.flags|=1,e=Bn(i,s),e.ref=t.ref,e.return=t,t.child=e}function Ig(e,t,n,s,r){if(e!==null){var i=e.memoizedProps;if(vi(i,s)&&e.ref===t.ref)if(pt=!1,t.pendingProps=s=i,(e.lanes&r)!==0)e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,yn(e,t,r)}return Rc(e,t,n,s,r)}function Mg(e,t,n){var s=t.pendingProps,r=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(nr,xt),xt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(nr,xt),xt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,je(nr,xt),xt|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,je(nr,xt),xt|=s;return nt(e,t,r,n),t.child}function Fg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Rc(e,t,n,s,r){var i=ft(n)?ks:et.current;return i=mr(t,i),pr(t,r),n=nd(e,t,n,s,i,r),s=sd(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,yn(e,t,r)):(Se&&s&&qu(t),t.flags|=1,nt(e,t,n,r),t.child)}function Hp(e,t,n,s,r){if(ft(n)){var i=!0;Wa(t)}else i=!1;if(pr(t,r),t.stateNode===null)Pa(e,t),Og(t,n,s),Ac(t,n,s,r),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ot(u):(u=ft(n)?ks:et.current,u=mr(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&zp(t,o,s,u),En=!1;var h=t.memoizedState;o.state=h,Qa(t,s,o,r),c=t.memoizedState,l!==s||h!==c||ht.current||En?(typeof d=="function"&&(Tc(t,n,d,s),c=t.memoizedState),(l=En||Lp(t,n,l,s,h,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,dg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Mt(t.type,l),o.props=u,p=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ot(c):(c=ft(n)?ks:et.current,c=mr(t,c));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||h!==c)&&zp(t,o,s,c),En=!1,h=t.memoizedState,o.state=h,Qa(t,s,o,r);var y=t.memoizedState;l!==p||h!==y||ht.current||En?(typeof f=="function"&&(Tc(t,n,f,s),y=t.memoizedState),(u=En||Lp(t,n,u,s,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=y),o.props=s,o.state=y,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Dc(e,t,n,s,i,r)}function Dc(e,t,n,s,r,i){Fg(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return r&&Ap(t,n,!1),yn(e,t,i);s=t.stateNode,Tb.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=xr(t,e.child,null,i),t.child=xr(t,null,l,i)):nt(e,t,l,i),t.memoizedState=s.state,r&&Ap(t,n,!0),t.child}function $g(e){var t=e.stateNode;t.pendingContext?Tp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tp(e,t.context,!1),Xu(e,t.containerInfo)}function Gp(e,t,n,s,r){return gr(),Hu(r),t.flags|=256,nt(e,t,n,s),t.child}var Ic={dehydrated:null,treeContext:null,retryLane:0};function Mc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lg(e,t,n){var s=t.pendingProps,r=Ce.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(r&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),je(Ce,r&1),e===null)return Pc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Oo(o,s,0,null),e=js(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mc(n),t.memoizedState=Ic,e):ad(t,o));if(r=e.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return Ab(e,t,o,s,l,r,n);if(i){i=s.fallback,o=t.mode,r=e.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==r?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Bn(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=Bn(l,i):(i=js(i,o,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?Mc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ic,s}return i=e.child,e=i.sibling,s=Bn(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function ad(e,t){return t=Oo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function la(e,t,n,s){return s!==null&&Hu(s),xr(t,e.child,null,n),e=ad(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ab(e,t,n,s,r,i,o){if(n)return t.flags&256?(t.flags&=-257,s=El(Error(z(422))),la(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,r=t.mode,s=Oo({mode:"visible",children:s.children},r,0,null),i=js(i,r,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&xr(t,e.child,null,o),t.child.memoizedState=Mc(o),t.memoizedState=Ic,i);if(!(t.mode&1))return la(e,t,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(z(419)),s=El(i,s,void 0),la(e,t,o,s)}if(l=(o&e.childLanes)!==0,pt||l){if(s=qe,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,xn(e,r),Ut(s,e,r,-1))}return pd(),s=El(Error(z(421))),la(e,t,o,s)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=qb.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,yt=Ln(r.nextSibling),vt=t,Se=!0,Lt=null,e!==null&&(Pt[Ct++]=cn,Pt[Ct++]=un,Pt[Ct++]=Ns,cn=e.id,un=e.overflow,Ns=t),t=ad(t,s.children),t.flags|=4096,t)}function Kp(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Cc(e.return,t,n)}function Pl(e,t,n,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function zg(e,t,n){var s=t.pendingProps,r=s.revealOrder,i=s.tail;if(nt(e,t,s.children,n),s=Ce.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kp(e,n,t);else if(e.tag===19)Kp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(je(Ce,s),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Ya(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Pl(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ya(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Pl(t,!0,n,null,i);break;case"together":Pl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Es|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=Bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ob(e,t,n){switch(t.tag){case 3:$g(t),gr();break;case 5:pg(t);break;case 1:ft(t.type)&&Wa(t);break;case 4:Xu(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;je(Ka,s._currentValue),s._currentValue=r;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(je(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?Lg(e,t,n):(je(Ce,Ce.current&1),e=yn(e,t,n),e!==null?e.sibling:null);je(Ce,Ce.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return zg(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),je(Ce,Ce.current),s)break;return null;case 22:case 23:return t.lanes=0,Mg(e,t,n)}return yn(e,t,n)}var Ug,Fc,Vg,Bg;Ug=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fc=function(){};Vg=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,vs(Qt.current);var i=null;switch(n){case"input":r=ic(e,r),s=ic(e,s),i=[];break;case"select":r=Oe({},r,{value:void 0}),s=Oe({},s,{value:void 0}),i=[];break;case"textarea":r=lc(e,r),s=lc(e,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ba)}uc(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ke("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Bg=function(e,t,n,s){n!==s&&(t.flags|=4)};function Lr(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Rb(e,t,n){var s=t.pendingProps;switch(Wu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return ft(t.type)&&qa(),Qe(t),null;case 3:return s=t.stateNode,yr(),Ne(ht),Ne(et),ed(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(Wc(Lt),Lt=null))),Fc(e,t),Qe(t),null;case 5:Zu(t);var r=vs(ki.current);if(n=t.type,e!==null&&t.stateNode!=null)Vg(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(z(166));return Qe(t),null}if(e=vs(Qt.current),aa(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Kt]=t,s[ji]=i,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(r=0;r<Kr.length;r++)ke(Kr[r],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":sp(s,i),ke("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ke("invalid",s);break;case"textarea":ip(s,i),ke("invalid",s)}uc(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&ia(s.textContent,l,e),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ia(s.textContent,l,e),r=["children",""+l]):pi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ke("scroll",s)}switch(n){case"input":Yi(s),rp(s,i,!0);break;case"textarea":Yi(s),ap(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Ba)}s=r,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[Kt]=t,e[ji]=s,Ug(e,t,!1,!1),t.stateNode=e;e:{switch(o=dc(n,s),n){case"dialog":ke("cancel",e),ke("close",e),r=s;break;case"iframe":case"object":case"embed":ke("load",e),r=s;break;case"video":case"audio":for(r=0;r<Kr.length;r++)ke(Kr[r],e);r=s;break;case"source":ke("error",e),r=s;break;case"img":case"image":case"link":ke("error",e),ke("load",e),r=s;break;case"details":ke("toggle",e),r=s;break;case"input":sp(e,s),r=ic(e,s),ke("invalid",e);break;case"option":r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=Oe({},s,{value:void 0}),ke("invalid",e);break;case"textarea":ip(e,s),r=lc(e,s),ke("invalid",e);break;default:r=s}uc(n,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?bm(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ym(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&hi(e,c):typeof c=="number"&&hi(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ke("scroll",e):c!=null&&Tu(e,i,c,o))}switch(n){case"input":Yi(e),rp(e,s,!1);break;case"textarea":Yi(e),ap(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Hn(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?lr(e,!!s.multiple,i,!1):s.defaultValue!=null&&lr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Ba)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qe(t),null;case 6:if(e&&t.stateNode!=null)Bg(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(z(166));if(n=vs(ki.current),vs(Qt.current),aa(t)){if(s=t.stateNode,n=t.memoizedProps,s[Kt]=t,(i=s.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:ia(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ia(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Kt]=t,t.stateNode=s}return Qe(t),null;case 13:if(Ne(Ce),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&yt!==null&&t.mode&1&&!(t.flags&128))og(),gr(),t.flags|=98560,i=!1;else if(i=aa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Kt]=t}else gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qe(t),i=!1}else Lt!==null&&(Wc(Lt),Lt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Ue===0&&(Ue=3):pd())),t.updateQueue!==null&&(t.flags|=4),Qe(t),null);case 4:return yr(),Fc(e,t),e===null&&bi(t.stateNode.containerInfo),Qe(t),null;case 10:return Ju(t.type._context),Qe(t),null;case 17:return ft(t.type)&&qa(),Qe(t),null;case 19:if(Ne(Ce),i=t.memoizedState,i===null)return Qe(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Lr(i,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ya(e),o!==null){for(t.flags|=128,Lr(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(Ce,Ce.current&1|2),t.child}e=e.sibling}i.tail!==null&&De()>br&&(t.flags|=128,s=!0,Lr(i,!1),t.lanes=4194304)}else{if(!s)if(e=Ya(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Lr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Se)return Qe(t),null}else 2*De()-i.renderingStartTime>br&&n!==1073741824&&(t.flags|=128,s=!0,Lr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=De(),t.sibling=null,n=Ce.current,je(Ce,s?n&1|2:n&1),t):(Qe(t),null);case 22:case 23:return dd(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?xt&1073741824&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function Db(e,t){switch(Wu(t),t.tag){case 1:return ft(t.type)&&qa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(),Ne(ht),Ne(et),ed(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zu(t),null;case 13:if(Ne(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Ce),null;case 4:return yr(),null;case 10:return Ju(t.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var ca=!1,Ze=!1,Ib=typeof WeakSet=="function"?WeakSet:Set,J=null;function tr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Re(e,t,s)}else n.current=null}function $c(e,t,n){try{n()}catch(s){Re(e,t,s)}}var Jp=!1;function Mb(e,t){if(wc=za,e=Km(),Bu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||r!==0&&p.nodeType!==3||(l=o+r),p!==i||s!==0&&p.nodeType!==3||(c=o+s),p.nodeType===3&&(o+=p.nodeValue.length),(f=p.firstChild)!==null;)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++u===r&&(l=o),h===i&&++d===s&&(c=o),(f=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(jc={focusedElem:e,selectionRange:n},za=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,N=y.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?b:Mt(t.type,b),N);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){Re(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return y=Jp,Jp=!1,y}function si(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&$c(t,n,i)}r=r.next}while(r!==s)}}function To(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Lc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qg(e){var t=e.alternate;t!==null&&(e.alternate=null,qg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kt],delete t[ji],delete t[Nc],delete t[yb],delete t[vb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wg(e){return e.tag===5||e.tag===3||e.tag===4}function Qp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ba));else if(s!==4&&(e=e.child,e!==null))for(zc(e,t,n),e=e.sibling;e!==null;)zc(e,t,n),e=e.sibling}function Uc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Uc(e,t,n),e=e.sibling;e!==null;)Uc(e,t,n),e=e.sibling}var He=null,Ft=!1;function jn(e,t,n){for(n=n.child;n!==null;)Hg(e,t,n),n=n.sibling}function Hg(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(jo,n)}catch{}switch(n.tag){case 5:Ze||tr(n,t);case 6:var s=He,r=Ft;He=null,jn(e,t,n),He=s,Ft=r,He!==null&&(Ft?(e=He,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Ft?(e=He,n=n.stateNode,e.nodeType===8?wl(e.parentNode,n):e.nodeType===1&&wl(e,n),xi(e)):wl(He,n.stateNode));break;case 4:s=He,r=Ft,He=n.stateNode.containerInfo,Ft=!0,jn(e,t,n),He=s,Ft=r;break;case 0:case 11:case 14:case 15:if(!Ze&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$c(n,t,o),r=r.next}while(r!==s)}jn(e,t,n);break;case 1:if(!Ze&&(tr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Re(n,t,l)}jn(e,t,n);break;case 21:jn(e,t,n);break;case 22:n.mode&1?(Ze=(s=Ze)||n.memoizedState!==null,jn(e,t,n),Ze=s):jn(e,t,n);break;default:jn(e,t,n)}}function Yp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ib),t.forEach(function(s){var r=Wb.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Dt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:He=l.stateNode,Ft=!1;break e;case 3:He=l.stateNode.containerInfo,Ft=!0;break e;case 4:He=l.stateNode.containerInfo,Ft=!0;break e}l=l.return}if(He===null)throw Error(z(160));Hg(i,o,r),He=null,Ft=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){Re(r,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gg(t,e),t=t.sibling}function Gg(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),qt(e),s&4){try{si(3,e,e.return),To(3,e)}catch(b){Re(e,e.return,b)}try{si(5,e,e.return)}catch(b){Re(e,e.return,b)}}break;case 1:Dt(t,e),qt(e),s&512&&n!==null&&tr(n,n.return);break;case 5:if(Dt(t,e),qt(e),s&512&&n!==null&&tr(n,n.return),e.flags&32){var r=e.stateNode;try{hi(r,"")}catch(b){Re(e,e.return,b)}}if(s&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mm(r,i),dc(l,o);var u=dc(l,i);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?bm(r,p):d==="dangerouslySetInnerHTML"?ym(r,p):d==="children"?hi(r,p):Tu(r,d,p,u)}switch(l){case"input":ac(r,i);break;case"textarea":gm(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?lr(r,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?lr(r,!!i.multiple,i.defaultValue,!0):lr(r,!!i.multiple,i.multiple?[]:"",!1))}r[ji]=i}catch(b){Re(e,e.return,b)}}break;case 6:if(Dt(t,e),qt(e),s&4){if(e.stateNode===null)throw Error(z(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(b){Re(e,e.return,b)}}break;case 3:if(Dt(t,e),qt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{xi(t.containerInfo)}catch(b){Re(e,e.return,b)}break;case 4:Dt(t,e),qt(e);break;case 13:Dt(t,e),qt(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(cd=De())),s&4&&Yp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ze=(u=Ze)||d,Dt(t,e),Ze=u):Dt(t,e),qt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(p=J=d;J!==null;){switch(h=J,f=h.child,h.tag){case 0:case 11:case 14:case 15:si(4,h,h.return);break;case 1:tr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){s=h,n=h.return;try{t=s,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Re(s,n,b)}}break;case 5:tr(h,h.return);break;case 22:if(h.memoizedState!==null){Zp(p);continue}}f!==null?(f.return=h,J=f):Zp(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{r=p.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vm("display",o))}catch(b){Re(e,e.return,b)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(b){Re(e,e.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Dt(t,e),qt(e),s&4&&Yp(e);break;case 21:break;default:Dt(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wg(n)){var s=n;break e}n=n.return}throw Error(z(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(hi(r,""),s.flags&=-33);var i=Qp(e);Uc(e,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=Qp(e);zc(e,l,o);break;default:throw Error(z(161))}}catch(c){Re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fb(e,t,n){J=e,Kg(e)}function Kg(e,t,n){for(var s=(e.mode&1)!==0;J!==null;){var r=J,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||ca;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||Ze;l=ca;var u=Ze;if(ca=o,(Ze=c)&&!u)for(J=r;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?eh(r):c!==null?(c.return=o,J=c):eh(r);for(;i!==null;)J=i,Kg(i),i=i.sibling;J=r,ca=l,Ze=u}Xp(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,J=i):Xp(e)}}function Xp(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||To(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Ze)if(n===null)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Mp(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&xi(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ze||t.flags&512&&Lc(t)}catch(h){Re(t,t.return,h)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function Zp(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function eh(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{To(4,t)}catch(c){Re(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var r=t.return;try{s.componentDidMount()}catch(c){Re(t,r,c)}}var i=t.return;try{Lc(t)}catch(c){Re(t,i,c)}break;case 5:var o=t.return;try{Lc(t)}catch(c){Re(t,o,c)}}}catch(c){Re(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var $b=Math.ceil,eo=bn.ReactCurrentDispatcher,od=bn.ReactCurrentOwner,At=bn.ReactCurrentBatchConfig,xe=0,qe=null,$e=null,Ge=0,xt=0,nr=es(0),Ue=0,Pi=null,Es=0,Ao=0,ld=0,ri=null,ut=null,cd=0,br=1/0,rn=null,to=!1,Vc=null,Un=null,ua=!1,Dn=null,no=0,ii=0,Bc=null,Ca=-1,Ta=0;function rt(){return xe&6?De():Ca!==-1?Ca:Ca=De()}function Vn(e){return e.mode&1?xe&2&&Ge!==0?Ge&-Ge:wb.transition!==null?(Ta===0&&(Ta=Om()),Ta):(e=ve,e!==0||(e=window.event,e=e===void 0?16:Lm(e.type)),e):1}function Ut(e,t,n,s){if(50<ii)throw ii=0,Bc=null,Error(z(185));Mi(e,n,s),(!(xe&2)||e!==qe)&&(e===qe&&(!(xe&2)&&(Ao|=n),Ue===4&&Tn(e,Ge)),mt(e,s),n===1&&xe===0&&!(t.mode&1)&&(br=De()+500,Eo&&ts()))}function mt(e,t){var n=e.callbackNode;wv(e,t);var s=La(e,e===qe?Ge:0);if(s===0)n!==null&&cp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&cp(n),t===1)e.tag===0?bb(th.bind(null,e)):rg(th.bind(null,e)),gb(function(){!(xe&6)&&ts()}),n=null;else{switch(Rm(s)){case 1:n=Iu;break;case 4:n=Tm;break;case 16:n=$a;break;case 536870912:n=Am;break;default:n=$a}n=n0(n,Jg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jg(e,t){if(Ca=-1,Ta=0,xe&6)throw Error(z(327));var n=e.callbackNode;if(hr()&&e.callbackNode!==n)return null;var s=La(e,e===qe?Ge:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=so(e,s);else{t=s;var r=xe;xe|=2;var i=Yg();(qe!==e||Ge!==t)&&(rn=null,br=De()+500,ws(e,t));do try{Ub();break}catch(l){Qg(e,l)}while(!0);Ku(),eo.current=i,xe=r,$e!==null?t=0:(qe=null,Ge=0,t=Ue)}if(t!==0){if(t===2&&(r=gc(e),r!==0&&(s=r,t=qc(e,r))),t===1)throw n=Pi,ws(e,0),Tn(e,s),mt(e,De()),n;if(t===6)Tn(e,s);else{if(r=e.current.alternate,!(s&30)&&!Lb(r)&&(t=so(e,s),t===2&&(i=gc(e),i!==0&&(s=i,t=qc(e,i))),t===1))throw n=Pi,ws(e,0),Tn(e,s),mt(e,De()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(z(345));case 2:us(e,ut,rn);break;case 3:if(Tn(e,s),(s&130023424)===s&&(t=cd+500-De(),10<t)){if(La(e,0)!==0)break;if(r=e.suspendedLanes,(r&s)!==s){rt(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=kc(us.bind(null,e,ut,rn),t);break}us(e,ut,rn);break;case 4:if(Tn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,r=-1;0<s;){var o=31-zt(s);i=1<<o,o=t[o],o>r&&(r=o),s&=~i}if(s=r,s=De()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*$b(s/1960))-s,10<s){e.timeoutHandle=kc(us.bind(null,e,ut,rn),s);break}us(e,ut,rn);break;case 5:us(e,ut,rn);break;default:throw Error(z(329))}}}return mt(e,De()),e.callbackNode===n?Jg.bind(null,e):null}function qc(e,t){var n=ri;return e.current.memoizedState.isDehydrated&&(ws(e,t).flags|=256),e=so(e,t),e!==2&&(t=ut,ut=n,t!==null&&Wc(t)),e}function Wc(e){ut===null?ut=e:ut.push.apply(ut,e)}function Lb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Vt(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~ld,t&=~Ao,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),s=1<<n;e[n]=-1,t&=~s}}function th(e){if(xe&6)throw Error(z(327));hr();var t=La(e,0);if(!(t&1))return mt(e,De()),null;var n=so(e,t);if(e.tag!==0&&n===2){var s=gc(e);s!==0&&(t=s,n=qc(e,s))}if(n===1)throw n=Pi,ws(e,0),Tn(e,t),mt(e,De()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,us(e,ut,rn),mt(e,De()),null}function ud(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(br=De()+500,Eo&&ts())}}function Ps(e){Dn!==null&&Dn.tag===0&&!(xe&6)&&hr();var t=xe;xe|=1;var n=At.transition,s=ve;try{if(At.transition=null,ve=1,e)return e()}finally{ve=s,At.transition=n,xe=t,!(xe&6)&&ts()}}function dd(){xt=nr.current,Ne(nr)}function ws(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mb(n)),$e!==null)for(n=$e.return;n!==null;){var s=n;switch(Wu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&qa();break;case 3:yr(),Ne(ht),Ne(et),ed();break;case 5:Zu(s);break;case 4:yr();break;case 13:Ne(Ce);break;case 19:Ne(Ce);break;case 10:Ju(s.type._context);break;case 22:case 23:dd()}n=n.return}if(qe=e,$e=e=Bn(e.current,null),Ge=xt=t,Ue=0,Pi=null,ld=Ao=Es=0,ut=ri=null,ys!==null){for(t=0;t<ys.length;t++)if(n=ys[t],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}ys=null}return e}function Qg(e,t){do{var n=$e;try{if(Ku(),Sa.current=Za,Xa){for(var s=Ae.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Xa=!1}if(Ss=0,Be=ze=Ae=null,ni=!1,Ni=0,od.current=null,n===null||n.return===null){Ue=1,Pi=t,$e=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Ge,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Vp(o);if(f!==null){f.flags&=-257,Bp(f,o,l,i,t),f.mode&1&&Up(i,u,t),t=f,c=u;var y=t.updateQueue;if(y===null){var b=new Set;b.add(c),t.updateQueue=b}else y.add(c);break e}else{if(!(t&1)){Up(i,u,t),pd();break e}c=Error(z(426))}}else if(Se&&l.mode&1){var N=Vp(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Bp(N,o,l,i,t),Hu(vr(c,l));break e}}i=c=vr(c,l),Ue!==4&&(Ue=2),ri===null?ri=[i]:ri.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Rg(i,c,t);Ip(i,v);break e;case 1:l=c;var g=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Un===null||!Un.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Dg(i,l,t);Ip(i,k);break e}}i=i.return}while(i!==null)}Zg(n)}catch(T){t=T,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function Yg(){var e=eo.current;return eo.current=Za,e===null?Za:e}function pd(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),qe===null||!(Es&268435455)&&!(Ao&268435455)||Tn(qe,Ge)}function so(e,t){var n=xe;xe|=2;var s=Yg();(qe!==e||Ge!==t)&&(rn=null,ws(e,t));do try{zb();break}catch(r){Qg(e,r)}while(!0);if(Ku(),xe=n,eo.current=s,$e!==null)throw Error(z(261));return qe=null,Ge=0,Ue}function zb(){for(;$e!==null;)Xg($e)}function Ub(){for(;$e!==null&&!pv();)Xg($e)}function Xg(e){var t=t0(e.alternate,e,xt);e.memoizedProps=e.pendingProps,t===null?Zg(e):$e=t,od.current=null}function Zg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Db(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,$e=null;return}}else if(n=Rb(n,t,xt),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Ue===0&&(Ue=5)}function us(e,t,n){var s=ve,r=At.transition;try{At.transition=null,ve=1,Vb(e,t,n,s)}finally{At.transition=r,ve=s}return null}function Vb(e,t,n,s){do hr();while(Dn!==null);if(xe&6)throw Error(z(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(jv(e,i),e===qe&&($e=qe=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ua||(ua=!0,n0($a,function(){return hr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=At.transition,At.transition=null;var o=ve;ve=1;var l=xe;xe|=4,od.current=null,Mb(e,n),Gg(n,e),lb(jc),za=!!wc,jc=wc=null,e.current=n,Fb(n),hv(),xe=l,ve=o,At.transition=i}else e.current=n;if(ua&&(ua=!1,Dn=e,no=r),i=e.pendingLanes,i===0&&(Un=null),gv(n.stateNode),mt(e,De()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(to)throw to=!1,e=Vc,Vc=null,e;return no&1&&e.tag!==0&&hr(),i=e.pendingLanes,i&1?e===Bc?ii++:(ii=0,Bc=e):ii=0,ts(),null}function hr(){if(Dn!==null){var e=Rm(no),t=At.transition,n=ve;try{if(At.transition=null,ve=16>e?16:e,Dn===null)var s=!1;else{if(e=Dn,Dn=null,no=0,xe&6)throw Error(z(331));var r=xe;for(xe|=4,J=e.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:si(8,d,i)}var p=d.child;if(p!==null)p.return=d,J=p;else for(;J!==null;){d=J;var h=d.sibling,f=d.return;if(qg(d),d===u){J=null;break}if(h!==null){h.return=f,J=h;break}J=f}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var N=b.sibling;b.sibling=null,b=N}while(b!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:si(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,J=v;break e}J=i.return}}var g=e.current;for(J=g;J!==null;){o=J;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,J=m;else e:for(o=g;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:To(9,l)}}catch(T){Re(l,l.return,T)}if(l===o){J=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,J=k;break e}J=l.return}}if(xe=r,ts(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(jo,e)}catch{}s=!0}return s}finally{ve=n,At.transition=t}}return!1}function nh(e,t,n){t=vr(n,t),t=Rg(e,t,1),e=zn(e,t,1),t=rt(),e!==null&&(Mi(e,1,t),mt(e,t))}function Re(e,t,n){if(e.tag===3)nh(e,e,n);else for(;t!==null;){if(t.tag===3){nh(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Un===null||!Un.has(s))){e=vr(n,e),e=Dg(t,e,1),t=zn(t,e,1),e=rt(),t!==null&&(Mi(t,1,e),mt(t,e));break}}t=t.return}}function Bb(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&n,qe===e&&(Ge&n)===n&&(Ue===4||Ue===3&&(Ge&130023424)===Ge&&500>De()-cd?ws(e,0):ld|=n),mt(e,t)}function e0(e,t){t===0&&(e.mode&1?(t=ea,ea<<=1,!(ea&130023424)&&(ea=4194304)):t=1);var n=rt();e=xn(e,t),e!==null&&(Mi(e,t,n),mt(e,n))}function qb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),e0(e,n)}function Wb(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(t),e0(e,n)}var t0;t0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ht.current)pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pt=!1,Ob(e,t,n);pt=!!(e.flags&131072)}else pt=!1,Se&&t.flags&1048576&&ig(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Pa(e,t),e=t.pendingProps;var r=mr(t,et.current);pr(t,n),r=nd(null,t,s,e,r,n);var i=sd();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ft(s)?(i=!0,Wa(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Yu(t),r.updater=Co,t.stateNode=r,r._reactInternals=t,Ac(t,s,e,n),t=Dc(null,t,s,!0,i,n)):(t.tag=0,Se&&i&&qu(t),nt(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Pa(e,t),e=t.pendingProps,r=s._init,s=r(s._payload),t.type=s,r=t.tag=Gb(s),e=Mt(s,e),r){case 0:t=Rc(null,t,s,e,n);break e;case 1:t=Hp(null,t,s,e,n);break e;case 11:t=qp(null,t,s,e,n);break e;case 14:t=Wp(null,t,s,Mt(s.type,e),n);break e}throw Error(z(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Mt(s,r),Rc(e,t,s,r,n);case 1:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Mt(s,r),Hp(e,t,s,r,n);case 3:e:{if($g(t),e===null)throw Error(z(387));s=t.pendingProps,i=t.memoizedState,r=i.element,dg(e,t),Qa(t,s,null,n);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=vr(Error(z(423)),t),t=Gp(e,t,s,n,r);break e}else if(s!==r){r=vr(Error(z(424)),t),t=Gp(e,t,s,n,r);break e}else for(yt=Ln(t.stateNode.containerInfo.firstChild),vt=t,Se=!0,Lt=null,n=cg(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gr(),s===r){t=yn(e,t,n);break e}nt(e,t,s,n)}t=t.child}return t;case 5:return pg(t),e===null&&Pc(t),s=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,o=r.children,_c(s,r)?o=null:i!==null&&_c(s,i)&&(t.flags|=32),Fg(e,t),nt(e,t,o,n),t.child;case 6:return e===null&&Pc(t),null;case 13:return Lg(e,t,n);case 4:return Xu(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=xr(t,null,s,n):nt(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Mt(s,r),qp(e,t,s,r,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,je(Ka,s._currentValue),s._currentValue=o,i!==null)if(Vt(i.value,o)){if(i.children===r.children&&!ht.current){t=yn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=pn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Cc(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Cc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nt(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,pr(t,n),r=Ot(r),s=s(r),t.flags|=1,nt(e,t,s,n),t.child;case 14:return s=t.type,r=Mt(s,t.pendingProps),r=Mt(s.type,r),Wp(e,t,s,r,n);case 15:return Ig(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:Mt(s,r),Pa(e,t),t.tag=1,ft(s)?(e=!0,Wa(t)):e=!1,pr(t,n),Og(t,s,r),Ac(t,s,r,n),Dc(null,t,s,!0,e,n);case 19:return zg(e,t,n);case 22:return Mg(e,t,n)}throw Error(z(156,t.tag))};function n0(e,t){return Cm(e,t)}function Hb(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,s){return new Hb(e,t,n,s)}function hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gb(e){if(typeof e=="function")return hd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ou)return 11;if(e===Ru)return 14}return 2}function Bn(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Aa(e,t,n,s,r,i){var o=2;if(s=e,typeof e=="function")hd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Hs:return js(n.children,r,i,t);case Au:o=8,r|=8;break;case tc:return e=Tt(12,n,t,r|2),e.elementType=tc,e.lanes=i,e;case nc:return e=Tt(13,n,t,r),e.elementType=nc,e.lanes=i,e;case sc:return e=Tt(19,n,t,r),e.elementType=sc,e.lanes=i,e;case pm:return Oo(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case um:o=10;break e;case dm:o=9;break e;case Ou:o=11;break e;case Ru:o=14;break e;case Sn:o=16,s=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=Tt(o,n,t,r),t.elementType=e,t.type=s,t.lanes=i,t}function js(e,t,n,s){return e=Tt(7,e,s,t),e.lanes=n,e}function Oo(e,t,n,s){return e=Tt(22,e,s,t),e.elementType=pm,e.lanes=n,e.stateNode={isHidden:!1},e}function Cl(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function Tl(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kb(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function fd(e,t,n,s,r,i,o,l,c){return e=new Kb(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yu(i),e}function Jb(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function s0(e){if(!e)return Gn;e=e._reactInternals;e:{if(As(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(ft(n))return sg(e,n,t)}return t}function r0(e,t,n,s,r,i,o,l,c){return e=fd(n,s,!0,e,r,i,o,l,c),e.context=s0(null),n=e.current,s=rt(),r=Vn(n),i=pn(s,r),i.callback=t??null,zn(n,i,r),e.current.lanes=r,Mi(e,r,s),mt(e,s),e}function Ro(e,t,n,s){var r=t.current,i=rt(),o=Vn(r);return n=s0(n),t.context===null?t.context=n:t.pendingContext=n,t=pn(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=zn(r,t,o),e!==null&&(Ut(e,r,o,i),Na(e,r,o)),o}function ro(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function md(e,t){sh(e,t),(e=e.alternate)&&sh(e,t)}function Qb(){return null}var i0=typeof reportError=="function"?reportError:function(e){console.error(e)};function gd(e){this._internalRoot=e}Do.prototype.render=gd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Ro(e,t,null,null)};Do.prototype.unmount=gd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ps(function(){Ro(null,e,null,null)}),t[gn]=null}};function Do(e){this._internalRoot=e}Do.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Cn.length&&t!==0&&t<Cn[n].priority;n++);Cn.splice(n,0,e),n===0&&$m(e)}};function xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rh(){}function Yb(e,t,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=ro(o);i.call(u)}}var o=r0(t,s,e,0,null,!1,!1,"",rh);return e._reactRootContainer=o,e[gn]=o.current,bi(e.nodeType===8?e.parentNode:e),Ps(),o}for(;r=e.lastChild;)e.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=ro(c);l.call(u)}}var c=fd(e,0,!1,null,null,!1,!1,"",rh);return e._reactRootContainer=c,e[gn]=c.current,bi(e.nodeType===8?e.parentNode:e),Ps(function(){Ro(t,c,n,s)}),c}function Mo(e,t,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var l=r;r=function(){var c=ro(o);l.call(c)}}Ro(t,o,e,r)}else o=Yb(n,t,e,r,s);return ro(o)}Dm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gr(t.pendingLanes);n!==0&&(Mu(t,n|1),mt(t,De()),!(xe&6)&&(br=De()+500,ts()))}break;case 13:Ps(function(){var s=xn(e,1);if(s!==null){var r=rt();Ut(s,e,1,r)}}),md(e,1)}};Fu=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=rt();Ut(t,e,134217728,n)}md(e,134217728)}};Im=function(e){if(e.tag===13){var t=Vn(e),n=xn(e,t);if(n!==null){var s=rt();Ut(n,e,t,s)}md(e,t)}};Mm=function(){return ve};Fm=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};hc=function(e,t,n){switch(t){case"input":if(ac(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=So(s);if(!r)throw Error(z(90));fm(s),ac(s,r)}}}break;case"textarea":gm(e,n);break;case"select":t=n.value,t!=null&&lr(e,!!n.multiple,t,!1)}};_m=ud;km=Ps;var Xb={usingClientEntryPoint:!1,Events:[$i,Qs,So,wm,jm,ud]},zr={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zb={bundleType:zr.bundleType,version:zr.version,rendererPackageName:zr.rendererPackageName,rendererConfig:zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Em(e),e===null?null:e.stateNode},findFiberByHostInstance:zr.findFiberByHostInstance||Qb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{jo=da.inject(Zb),Jt=da}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xb;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xd(t))throw Error(z(200));return Jb(e,t,null,n)};_t.createRoot=function(e,t){if(!xd(e))throw Error(z(299));var n=!1,s="",r=i0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=fd(e,1,!1,null,null,n,!1,s,r),e[gn]=t.current,bi(e.nodeType===8?e.parentNode:e),new gd(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Em(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return Ps(e)};_t.hydrate=function(e,t,n){if(!Io(t))throw Error(z(200));return Mo(null,e,t,!0,n)};_t.hydrateRoot=function(e,t,n){if(!xd(e))throw Error(z(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=i0;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=r0(t,null,e,1,n??null,r,!1,i,o),e[gn]=t.current,bi(e),s)for(e=0;e<s.length;e++)n=s[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Do(t)};_t.render=function(e,t,n){if(!Io(t))throw Error(z(200));return Mo(null,e,t,!1,n)};_t.unmountComponentAtNode=function(e){if(!Io(e))throw Error(z(40));return e._reactRootContainer?(Ps(function(){Mo(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};_t.unstable_batchedUpdates=ud;_t.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Io(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Mo(e,t,n,!1,s)};_t.version="18.3.1-next-f1338f8080-20240426";function a0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a0)}catch(e){console.error(e)}}a0(),am.exports=_t;var ew=am.exports,o0,ih=ew;o0=ih.createRoot,ih.hydrateRoot;const l0=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Fo=E.createContext({}),$o=E.createContext(null),Lo=typeof document<"u",yd=Lo?E.useLayoutEffect:E.useEffect,c0=E.createContext({strict:!1}),vd=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),tw="framerAppearId",u0="data-"+vd(tw);function nw(e,t,n,s){const{visualElement:r}=E.useContext(Fo),i=E.useContext(c0),o=E.useContext($o),l=E.useContext(l0).reducedMotion,c=E.useRef();s=s||i.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;E.useInsertionEffect(()=>{u&&u.update(n,o)});const d=E.useRef(!!(n[u0]&&!window.HandoffComplete));return yd(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function sr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function sw(e,t,n){return E.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):sr(n)&&(n.current=s))},[t])}function Ci(e){return typeof e=="string"||Array.isArray(e)}function zo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const bd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wd=["initial",...bd];function Uo(e){return zo(e.animate)||wd.some(t=>Ci(e[t]))}function d0(e){return!!(Uo(e)||e.variants)}function rw(e,t){if(Uo(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Ci(n)?n:void 0,animate:Ci(s)?s:void 0}}return e.inherit!==!1?t:{}}function iw(e){const{initial:t,animate:n}=rw(e,E.useContext(Fo));return E.useMemo(()=>({initial:t,animate:n}),[ah(t),ah(n)])}function ah(e){return Array.isArray(e)?e.join(" "):e}const oh={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ti={};for(const e in oh)Ti[e]={isEnabled:t=>oh[e].some(n=>!!t[n])};function aw(e){for(const t in e)Ti[t]={...Ti[t],...e[t]}}const jd=E.createContext({}),p0=E.createContext({}),ow=Symbol.for("motionComponentSymbol");function lw({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:r}){e&&aw(e);function i(l,c){let u;const d={...E.useContext(l0),...l,layoutId:cw(l)},{isStatic:p}=d,h=iw(l),f=s(l,p);if(!p&&Lo){h.visualElement=nw(r,f,d,t);const y=E.useContext(p0),b=E.useContext(c0).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,b,e,y))}return E.createElement(Fo.Provider,{value:h},u&&h.visualElement?E.createElement(u,{visualElement:h.visualElement,...d}):null,n(r,l,sw(f,h.visualElement,c),f,p,h.visualElement))}const o=E.forwardRef(i);return o[ow]=r,o}function cw({layoutId:e}){const t=E.useContext(jd).id;return t&&e!==void 0?t+"-"+e:e}function uw(e){function t(s,r={}){return lw(e(s,r))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(s,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const dw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _d(e){return typeof e!="string"||e.includes("-")?!1:!!(dw.indexOf(e)>-1||/[A-Z]/.test(e))}const io={};function pw(e){Object.assign(io,e)}const zi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Os=new Set(zi);function h0(e,{layout:t,layoutId:n}){return Os.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!io[e]||e==="opacity")}const gt=e=>!!(e&&e.getVelocity),hw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fw=zi.length;function mw(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},s,r){let i="";for(let o=0;o<fw;o++){const l=zi[o];if(e[l]!==void 0){const c=hw[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),r?i=r(e,s?"":i):n&&s&&(i="none"),i}const f0=e=>t=>typeof t=="string"&&t.startsWith(e),m0=f0("--"),Hc=f0("var(--"),gw=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,xw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Kn=(e,t,n)=>Math.min(Math.max(n,e),t),Rs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ai={...Rs,transform:e=>Kn(0,1,e)},pa={...Rs,default:1},oi=e=>Math.round(e*1e5)/1e5,Vo=/(-)?([\d]*\.?[\d])+/g,g0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,yw=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ui(e){return typeof e=="string"}const Vi=e=>({test:t=>Ui(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kn=Vi("deg"),Yt=Vi("%"),ie=Vi("px"),vw=Vi("vh"),bw=Vi("vw"),lh={...Yt,parse:e=>Yt.parse(e)/100,transform:e=>Yt.transform(e*100)},ch={...Rs,transform:Math.round},x0={borderWidth:ie,borderTopWidth:ie,borderRightWidth:ie,borderBottomWidth:ie,borderLeftWidth:ie,borderRadius:ie,radius:ie,borderTopLeftRadius:ie,borderTopRightRadius:ie,borderBottomRightRadius:ie,borderBottomLeftRadius:ie,width:ie,maxWidth:ie,height:ie,maxHeight:ie,size:ie,top:ie,right:ie,bottom:ie,left:ie,padding:ie,paddingTop:ie,paddingRight:ie,paddingBottom:ie,paddingLeft:ie,margin:ie,marginTop:ie,marginRight:ie,marginBottom:ie,marginLeft:ie,rotate:kn,rotateX:kn,rotateY:kn,rotateZ:kn,scale:pa,scaleX:pa,scaleY:pa,scaleZ:pa,skew:kn,skewX:kn,skewY:kn,distance:ie,translateX:ie,translateY:ie,translateZ:ie,x:ie,y:ie,z:ie,perspective:ie,transformPerspective:ie,opacity:ai,originX:lh,originY:lh,originZ:ie,zIndex:ch,fillOpacity:ai,strokeOpacity:ai,numOctaves:ch};function kd(e,t,n,s){const{style:r,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const p in t){const h=t[p];if(m0(p)){i[p]=h;continue}const f=x0[p],y=xw(h,f);if(Os.has(p)){if(c=!0,o[p]=y,!d)continue;h!==(f.default||0)&&(d=!1)}else p.startsWith("origin")?(u=!0,l[p]=y):r[p]=y}if(t.transform||(c||s?r.transform=mw(e.transform,n,d,s):r.transform&&(r.transform="none")),u){const{originX:p="50%",originY:h="50%",originZ:f=0}=l;r.transformOrigin=`${p} ${h} ${f}`}}const Nd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function y0(e,t,n){for(const s in t)!gt(t[s])&&!h0(s,n)&&(e[s]=t[s])}function ww({transformTemplate:e},t,n){return E.useMemo(()=>{const s=Nd();return kd(s,t,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[t])}function jw(e,t,n){const s=e.style||{},r={};return y0(r,s,e),Object.assign(r,ww(e,t,n)),e.transformValues?e.transformValues(r):r}function _w(e,t,n){const s={},r=jw(e,t,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const kw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ao(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kw.has(e)}let v0=e=>!ao(e);function Nw(e){e&&(v0=t=>t.startsWith("on")?!ao(t):e(t))}try{Nw(require("@emotion/is-prop-valid").default)}catch{}function Sw(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(v0(r)||n===!0&&ao(r)||!t&&!ao(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}function uh(e,t,n){return typeof e=="string"?e:ie.transform(t+n*e)}function Ew(e,t,n){const s=uh(t,e.x,e.width),r=uh(n,e.y,e.height);return`${s} ${r}`}const Pw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Cw={offset:"strokeDashoffset",array:"strokeDasharray"};function Tw(e,t,n=1,s=0,r=!0){e.pathLength=1;const i=r?Pw:Cw;e[i.offset]=ie.transform(-s);const o=ie.transform(t),l=ie.transform(n);e[i.array]=`${o} ${l}`}function Sd(e,{attrX:t,attrY:n,attrScale:s,originX:r,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,p,h){if(kd(e,u,d,h),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:y,dimensions:b}=e;f.transform&&(b&&(y.transform=f.transform),delete f.transform),b&&(r!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=Ew(b,r!==void 0?r:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),o!==void 0&&Tw(f,o,l,c,!1)}const b0=()=>({...Nd(),attrs:{}}),Ed=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Aw(e,t,n,s){const r=E.useMemo(()=>{const i=b0();return Sd(i,t,{enableHardwareAcceleration:!1},Ed(s),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};y0(i,e.style,e),r.style={...i,...r.style}}return r}function Ow(e=!1){return(n,s,r,{latestValues:i},o)=>{const c=(_d(n)?Aw:_w)(s,i,o,n),d={...Sw(s,typeof n=="string",e),...c,ref:r},{children:p}=s,h=E.useMemo(()=>gt(p)?p.get():p,[p]);return E.createElement(n,{...d,children:h})}}function w0(e,{style:t,vars:n},s,r){Object.assign(e.style,t,r&&r.getProjectionStyles(s));for(const i in n)e.style.setProperty(i,n[i])}const j0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _0(e,t,n,s){w0(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(j0.has(r)?r:vd(r),t.attrs[r])}function Pd(e,t){const{style:n}=e,s={};for(const r in n)(gt(n[r])||t.style&&gt(t.style[r])||h0(r,e))&&(s[r]=n[r]);return s}function k0(e,t){const n=Pd(e,t);for(const s in e)if(gt(e[s])||gt(t[s])){const r=zi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=e[s]}return n}function Cd(e,t,n,s={},r={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,r)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,r)),t}function N0(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const oo=e=>Array.isArray(e),Rw=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Dw=e=>oo(e)?e[e.length-1]||0:e;function Oa(e){const t=gt(e)?e.get():e;return Rw(t)?t.toValue():t}function Iw({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,r,i){const o={latestValues:Mw(s,r,i,e),renderState:t()};return n&&(o.mount=l=>n(s,l,o)),o}const S0=e=>(t,n)=>{const s=E.useContext(Fo),r=E.useContext($o),i=()=>Iw(e,t,s,r);return n?i():N0(i)};function Mw(e,t,n,s){const r={},i=s(e,{});for(const h in i)r[h]=Oa(i[h]);let{initial:o,animate:l}=e;const c=Uo(e),u=d0(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const p=d?l:o;return p&&typeof p!="boolean"&&!zo(p)&&(Array.isArray(p)?p:[p]).forEach(f=>{const y=Cd(e,f);if(!y)return;const{transitionEnd:b,transition:N,...v}=y;for(const g in v){let m=v[g];if(Array.isArray(m)){const k=d?m.length-1:0;m=m[k]}m!==null&&(r[g]=m)}for(const g in b)r[g]=b[g]}),r}const Ie=e=>e;class dh{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Fw(e){let t=new dh,n=new dh,s=0,r=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const p=d&&r,h=p?t:n;return u&&o.add(c),h.add(c)&&p&&r&&(s=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(r){i=!0;return}if(r=!0,[t,n]=[n,t],n.clear(),s=t.order.length,s)for(let u=0;u<s;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}r=!1,i&&(i=!1,l.process(c))}};return l}const ha=["prepare","read","update","preRender","render","postRender"],$w=40;function Lw(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=ha.reduce((p,h)=>(p[h]=Fw(()=>n=!0),p),{}),o=p=>i[p].process(r),l=()=>{const p=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(p-r.timestamp,$w),1),r.timestamp=p,r.isProcessing=!0,ha.forEach(o),r.isProcessing=!1,n&&t&&(s=!1,e(l))},c=()=>{n=!0,s=!0,r.isProcessing||e(l)};return{schedule:ha.reduce((p,h)=>{const f=i[h];return p[h]=(y,b=!1,N=!1)=>(n||c(),f.schedule(y,b,N)),p},{}),cancel:p=>ha.forEach(h=>i[h].cancel(p)),state:r,steps:i}}const{schedule:_e,cancel:vn,state:Xe,steps:Al}=Lw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ie,!0),zw={useVisualState:S0({scrapeMotionValuesFromProps:k0,createRenderState:b0,onMount:(e,t,{renderState:n,latestValues:s})=>{_e.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),_e.render(()=>{Sd(n,s,{enableHardwareAcceleration:!1},Ed(t.tagName),e.transformTemplate),_0(t,n)})}})},Uw={useVisualState:S0({scrapeMotionValuesFromProps:Pd,createRenderState:Nd})};function Vw(e,{forwardMotionProps:t=!1},n,s){return{..._d(e)?zw:Uw,preloadedFeatures:n,useRender:Ow(t),createVisualElement:s,Component:e}}function dn(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const E0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Bo(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Bw=e=>t=>E0(t)&&e(t,Bo(t));function hn(e,t,n,s){return dn(e,t,Bw(n),s)}const qw=(e,t)=>n=>t(e(n)),qn=(...e)=>e.reduce(qw);function P0(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const ph=P0("dragHorizontal"),hh=P0("dragVertical");function C0(e){let t=!1;if(e==="y")t=hh();else if(e==="x")t=ph();else{const n=ph(),s=hh();n&&s?t=()=>{n(),s()}:(n&&n(),s&&s())}return t}function T0(){const e=C0(!0);return e?(e(),!1):!0}class ns{constructor(t){this.isMounted=!1,this.node=t}update(){}}function fh(e,t){const n="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),r=(i,o)=>{if(i.pointerType==="touch"||T0())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[s]&&_e.update(()=>l[s](i,o))};return hn(e.current,n,r,{passive:!e.getProps()[s]})}class Ww extends ns{mount(){this.unmount=qn(fh(this.node,!0),fh(this.node,!1))}unmount(){}}class Hw extends ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qn(dn(this.node.current,"focus",()=>this.onFocus()),dn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const A0=(e,t)=>t?e===t?!0:A0(e,t.parentElement):!1;function Ol(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Bo(n))}class Gw extends ns{constructor(){super(...arguments),this.removeStartListeners=Ie,this.removeEndListeners=Ie,this.removeAccessibleListeners=Ie,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=hn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:p}=this.node.getProps();_e.update(()=>{!p&&!A0(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(s.onTap||s.onPointerUp)}),o=hn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=qn(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Ol("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&_e.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=dn(this.node.current,"keyup",o),Ol("down",(l,c)=>{this.startPress(l,c)})},n=dn(this.node.current,"keydown",t),s=()=>{this.isPressing&&Ol("cancel",(i,o)=>this.cancelPress(i,o))},r=dn(this.node.current,"blur",s);this.removeAccessibleListeners=qn(n,r)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&_e.update(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!T0()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&_e.update(()=>s(t,n))}mount(){const t=this.node.getProps(),n=hn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=dn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=qn(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Gc=new WeakMap,Rl=new WeakMap,Kw=e=>{const t=Gc.get(e.target);t&&t(e)},Jw=e=>{e.forEach(Kw)};function Qw({root:e,...t}){const n=e||document;Rl.has(n)||Rl.set(n,{});const s=Rl.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(Jw,{root:e,...t})),s[r]}function Yw(e,t,n){const s=Qw(t);return Gc.set(e,n),s.observe(e),()=>{Gc.delete(e),s.unobserve(e)}}const Xw={some:0,all:1};class Zw extends ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Xw[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),h=u?d:p;h&&h(c)};return Yw(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(ej(t,n))&&this.startObserver()}unmount(){}}function ej({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const tj={inView:{Feature:Zw},tap:{Feature:Gw},focus:{Feature:Hw},hover:{Feature:Ww}};function O0(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function nj(e){const t={};return e.values.forEach((n,s)=>t[s]=n.get()),t}function sj(e){const t={};return e.values.forEach((n,s)=>t[s]=n.getVelocity()),t}function qo(e,t,n){const s=e.getProps();return Cd(s,t,n!==void 0?n:s.custom,nj(e),sj(e))}let Td=Ie;const _s=e=>e*1e3,fn=e=>e/1e3,rj={current:!1},R0=e=>Array.isArray(e)&&typeof e[0]=="number";function D0(e){return!!(!e||typeof e=="string"&&I0[e]||R0(e)||Array.isArray(e)&&e.every(D0))}const Jr=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,I0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jr([0,.65,.55,1]),circOut:Jr([.55,0,1,.45]),backIn:Jr([.31,.01,.66,-.59]),backOut:Jr([.33,1.53,.69,.99])};function M0(e){if(e)return R0(e)?Jr(e):Array.isArray(e)?e.map(M0):I0[e]}function ij(e,t,n,{delay:s=0,duration:r,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=M0(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function aj(e,{repeat:t,repeatType:n="loop"}){const s=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[s]}const F0=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,oj=1e-7,lj=12;function cj(e,t,n,s,r){let i,o,l=0;do o=t+(n-t)/2,i=F0(o,s,r)-e,i>0?n=o:t=o;while(Math.abs(i)>oj&&++l<lj);return o}function Bi(e,t,n,s){if(e===t&&n===s)return Ie;const r=i=>cj(i,0,1,e,n);return i=>i===0||i===1?i:F0(r(i),t,s)}const uj=Bi(.42,0,1,1),dj=Bi(0,0,.58,1),$0=Bi(.42,0,.58,1),pj=e=>Array.isArray(e)&&typeof e[0]!="number",L0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,z0=e=>t=>1-e(1-t),Ad=e=>1-Math.sin(Math.acos(e)),U0=z0(Ad),hj=L0(Ad),V0=Bi(.33,1.53,.69,.99),Od=z0(V0),fj=L0(Od),mj=e=>(e*=2)<1?.5*Od(e):.5*(2-Math.pow(2,-10*(e-1))),gj={linear:Ie,easeIn:uj,easeInOut:$0,easeOut:dj,circIn:Ad,circInOut:hj,circOut:U0,backIn:Od,backInOut:fj,backOut:V0,anticipate:mj},mh=e=>{if(Array.isArray(e)){Td(e.length===4);const[t,n,s,r]=e;return Bi(t,n,s,r)}else if(typeof e=="string")return gj[e];return e},Rd=(e,t)=>n=>!!(Ui(n)&&yw.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),B0=(e,t,n)=>s=>{if(!Ui(s))return s;const[r,i,o,l]=s.match(Vo);return{[e]:parseFloat(r),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},xj=e=>Kn(0,255,e),Dl={...Rs,transform:e=>Math.round(xj(e))},bs={test:Rd("rgb","red"),parse:B0("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Dl.transform(e)+", "+Dl.transform(t)+", "+Dl.transform(n)+", "+oi(ai.transform(s))+")"};function yj(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Kc={test:Rd("#"),parse:yj,transform:bs.transform},rr={test:Rd("hsl","hue"),parse:B0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Yt.transform(oi(t))+", "+Yt.transform(oi(n))+", "+oi(ai.transform(s))+")"},tt={test:e=>bs.test(e)||Kc.test(e)||rr.test(e),parse:e=>bs.test(e)?bs.parse(e):rr.test(e)?rr.parse(e):Kc.parse(e),transform:e=>Ui(e)?e:e.hasOwnProperty("red")?bs.transform(e):rr.transform(e)},Te=(e,t,n)=>-n*e+n*t+e;function Il(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vj({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,i=0,o=0;if(!t)r=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;r=Il(c,l,e+1/3),i=Il(c,l,e),o=Il(c,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}const Ml=(e,t,n)=>{const s=e*e;return Math.sqrt(Math.max(0,n*(t*t-s)+s))},bj=[Kc,bs,rr],wj=e=>bj.find(t=>t.test(e));function gh(e){const t=wj(e);let n=t.parse(e);return t===rr&&(n=vj(n)),n}const q0=(e,t)=>{const n=gh(e),s=gh(t),r={...n};return i=>(r.red=Ml(n.red,s.red,i),r.green=Ml(n.green,s.green,i),r.blue=Ml(n.blue,s.blue,i),r.alpha=Te(n.alpha,s.alpha,i),bs.transform(r))};function jj(e){var t,n;return isNaN(e)&&Ui(e)&&(((t=e.match(Vo))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(g0))===null||n===void 0?void 0:n.length)||0)>0}const W0={regex:gw,countKey:"Vars",token:"${v}",parse:Ie},H0={regex:g0,countKey:"Colors",token:"${c}",parse:tt.parse},G0={regex:Vo,countKey:"Numbers",token:"${n}",parse:Rs.parse};function Fl(e,{regex:t,countKey:n,token:s,parse:r}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...i.map(r)))}function lo(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Fl(n,W0),Fl(n,H0),Fl(n,G0),n}function K0(e){return lo(e).values}function J0(e){const{values:t,numColors:n,numVars:s,tokenised:r}=lo(e),i=t.length;return o=>{let l=r;for(let c=0;c<i;c++)c<s?l=l.replace(W0.token,o[c]):c<s+n?l=l.replace(H0.token,tt.transform(o[c])):l=l.replace(G0.token,oi(o[c]));return l}}const _j=e=>typeof e=="number"?0:e;function kj(e){const t=K0(e);return J0(e)(t.map(_j))}const Jn={test:jj,parse:K0,createTransformer:J0,getAnimatableNone:kj},Q0=(e,t)=>n=>`${n>0?t:e}`;function Y0(e,t){return typeof e=="number"?n=>Te(e,t,n):tt.test(e)?q0(e,t):e.startsWith("var(")?Q0(e,t):Z0(e,t)}const X0=(e,t)=>{const n=[...e],s=n.length,r=e.map((i,o)=>Y0(i,t[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}},Nj=(e,t)=>{const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=Y0(e[r],t[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}},Z0=(e,t)=>{const n=Jn.createTransformer(t),s=lo(e),r=lo(t);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?qn(X0(s.values,r.values),n):Q0(e,t)},Ai=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},xh=(e,t)=>n=>Te(e,t,n);function Sj(e){return typeof e=="number"?xh:typeof e=="string"?tt.test(e)?q0:Z0:Array.isArray(e)?X0:typeof e=="object"?Nj:xh}function Ej(e,t,n){const s=[],r=n||Sj(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=r(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ie:t;l=qn(c,l)}s.push(l)}return s}function ex(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const i=e.length;if(Td(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Ej(t,s,r),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const p=Ai(e[d],e[d+1],u);return o[d](p)};return n?u=>c(Kn(e[0],e[i-1],u)):c}function Pj(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=Ai(0,t,s);e.push(Te(n,1,r))}}function Cj(e){const t=[0];return Pj(t,e.length-1),t}function Tj(e,t){return e.map(n=>n*t)}function Aj(e,t){return e.map(()=>t||$0).splice(0,e.length-1)}function co({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=pj(s)?s.map(mh):mh(s),i={done:!1,value:t[0]},o=Tj(n&&n.length===t.length?n:Cj(t),e),l=ex(o,t,{ease:Array.isArray(r)?r:Aj(t,r)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function tx(e,t){return t?e*(1e3/t):0}const Oj=5;function nx(e,t,n){const s=Math.max(t-Oj,0);return tx(n-e(s),t-s)}const $l=.001,Rj=.01,Dj=10,Ij=.05,Mj=1;function Fj({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let r,i,o=1-t;o=Kn(Ij,Mj,o),e=Kn(Rj,Dj,fn(e)),o<1?(r=u=>{const d=u*o,p=d*e,h=d-n,f=Jc(u,o),y=Math.exp(-p);return $l-h/f*y},i=u=>{const p=u*o*e,h=p*n+n,f=Math.pow(o,2)*Math.pow(u,2)*e,y=Math.exp(-p),b=Jc(Math.pow(u,2),o);return(-r(u)+$l>0?-1:1)*((h-f)*y)/b}):(r=u=>{const d=Math.exp(-u*e),p=(u-n)*e+1;return-$l+d*p},i=u=>{const d=Math.exp(-u*e),p=(n-u)*(e*e);return d*p});const l=5/e,c=Lj(r,i,l);if(e=_s(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:e}}}const $j=12;function Lj(e,t,n){let s=n;for(let r=1;r<$j;r++)s=s-e(s)/t(s);return s}function Jc(e,t){return e*Math.sqrt(1-t*t)}const zj=["duration","bounce"],Uj=["stiffness","damping","mass"];function yh(e,t){return t.some(n=>e[n]!==void 0)}function Vj(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!yh(e,Uj)&&yh(e,zj)){const n=Fj(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function sx({keyframes:e,restDelta:t,restSpeed:n,...s}){const r=e[0],i=e[e.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:d,velocity:p,isResolvedFromDuration:h}=Vj({...s,velocity:-fn(s.velocity||0)}),f=p||0,y=c/(2*Math.sqrt(l*u)),b=i-r,N=fn(Math.sqrt(l/u)),v=Math.abs(b)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let g;if(y<1){const m=Jc(N,y);g=k=>{const T=Math.exp(-y*N*k);return i-T*((f+y*N*b)/m*Math.sin(m*k)+b*Math.cos(m*k))}}else if(y===1)g=m=>i-Math.exp(-N*m)*(b+(f+N*b)*m);else{const m=N*Math.sqrt(y*y-1);g=k=>{const T=Math.exp(-y*N*k),P=Math.min(m*k,300);return i-T*((f+y*N*b)*Math.sinh(P)+m*b*Math.cosh(P))/m}}return{calculatedDuration:h&&d||null,next:m=>{const k=g(m);if(h)o.done=m>=d;else{let T=f;m!==0&&(y<1?T=nx(g,m,k):T=0);const P=Math.abs(T)<=n,_=Math.abs(i-k)<=t;o.done=P&&_}return o.value=o.done?i:k,o}}}function vh({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const p=e[0],h={done:!1,value:p},f=x=>l!==void 0&&x<l||c!==void 0&&x>c,y=x=>l===void 0?c:c===void 0||Math.abs(l-x)<Math.abs(c-x)?l:c;let b=n*t;const N=p+b,v=o===void 0?N:o(N);v!==N&&(b=v-p);const g=x=>-b*Math.exp(-x/s),m=x=>v+g(x),k=x=>{const j=g(x),S=m(x);h.done=Math.abs(j)<=u,h.value=h.done?v:S};let T,P;const _=x=>{f(h.value)&&(T=x,P=sx({keyframes:[h.value,y(h.value)],velocity:nx(m,x,h.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:x=>{let j=!1;return!P&&T===void 0&&(j=!0,k(x),_(x)),T!==void 0&&x>T?P.next(x-T):(!j&&k(x),h)}}}const Bj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>_e.update(t,!0),stop:()=>vn(t),now:()=>Xe.isProcessing?Xe.timestamp:performance.now()}},bh=2e4;function wh(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<bh;)t+=n,s=e.next(t);return t>=bh?1/0:t}const qj={decay:vh,inertia:vh,tween:co,keyframes:co,spring:sx};function uo({autoplay:e=!0,delay:t=0,driver:n=Bj,keyframes:s,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:p,...h}){let f=1,y=!1,b,N;const v=()=>{N=new Promise(R=>{b=R})};v();let g;const m=qj[r]||co;let k;m!==co&&typeof s[0]!="number"&&(k=ex([0,100],s,{clamp:!1}),s=[0,100]);const T=m({...h,keyframes:s});let P;l==="mirror"&&(P=m({...h,keyframes:[...s].reverse(),velocity:-(h.velocity||0)}));let _="idle",x=null,j=null,S=null;T.calculatedDuration===null&&i&&(T.calculatedDuration=wh(T));const{calculatedDuration:C}=T;let D=1/0,M=1/0;C!==null&&(D=C+o,M=D*(i+1)-o);let L=0;const W=R=>{if(j===null)return;f>0&&(j=Math.min(j,R)),f<0&&(j=Math.min(R-M/f,j)),x!==null?L=x:L=Math.round(R-j)*f;const B=L-t*(f>=0?1:-1),$=f>=0?B<0:B>M;L=Math.max(B,0),_==="finished"&&x===null&&(L=M);let ae=L,de=T;if(i){const U=Math.min(L,M)/D;let Z=Math.floor(U),q=U%1;!q&&U>=1&&(q=1),q===1&&Z--,Z=Math.min(Z,i+1),!!(Z%2)&&(l==="reverse"?(q=1-q,o&&(q-=o/D)):l==="mirror"&&(de=P)),ae=Kn(0,1,q)*D}const w=$?{done:!1,value:s[0]}:de.next(ae);k&&(w.value=k(w.value));let{done:O}=w;!$&&C!==null&&(O=f>=0?L>=M:L<=0);const A=x===null&&(_==="finished"||_==="running"&&O);return p&&p(w.value),A&&F(),w},K=()=>{g&&g.stop(),g=void 0},X=()=>{_="idle",K(),b(),v(),j=S=null},F=()=>{_="finished",d&&d(),K(),b()},I=()=>{if(y)return;g||(g=n(W));const R=g.now();c&&c(),x!==null?j=R-x:(!j||_==="finished")&&(j=R),_==="finished"&&v(),S=j,x=null,_="running",g.start()};e&&I();const G={then(R,B){return N.then(R,B)},get time(){return fn(L)},set time(R){R=_s(R),L=R,x!==null||!g||f===0?x=R:j=g.now()-R/f},get duration(){const R=T.calculatedDuration===null?wh(T):T.calculatedDuration;return fn(R)},get speed(){return f},set speed(R){R===f||!g||(f=R,G.time=fn(L))},get state(){return _},play:I,pause:()=>{_="paused",x=L},stop:()=>{y=!0,_!=="idle"&&(_="idle",u&&u(),X())},cancel:()=>{S!==null&&W(S),X()},complete:()=>{_="finished"},sample:R=>(j=0,W(R))};return G}function Wj(e){let t;return()=>(t===void 0&&(t=e()),t)}const Hj=Wj(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gj=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),fa=10,Kj=2e4,Jj=(e,t)=>t.type==="spring"||e==="backgroundColor"||!D0(t.ease);function Qj(e,t,{onUpdate:n,onComplete:s,...r}){if(!(Hj()&&Gj.has(t)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(m=>{l=m})};d();let{keyframes:p,duration:h=300,ease:f,times:y}=r;if(Jj(t,r)){const m=uo({...r,repeat:0,delay:0});let k={done:!1,value:p[0]};const T=[];let P=0;for(;!k.done&&P<Kj;)k=m.sample(P),T.push(k.value),P+=fa;y=void 0,p=T,h=P-fa,f="linear"}const b=ij(e.owner.current,t,p,{...r,duration:h,ease:f,times:y}),N=()=>{u=!1,b.cancel()},v=()=>{u=!0,_e.update(N),l(),d()};return b.onfinish=()=>{u||(e.set(aj(p,r)),s&&s(),v())},{then(m,k){return c.then(m,k)},attachTimeline(m){return b.timeline=m,b.onfinish=null,Ie},get time(){return fn(b.currentTime||0)},set time(m){b.currentTime=_s(m)},get speed(){return b.playbackRate},set speed(m){b.playbackRate=m},get duration(){return fn(h)},play:()=>{o||(b.play(),vn(N))},pause:()=>b.pause(),stop:()=>{if(o=!0,b.playState==="idle")return;const{currentTime:m}=b;if(m){const k=uo({...r,autoplay:!1});e.setWithVelocity(k.sample(m-fa).value,k.sample(m).value,fa)}v()},complete:()=>{u||b.finish()},cancel:v}}function Yj({keyframes:e,delay:t,onUpdate:n,onComplete:s}){const r=()=>(n&&n(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Ie,pause:Ie,stop:Ie,then:i=>(i(),Promise.resolve()),cancel:Ie,complete:Ie});return t?uo({keyframes:[0,1],duration:0,delay:t,onComplete:r}):r()}const Xj={type:"spring",stiffness:500,damping:25,restSpeed:10},Zj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),e1={type:"keyframes",duration:.8},t1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n1=(e,{keyframes:t})=>t.length>2?e1:Os.has(e)?e.startsWith("scale")?Zj(t[1]):Xj:t1,Qc=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Jn.test(t)||t==="0")&&!t.startsWith("url(")),s1=new Set(["brightness","contrast","saturate","opacity"]);function r1(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Vo)||[];if(!s)return e;const r=n.replace(s,"");let i=s1.has(t)?1:0;return s!==n&&(i*=100),t+"("+i+r+")"}const i1=/([a-z-]*)\(.*?\)/g,Yc={...Jn,getAnimatableNone:e=>{const t=e.match(i1);return t?t.map(r1).join(" "):e}},a1={...x0,color:tt,backgroundColor:tt,outlineColor:tt,fill:tt,stroke:tt,borderColor:tt,borderTopColor:tt,borderRightColor:tt,borderBottomColor:tt,borderLeftColor:tt,filter:Yc,WebkitFilter:Yc},Dd=e=>a1[e];function rx(e,t){let n=Dd(e);return n!==Yc&&(n=Jn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ix=e=>/^0[^.\s]+$/.test(e);function o1(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||ix(e)}function l1(e,t,n,s){const r=Qc(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=s.from!==void 0?s.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),o1(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(r&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=rx(t,l)}return i}function c1({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Id(e,t){return e[t]||e.default||e}const u1={skipAnimations:!1},Md=(e,t,n,s={})=>r=>{const i=Id(s,e)||{},o=i.delay||s.delay||0;let{elapsed:l=0}=s;l=l-_s(o);const c=l1(t,e,n,i),u=c[0],d=c[c.length-1],p=Qc(e,u),h=Qc(e,d);let f={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:y=>{t.set(y),i.onUpdate&&i.onUpdate(y)},onComplete:()=>{r(),i.onComplete&&i.onComplete()}};if(c1(i)||(f={...f,...n1(e,f)}),f.duration&&(f.duration=_s(f.duration)),f.repeatDelay&&(f.repeatDelay=_s(f.repeatDelay)),!p||!h||rj.current||i.type===!1||u1.skipAnimations)return Yj(f);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=Qj(t,e,f);if(y)return y}return uo(f)};function po(e){return!!(gt(e)&&e.add)}const ax=e=>/^\-?\d*\.?\d+$/.test(e);function Fd(e,t){e.indexOf(t)===-1&&e.push(t)}function $d(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ld{constructor(){this.subscriptions=[]}add(t){return Fd(this.subscriptions,t),()=>$d(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const d1=e=>!isNaN(parseFloat(e));class p1{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:i,timestamp:o}=Xe;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,_e.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>_e.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=d1(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ld);const s=this.events[t].add(n);return t==="change"?()=>{s(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?tx(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wr(e,t){return new p1(e,t)}const ox=e=>t=>t.test(e),h1={test:e=>e==="auto",parse:e=>e},lx=[Rs,ie,Yt,kn,bw,vw,h1],Ur=e=>lx.find(ox(e)),f1=[...lx,tt,Jn],m1=e=>f1.find(ox(e));function g1(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,wr(n))}function x1(e,t){const n=qo(e,t);let{transitionEnd:s={},transition:r={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...s};for(const o in i){const l=Dw(i[o]);g1(e,o,l)}}function y1(e,t,n){var s,r;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(r=(s=n[c])!==null&&s!==void 0?s:e.readValue(c))!==null&&r!==void 0?r:t[c]),d!=null&&(typeof d=="string"&&(ax(d)||ix(d))?d=parseFloat(d):!m1(d)&&Jn.test(u)&&(d=rx(c,u)),e.addValue(c,wr(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function v1(e,t){return t?(t[e]||t.default||t).from:void 0}function b1(e,t,n){const s={};for(const r in e){const i=v1(r,t);if(i!==void 0)s[r]=i;else{const o=n.getValue(r);o&&(s[r]=o.get())}}return s}function w1({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function j1(e,t){const n=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}else return n!==t}function cx(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");s&&(i=s);const u=[],d=r&&e.animationState&&e.animationState.getState()[r];for(const p in l){const h=e.getValue(p),f=l[p];if(!h||f===void 0||d&&w1(d,p))continue;const y={delay:n,elapsed:0,...Id(i||{},p)};if(window.HandoffAppearAnimations){const v=e.getProps()[u0];if(v){const g=window.HandoffAppearAnimations(v,p,h,_e);g!==null&&(y.elapsed=g,y.isHandoff=!0)}}let b=!y.isHandoff&&!j1(h,f);if(y.type==="spring"&&(h.getVelocity()||y.velocity)&&(b=!1),h.animation&&(b=!1),b)continue;h.start(Md(p,h,f,e.shouldReduceMotion&&Os.has(p)?{type:!1}:y));const N=h.animation;po(c)&&(c.add(p),N.then(()=>c.remove(p))),u.push(N)}return o&&Promise.all(u).then(()=>{o&&x1(e,o)}),u}function Xc(e,t,n={}){const s=qo(e,t,n.custom);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(cx(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=r;return _1(e,t,u+c,d,p,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function _1(e,t,n=0,s=0,r=1,i){const o=[],l=(e.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(e.variantChildren).sort(k1).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(Xc(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function k1(e,t){return e.sortNodePosition(t)}function N1(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(i=>Xc(e,i,n));s=Promise.all(r)}else if(typeof t=="string")s=Xc(e,t,n);else{const r=typeof t=="function"?qo(e,t,n.custom):t;s=Promise.all(cx(e,r,n))}return s.then(()=>e.notify("AnimationComplete",t))}const S1=[...bd].reverse(),E1=bd.length;function P1(e){return t=>Promise.all(t.map(({animation:n,options:s})=>N1(e,n,s)))}function C1(e){let t=P1(e);const n=A1();let s=!0;const r=(c,u)=>{const d=qo(e,u);if(d){const{transition:p,transitionEnd:h,...f}=d;c={...c,...f,...h}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),p=e.getVariantContext(!0)||{},h=[],f=new Set;let y={},b=1/0;for(let v=0;v<E1;v++){const g=S1[v],m=n[g],k=d[g]!==void 0?d[g]:p[g],T=Ci(k),P=g===u?m.isActive:null;P===!1&&(b=v);let _=k===p[g]&&k!==d[g]&&T;if(_&&s&&e.manuallyAnimateOnMount&&(_=!1),m.protectedKeys={...y},!m.isActive&&P===null||!k&&!m.prevProp||zo(k)||typeof k=="boolean")continue;let j=T1(m.prevProp,k)||g===u&&m.isActive&&!_&&T||v>b&&T,S=!1;const C=Array.isArray(k)?k:[k];let D=C.reduce(r,{});P===!1&&(D={});const{prevResolvedValues:M={}}=m,L={...M,...D},W=K=>{j=!0,f.has(K)&&(S=!0,f.delete(K)),m.needsAnimating[K]=!0};for(const K in L){const X=D[K],F=M[K];if(y.hasOwnProperty(K))continue;let I=!1;oo(X)&&oo(F)?I=!O0(X,F):I=X!==F,I?X!==void 0?W(K):f.add(K):X!==void 0&&f.has(K)?W(K):m.protectedKeys[K]=!0}m.prevProp=k,m.prevResolvedValues=D,m.isActive&&(y={...y,...D}),s&&e.blockInitialAnimation&&(j=!1),j&&(!_||S)&&h.push(...C.map(K=>({animation:K,options:{type:g,...c}})))}if(f.size){const v={};f.forEach(g=>{const m=e.getBaseTarget(g);m!==void 0&&(v[g]=m)}),h.push({animation:v})}let N=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(N=!1),s=!1,N?t(h):Promise.resolve()}function l(c,u,d){var p;if(n[c].isActive===u)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(f=>{var y;return(y=f.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const h=o(d,c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n}}function T1(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!O0(t,e):!1}function as(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function A1(){return{animate:as(!0),whileInView:as(),whileHover:as(),whileTap:as(),whileDrag:as(),whileFocus:as(),exit:as()}}class O1 extends ns{constructor(t){super(t),t.animationState||(t.animationState=C1(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),zo(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let R1=0;class D1 extends ns{constructor(){super(...arguments),this.id=R1++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const I1={animation:{Feature:O1},exit:{Feature:D1}},jh=(e,t)=>Math.abs(e-t);function M1(e,t){const n=jh(e.x,t.x),s=jh(e.y,t.y);return Math.sqrt(n**2+s**2)}class ux{constructor(t,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=zl(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=M1(p.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:y}=p,{timestamp:b}=Xe;this.history.push({...y,timestamp:b});const{onStart:N,onMove:v}=this.handlers;h||(N&&N(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,h)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Ll(h,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(p,h)=>{this.end();const{onEnd:f,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=zl(p.type==="pointercancel"?this.lastMoveEventInfo:Ll(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(p,N),y&&y(p,N)},!E0(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Bo(t),l=Ll(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Xe;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,zl(l,this.history)),this.removeListeners=qn(hn(this.contextWindow,"pointermove",this.handlePointerMove),hn(this.contextWindow,"pointerup",this.handlePointerUp),hn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vn(this.updatePoint)}}function Ll(e,t){return t?{point:t(e.point)}:e}function _h(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zl({point:e},t){return{point:e,delta:_h(e,dx(t)),offset:_h(e,F1(t)),velocity:$1(t,.1)}}function F1(e){return e[0]}function dx(e){return e[e.length-1]}function $1(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=dx(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>_s(t)));)n--;if(!s)return{x:0,y:0};const i=fn(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function jt(e){return e.max-e.min}function Zc(e,t=0,n=.01){return Math.abs(e-t)<=n}function kh(e,t,n,s=.5){e.origin=s,e.originPoint=Te(t.min,t.max,e.origin),e.scale=jt(n)/jt(t),(Zc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Te(n.min,n.max,e.origin)-e.originPoint,(Zc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function li(e,t,n,s){kh(e.x,t.x,n.x,s?s.originX:void 0),kh(e.y,t.y,n.y,s?s.originY:void 0)}function Nh(e,t,n){e.min=n.min+t.min,e.max=e.min+jt(t)}function L1(e,t,n){Nh(e.x,t.x,n.x),Nh(e.y,t.y,n.y)}function Sh(e,t,n){e.min=t.min-n.min,e.max=e.min+jt(t)}function ci(e,t,n){Sh(e.x,t.x,n.x),Sh(e.y,t.y,n.y)}function z1(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Te(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Te(n,e,s.max):Math.min(e,n)),e}function Eh(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function U1(e,{top:t,left:n,bottom:s,right:r}){return{x:Eh(e.x,n,r),y:Eh(e.y,t,s)}}function Ph(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function V1(e,t){return{x:Ph(e.x,t.x),y:Ph(e.y,t.y)}}function B1(e,t){let n=.5;const s=jt(e),r=jt(t);return r>s?n=Ai(t.min,t.max-s,e.min):s>r&&(n=Ai(e.min,e.max-r,t.min)),Kn(0,1,n)}function q1(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const eu=.35;function W1(e=eu){return e===!1?e=0:e===!0&&(e=eu),{x:Ch(e,"left","right"),y:Ch(e,"top","bottom")}}function Ch(e,t,n){return{min:Th(e,t),max:Th(e,n)}}function Th(e,t){return typeof e=="number"?e:e[t]||0}const Ah=()=>({translate:0,scale:1,origin:0,originPoint:0}),ir=()=>({x:Ah(),y:Ah()}),Oh=()=>({min:0,max:0}),Fe=()=>({x:Oh(),y:Oh()});function Et(e){return[e("x"),e("y")]}function px({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function H1({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function G1(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ul(e){return e===void 0||e===1}function tu({scale:e,scaleX:t,scaleY:n}){return!Ul(e)||!Ul(t)||!Ul(n)}function ds(e){return tu(e)||hx(e)||e.z||e.rotate||e.rotateX||e.rotateY}function hx(e){return Rh(e.x)||Rh(e.y)}function Rh(e){return e&&e!=="0%"}function ho(e,t,n){const s=e-n,r=t*s;return n+r}function Dh(e,t,n,s,r){return r!==void 0&&(e=ho(e,r,s)),ho(e,n,s)+t}function nu(e,t=0,n=1,s,r){e.min=Dh(e.min,t,n,s,r),e.max=Dh(e.max,t,n,s,r)}function fx(e,{x:t,y:n}){nu(e.x,t.translate,t.scale,t.originPoint),nu(e.y,n.translate,n.scale,n.originPoint)}function K1(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let i,o;for(let l=0;l<r;l++){i=n[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ar(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,fx(e,o)),s&&ds(i.latestValues)&&ar(e,i.latestValues))}t.x=Ih(t.x),t.y=Ih(t.y)}function Ih(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Pn(e,t){e.min=e.min+t,e.max=e.max+t}function Mh(e,t,[n,s,r]){const i=t[r]!==void 0?t[r]:.5,o=Te(e.min,e.max,i);nu(e,t[n],t[s],o,t.scale)}const J1=["x","scaleX","originX"],Q1=["y","scaleY","originY"];function ar(e,t){Mh(e.x,t,J1),Mh(e.y,t,Q1)}function mx(e,t){return px(G1(e.getBoundingClientRect(),t))}function Y1(e,t,n){const s=mx(e,n),{scroll:r}=t;return r&&(Pn(s.x,r.offset.x),Pn(s.y,r.offset.y)),s}const gx=({current:e})=>e?e.ownerDocument.defaultView:null,X1=new WeakMap;class Z1{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bo(d,"page").point)},i=(d,p)=>{const{drag:h,dragPropagation:f,onDragStart:y}=this.getProps();if(h&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=C0(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Et(N=>{let v=this.getAxisMotionValue(N).get()||0;if(Yt.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const m=g.layout.layoutBox[N];m&&(v=jt(m)*(parseFloat(v)/100))}}this.originPoint[N]=v}),y&&_e.update(()=>y(d,p),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,p)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:y,onDrag:b}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:N}=p;if(f&&this.currentDirection===null){this.currentDirection=e_(N),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",p.point,N),this.updateAxis("y",p.point,N),this.visualElement.render(),b&&b(d,p)},l=(d,p)=>this.stop(d,p),c=()=>Et(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ux(t,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:gx(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&_e.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!ma(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=z1(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&sr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=U1(r.layoutBox,n):this.constraints=!1,this.elastic=W1(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Et(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=q1(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!sr(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=Y1(s,r.root,this.visualElement.getTransformPagePoint());let o=V1(r.layout.layoutBox,i);if(n){const l=n(H1(o));this.hasMutatedConstraints=!!l,l&&(o=px(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Et(d=>{if(!ma(d,n,this.currentDirection))return;let p=c&&c[d]||{};o&&(p={min:0,max:0});const h=r?200:1e6,f=r?40:1e7,y={type:"inertia",velocity:s?t[d]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(Md(t,s,0,n))}stopAnimation(){Et(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Et(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Et(n=>{const{drag:s}=this.getProps();if(!ma(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n];i.set(t[n]-Te(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!sr(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Et(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();r[o]=B1({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Et(o=>{if(!ma(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Te(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;X1.set(this.visualElement,this);const t=this.visualElement.current,n=hn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();sr(c)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const o=dn(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Et(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=c[d].translate,p.set(p.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=eu,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function ma(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function e_(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class t_ extends ns{constructor(t){super(t),this.removeGroupControls=Ie,this.removeListeners=Ie,this.controls=new Z1(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ie}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fh=e=>(t,n)=>{e&&_e.update(()=>e(t,n))};class n_ extends ns{constructor(){super(...arguments),this.removePointerDownListener=Ie}onPointerDown(t){this.session=new ux(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:Fh(t),onStart:Fh(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&_e.update(()=>r(i,o))}}}mount(){this.removePointerDownListener=hn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function s_(){const e=E.useContext($o);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,r=E.useId();return E.useEffect(()=>s(r),[]),!t&&n?[!1,()=>n&&n(r)]:[!0]}const Ra={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $h(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ie.test(e))e=parseFloat(e);else return e;const n=$h(e,t.target.x),s=$h(e,t.target.y);return`${n}% ${s}%`}},r_={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=Jn.parse(e);if(r.length>5)return s;const i=Jn.createTransformer(e),o=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;r[0+o]/=l,r[1+o]/=c;const u=Te(l,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),i(r)}};class i_ extends On.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=t;pw(a_),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ra.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,o=s.projection;return o&&(o.isPresent=i,r||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||_e.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xx(e){const[t,n]=s_(),s=E.useContext(jd);return On.createElement(i_,{...e,layoutGroup:s,switchLayoutGroup:E.useContext(p0),isPresent:t,safeToRemove:n})}const a_={borderRadius:{...Vr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vr,borderTopRightRadius:Vr,borderBottomLeftRadius:Vr,borderBottomRightRadius:Vr,boxShadow:r_},yx=["TopLeft","TopRight","BottomLeft","BottomRight"],o_=yx.length,Lh=e=>typeof e=="string"?parseFloat(e):e,zh=e=>typeof e=="number"||ie.test(e);function l_(e,t,n,s,r,i){r?(e.opacity=Te(0,n.opacity!==void 0?n.opacity:1,c_(s)),e.opacityExit=Te(t.opacity!==void 0?t.opacity:1,0,u_(s))):i&&(e.opacity=Te(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<o_;o++){const l=`border${yx[o]}Radius`;let c=Uh(t,l),u=Uh(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||zh(c)===zh(u)?(e[l]=Math.max(Te(Lh(c),Lh(u),s),0),(Yt.test(u)||Yt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Te(t.rotate||0,n.rotate||0,s))}function Uh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const c_=vx(0,.5,U0),u_=vx(.5,.95,Ie);function vx(e,t,n){return s=>s<e?0:s>t?1:n(Ai(e,t,s))}function Vh(e,t){e.min=t.min,e.max=t.max}function St(e,t){Vh(e.x,t.x),Vh(e.y,t.y)}function Bh(e,t,n,s,r){return e-=t,e=ho(e,1/n,s),r!==void 0&&(e=ho(e,1/r,s)),e}function d_(e,t=0,n=1,s=.5,r,i=e,o=e){if(Yt.test(t)&&(t=parseFloat(t),t=Te(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Te(i.min,i.max,s);e===i&&(l-=t),e.min=Bh(e.min,t,n,l,r),e.max=Bh(e.max,t,n,l,r)}function qh(e,t,[n,s,r],i,o){d_(e,t[n],t[s],t[r],t.scale,i,o)}const p_=["x","scaleX","originX"],h_=["y","scaleY","originY"];function Wh(e,t,n,s){qh(e.x,t,p_,n?n.x:void 0,s?s.x:void 0),qh(e.y,t,h_,n?n.y:void 0,s?s.y:void 0)}function Hh(e){return e.translate===0&&e.scale===1}function bx(e){return Hh(e.x)&&Hh(e.y)}function f_(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function wx(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Gh(e){return jt(e.x)/jt(e.y)}class m_{constructor(){this.members=[]}add(t){Fd(this.members,t),t.scheduleRender()}remove(t){if($d(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kh(e,t,n){let s="";const r=e.x.translate/t.x,i=e.y.translate/t.y;if((r||i)&&(s=`translate3d(${r}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(s+=`rotate(${c}deg) `),u&&(s+=`rotateX(${u}deg) `),d&&(s+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(s+=`scale(${o}, ${l})`),s||"none"}const g_=(e,t)=>e.depth-t.depth;class x_{constructor(){this.children=[],this.isDirty=!1}add(t){Fd(this.children,t),this.isDirty=!0}remove(t){$d(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(g_),this.isDirty=!1,this.children.forEach(t)}}function y_(e,t){const n=performance.now(),s=({timestamp:r})=>{const i=r-n;i>=t&&(vn(s),e(i-t))};return _e.read(s,!0),()=>vn(s)}function v_(e){window.MotionDebug&&window.MotionDebug.record(e)}function b_(e){return e instanceof SVGElement&&e.tagName!=="svg"}function w_(e,t,n){const s=gt(e)?e:wr(e);return s.start(Md("",s,t,n)),s.animation}const Jh=["","X","Y","Z"],j_={visibility:"hidden"},Qh=1e3;let __=0;const ps={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function jx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=t==null?void 0:t()){this.id=__++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ps.totalNodes=ps.resolvedTargetDeltas=ps.recalculatedProjection=0,this.nodes.forEach(S_),this.nodes.forEach(A_),this.nodes.forEach(O_),this.nodes.forEach(E_),v_(ps)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new x_)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ld),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=b_(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let p;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=y_(h,250),Ra.hasAnimatedSinceResize&&(Ra.hasAnimatedSinceResize=!1,this.nodes.forEach(Xh))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||F_,{onLayoutAnimationStart:N,onLayoutAnimationComplete:v}=d.getProps(),g=!this.targetLayout||!wx(this.targetLayout,y)||f,m=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,m);const k={...Id(b,"layout"),onPlay:N,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else h||Xh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(R_),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yh);return}this.isUpdating||this.nodes.forEach(C_),this.isUpdating=!1,this.nodes.forEach(T_),this.nodes.forEach(k_),this.nodes.forEach(N_),this.clearAllSnapshots();const l=performance.now();Xe.delta=Kn(0,1e3/60,l-Xe.timestamp),Xe.timestamp=l,Xe.isProcessing=!0,Al.update.process(Xe),Al.preRender.process(Xe),Al.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(P_),this.sharedNodes.forEach(D_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!bx(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||ds(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),$_(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Fe();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Pn(l.x,c.offset.x),Pn(l.y,c.offset.y)),l}removeElementScroll(o){const l=Fe();St(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;if(u!==this.root&&d&&p.layoutScroll){if(d.isRoot){St(l,o);const{scroll:h}=this.root;h&&(Pn(l.x,-h.offset.x),Pn(l.y,-h.offset.y))}Pn(l.x,d.offset.x),Pn(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Fe();St(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ar(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ds(d.latestValues)&&ar(c,d.latestValues)}return ds(this.latestValues)&&ar(c,this.latestValues),c}removeTransform(o){const l=Fe();St(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ds(u.latestValues))continue;tu(u.latestValues)&&u.updateSnapshot();const d=Fe(),p=u.measurePageBox();St(d,p),Wh(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ds(this.latestValues)&&Wh(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:h}=this.options;if(!(!this.layout||!(p||h))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),ci(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),St(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),L1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):St(this.target,this.layout.layoutBox),fx(this.target,this.targetDelta)):St(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),ci(this.relativeTargetOrigin,this.target,f.target),St(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ps.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tu(this.parent.latestValues)||hx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;St(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;K1(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=ir(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ir(),this.projectionDeltaWithTransform=ir());const b=this.projectionTransform;li(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=Kh(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),ps.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},p=ir();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Fe(),f=c?c.source:void 0,y=this.layout?this.layout.source:void 0,b=f!==y,N=this.getStack(),v=!N||N.members.length<=1,g=!!(b&&!v&&this.options.crossfade===!0&&!this.path.some(M_));this.animationProgress=0;let m;this.mixTargetDelta=k=>{const T=k/1e3;Zh(p.x,o.x,T),Zh(p.y,o.y,T),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ci(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),I_(this.relativeTarget,this.relativeTargetOrigin,h,T),m&&f_(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=Fe()),St(m,this.relativeTarget)),b&&(this.animationValues=d,l_(d,u,this.latestValues,T,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{Ra.hasAnimatedSinceResize=!0,this.currentAnimation=w_(0,Qh,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&_x(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Fe();const p=jt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const h=jt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}St(l,c),ar(l,d),li(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new m_),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Jh.length;d++){const p="rotate"+Jh[d];c[p]&&(u[p]=c[p],o.setStaticValue(p,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return j_;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Oa(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Oa(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ds(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const h=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=Kh(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:f,y}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,p.animationValues?u.opacity=p===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=p===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in io){if(h[b]===void 0)continue;const{correct:N,applyTo:v}=io[b],g=u.transform==="none"?h[b]:N(h[b],p);if(v){const m=v.length;for(let k=0;k<m;k++)u[v[k]]=g}else u[b]=g}return this.options.layoutId&&(u.pointerEvents=p===this?Oa(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Yh),this.root.sharedNodes.clear()}}}function k_(e){e.updateLayout()}function N_(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Et(p=>{const h=o?n.measuredBox[p]:n.layoutBox[p],f=jt(h);h.min=s[p].min,h.max=h.min+f}):_x(i,n.layoutBox,s)&&Et(p=>{const h=o?n.measuredBox[p]:n.layoutBox[p],f=jt(s[p]);h.max=h.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+f)});const l=ir();li(l,s,n.layoutBox);const c=ir();o?li(c,e.applyTransform(r,!0),n.measuredBox):li(c,s,n.layoutBox);const u=!bx(l);let d=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:h,layout:f}=p;if(h&&f){const y=Fe();ci(y,n.layoutBox,h.layoutBox);const b=Fe();ci(b,s,f.layoutBox),wx(y,b)||(d=!0),p.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=y,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function S_(e){ps.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function E_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function P_(e){e.clearSnapshot()}function Yh(e){e.clearMeasurements()}function C_(e){e.isLayoutDirty=!1}function T_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Xh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function A_(e){e.resolveTargetDelta()}function O_(e){e.calcProjection()}function R_(e){e.resetRotation()}function D_(e){e.removeLeadSnapshot()}function Zh(e,t,n){e.translate=Te(t.translate,0,n),e.scale=Te(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ef(e,t,n,s){e.min=Te(t.min,n.min,s),e.max=Te(t.max,n.max,s)}function I_(e,t,n,s){ef(e.x,t.x,n.x,s),ef(e.y,t.y,n.y,s)}function M_(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const F_={duration:.45,ease:[.4,0,.1,1]},tf=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),nf=tf("applewebkit/")&&!tf("chrome/")?Math.round:Ie;function sf(e){e.min=nf(e.min),e.max=nf(e.max)}function $_(e){sf(e.x),sf(e.y)}function _x(e,t,n){return e==="position"||e==="preserve-aspect"&&!Zc(Gh(t),Gh(n),.2)}const L_=jx({attachResizeListener:(e,t)=>dn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vl={current:void 0},kx=jx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vl.current){const e=new L_({});e.mount(window),e.setOptions({layoutScroll:!0}),Vl.current=e}return Vl.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),z_={pan:{Feature:n_},drag:{Feature:t_,ProjectionNode:kx,MeasureLayout:xx}},U_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function V_(e){const t=U_.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]}function su(e,t,n=1){const[s,r]=V_(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return ax(o)?parseFloat(o):o}else return Hc(r)?su(r,t,n+1):r}function B_(e,{...t},n){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(r=>{const i=r.get();if(!Hc(i))return;const o=su(i,s);o&&r.set(o)});for(const r in t){const i=t[r];if(!Hc(i))continue;const o=su(i,s);o&&(t[r]=o,n||(n={}),n[r]===void 0&&(n[r]=i))}return{target:t,transitionEnd:n}}const q_=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Nx=e=>q_.has(e),W_=e=>Object.keys(e).some(Nx),rf=e=>e===Rs||e===ie,af=(e,t)=>parseFloat(e.split(", ")[t]),of=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return af(r[1],t);{const i=s.match(/^matrix\((.+)\)$/);return i?af(i[1],e):0}},H_=new Set(["x","y","z"]),G_=zi.filter(e=>!H_.has(e));function K_(e){const t=[];return G_.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const jr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:of(4,13),y:of(5,14)};jr.translateX=jr.x;jr.translateY=jr.y;const J_=(e,t,n)=>{const s=t.measureViewportBox(),r=t.current,i=getComputedStyle(r),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=jr[u](s,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=jr[u](c,i)}),e},Q_=(e,t,n={},s={})=>{t={...t},s={...s};const r=Object.keys(t).filter(Nx);let i=[],o=!1;const l=[];if(r.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],p=Ur(d);const h=t[c];let f;if(oo(h)){const y=h.length,b=h[0]===null?1:0;d=h[b],p=Ur(d);for(let N=b;N<y&&h[N]!==null;N++)f?Td(Ur(h[N])===f):f=Ur(h[N])}else f=Ur(h);if(p!==f)if(rf(p)&&rf(f)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&f===ie&&(t[c]=h.map(parseFloat))}else p!=null&&p.transform&&(f!=null&&f.transform)&&(d===0||h===0)?d===0?u.set(f.transform(d)):t[c]=p.transform(h):(o||(i=K_(e),o=!0),l.push(c),s[c]=s[c]!==void 0?s[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=J_(t,e,l);return i.length&&i.forEach(([d,p])=>{e.getValue(d).set(p)}),e.render(),Lo&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:s}}else return{target:t,transitionEnd:s}};function Y_(e,t,n,s){return W_(t)?Q_(e,t,n,s):{target:t,transitionEnd:s}}const X_=(e,t,n,s)=>{const r=B_(e,t,s);return t=r.target,s=r.transitionEnd,Y_(e,t,n,s)},ru={current:null},Sx={current:!1};function Z_(){if(Sx.current=!0,!!Lo)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ru.current=e.matches;e.addListener(t),t()}else ru.current=!1}function ek(e,t,n){const{willChange:s}=t;for(const r in t){const i=t[r],o=n[r];if(gt(i))e.addValue(r,i),po(s)&&s.add(r);else if(gt(o))e.addValue(r,wr(i,{owner:e})),po(s)&&s.remove(r);else if(o!==i)if(e.hasValue(r)){const l=e.getValue(r);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(r);e.addValue(r,wr(l!==void 0?l:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const lf=new WeakMap,Ex=Object.keys(Ti),tk=Ex.length,cf=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nk=wd.length;class sk{constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>_e.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.isControllingVariants=Uo(n),this.isVariantNode=d0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const p in d){const h=d[p];l[p]!==void 0&&gt(h)&&(h.set(l[p],!1),po(u)&&u.add(p))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,lf.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Sx.current||Z_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ru.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lf.delete(this.current),this.projection&&this.projection.unmount(),vn(this.notifyUpdate),vn(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const s=Os.has(t),r=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&_e.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{r(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},s,r,i){let o,l;for(let c=0;c<tk;c++){const u=Ex[c],{isEnabled:d,Feature:p,ProjectionNode:h,MeasureLayout:f}=Ti[u];h&&(o=h),d(n)&&(!this.features[u]&&p&&(this.features[u]=new p(this)),f&&(l=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:p,layoutScroll:h,layoutRoot:f}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||p&&sr(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<cf.length;s++){const r=cf[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=t["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=ek(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<nk;s++){const r=wd[s],i=this.props[r];(Ci(i)||i===!1)&&(n[r]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=wr(n,{owner:this}),this.addValue(t,s)),s}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=Cd(this.props,s))===null||n===void 0?void 0:n[t]:void 0;if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!gt(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ld),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Px extends sk{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...s},{transformValues:r},i){let o=b1(s,t||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),o&&(o=r(o))),i){y1(this,s,o);const l=X_(this,s,o,n);n=l.transitionEnd,s=l.target}return{transition:t,transitionEnd:n,...s}}}function rk(e){return window.getComputedStyle(e)}class ik extends Px{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Os.has(n)){const s=Dd(n);return s&&s.default||0}else{const s=rk(t),r=(m0(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return mx(t,n)}build(t,n,s,r){kd(t,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Pd(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;gt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,s,r){w0(t,n,s,r)}}class ak extends Px{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Os.has(n)){const s=Dd(n);return s&&s.default||0}return n=j0.has(n)?n:vd(n),t.getAttribute(n)}measureInstanceViewportBox(){return Fe()}scrapeMotionValuesFromProps(t,n){return k0(t,n)}build(t,n,s,r){Sd(t,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,s,r){_0(t,n,s,r)}mount(t){this.isSVGTag=Ed(t.tagName),super.mount(t)}}const ok=(e,t)=>_d(e)?new ak(t,{enableHardwareAcceleration:!1}):new ik(t,{enableHardwareAcceleration:!0}),lk={layout:{ProjectionNode:kx,MeasureLayout:xx}},ck={...I1,...tj,...z_,...lk},H=uw((e,t)=>Vw(e,t,ck,ok));function Cx(){const e=E.useRef(!1);return yd(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function uk(){const e=Cx(),[t,n]=E.useState(0),s=E.useCallback(()=>{e.current&&n(t+1)},[t]);return[E.useCallback(()=>_e.postRender(s),[s]),t]}class dk extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pk({children:e,isPresent:t}){const n=E.useId(),s=E.useRef(null),r=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=r.current;if(t||!s.current||!i||!o)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),E.createElement(dk,{isPresent:t,childRef:s,sizeRef:r},E.cloneElement(e,{ref:s}))}const Bl=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:o})=>{const l=N0(hk),c=E.useId(),u=E.useMemo(()=>({id:c,initial:t,isPresent:n,custom:r,onExitComplete:d=>{l.set(d,!0);for(const p of l.values())if(!p)return;s&&s()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[n]);return E.useMemo(()=>{l.forEach((d,p)=>l.set(p,!1))},[n]),E.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),o==="popLayout"&&(e=E.createElement(pk,{isPresent:n},e)),E.createElement($o.Provider,{value:u},e)};function hk(){return new Map}function fk(e){return E.useEffect(()=>()=>e(),[])}const hs=e=>e.key||"";function mk(e,t){e.forEach(n=>{const s=hs(n);t.set(s,n)})}function gk(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const qi=({children:e,custom:t,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=E.useContext(jd).forceRender||uk()[0],c=Cx(),u=gk(e);let d=u;const p=E.useRef(new Map).current,h=E.useRef(d),f=E.useRef(new Map).current,y=E.useRef(!0);if(yd(()=>{y.current=!1,mk(u,f),h.current=d}),fk(()=>{y.current=!0,f.clear(),p.clear()}),y.current)return E.createElement(E.Fragment,null,d.map(g=>E.createElement(Bl,{key:hs(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},g)));d=[...d];const b=h.current.map(hs),N=u.map(hs),v=b.length;for(let g=0;g<v;g++){const m=b[g];N.indexOf(m)===-1&&!p.has(m)&&p.set(m,void 0)}return o==="wait"&&p.size&&(d=[]),p.forEach((g,m)=>{if(N.indexOf(m)!==-1)return;const k=f.get(m);if(!k)return;const T=b.indexOf(m);let P=g;if(!P){const _=()=>{p.delete(m);const x=Array.from(f.keys()).filter(j=>!N.includes(j));if(x.forEach(j=>f.delete(j)),h.current=u.filter(j=>{const S=hs(j);return S===m||x.includes(S)}),!p.size){if(c.current===!1)return;l(),s&&s()}};P=E.createElement(Bl,{key:hs(k),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:i,mode:o},k),p.set(m,P)}d.splice(T,0,P)}),d=d.map(g=>{const m=g.key;return p.has(m)?g:E.createElement(Bl,{key:hs(g),isPresent:!0,presenceAffectsLayout:i,mode:o},g)}),E.createElement(E.Fragment,null,p.size?d:d.map(g=>E.cloneElement(g)))};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(e,t)=>{const n=E.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>E.createElement("svg",{ref:d,...xk,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:["lucide",`lucide-${yk(e)}`,l].join(" "),...u},[...t.map(([p,h])=>E.createElement(p,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=te("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=te("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=te("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=te("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=te("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=te("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=te("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=te("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=te("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=te("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=te("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ql=({onLogin:e,onNavigate:t,user:n})=>{const s=()=>{n?t("dashboard"):e("signup")},r=()=>{n?t("dashboard"):e("signin")},i=()=>{t("figure-analyzer")},o=()=>{t("analysis")};return a.jsxs("div",{className:"min-h-screen",children:[a.jsx("nav",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wn,{className:"h-8 w-8 text-blue-600"}),a.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"SciFig AI"})]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[a.jsx("a",{href:"#features",className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Features"}),a.jsx("button",{onClick:()=>t("pricing"),className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Pricing"}),a.jsx("button",{onClick:i,className:"text-gray-700 hover:text-blue-600 transition-colors",children:"Try Free Demo"}),n?a.jsxs("div",{className:"flex items-center space-x-3",children:[n.role==="admin"&&a.jsx("button",{onClick:()=>t("admin"),className:"text-red-600 hover:text-red-700 transition-colors font-medium",children:"Admin Panel"}),a.jsx("button",{onClick:()=>t("dashboard"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Dashboard"})]}):a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:r,className:"text-blue-600 hover:text-blue-700 transition-colors",children:"Login"}),a.jsx("button",{onClick:s,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Start Free"})]})]})]})})}),a.jsx("section",{className:"pt-20 pb-32 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[a.jsxs(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[a.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-gray-900 mb-6 leading-tight",children:["Turn Your Medical Data into"," ",a.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Publication-Ready"})," ","Figures in Minutes"]}),a.jsx("p",{className:"text-xl text-gray-600 mb-12 max-w-3xl mx-auto leading-relaxed",children:"SciFig AI transforms how medical researchers create publication-ready analyses and figures, making statistical analysis as simple as describing what you want to show."})]}),a.jsxs(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"flex flex-col sm:flex-row gap-4 justify-center mb-16",children:[a.jsxs("button",{onClick:o,className:"bg-blue-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:bg-blue-700 transition-all transform hover:scale-105 flex items-center justify-center gap-2",children:[a.jsx(Cs,{className:"h-5 w-5"}),"Try Full Analysis Free"]}),a.jsxs("button",{onClick:i,className:"bg-white text-blue-600 px-8 py-4 rounded-xl text-lg font-semibold border-2 border-blue-600 hover:bg-blue-50 transition-all transform hover:scale-105 flex items-center justify-center gap-2",children:[a.jsx(Ix,{className:"h-5 w-5"}),"Try Figure Analyzer"]})]}),a.jsxs(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"grid md:grid-cols-3 gap-8 mb-20",children:[a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[a.jsx(Ar,{className:"h-12 w-12 text-blue-600 mb-4 mx-auto"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"T-Test in 30s"}),a.jsx("p",{className:"text-gray-600",children:"AI-powered analysis selection and execution"})]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[a.jsx(it,{className:"h-12 w-12 text-purple-600 mb-4 mx-auto"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"ANOVA Ready"}),a.jsx("p",{className:"text-gray-600",children:"Publication-ready figures with statistical annotations"})]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[a.jsx(Xn,{className:"h-12 w-12 text-green-600 mb-4 mx-auto"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Survival Curves"}),a.jsx("p",{className:"text-gray-600",children:"Complete methods sections for your papers"})]})]}),a.jsxs(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"grid md:grid-cols-2 gap-8 mb-20",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-8 border border-blue-200",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"🧪 Try Full Statistical Analysis Free"}),a.jsx("p",{className:"text-gray-700 mb-6",children:"Upload your data and run complete statistical analyses including t-tests, ANOVA, survival analysis, and more. Get publication-ready figures and methods text."}),a.jsx("button",{onClick:o,className:"bg-blue-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:bg-blue-700 transition-all transform hover:scale-105 w-full",children:"Start Analysis Now →"}),a.jsx("p",{className:"text-sm text-blue-600 mt-3",children:"✨ 2 free analyses • No signup required"})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-8 border border-green-200",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"🎯 Analyze Existing Figures Free"}),a.jsx("p",{className:"text-gray-700 mb-6",children:"Upload any scientific figure and get instant AI-powered feedback on publication readiness, accessibility, and design improvements."}),a.jsx("button",{onClick:i,className:"bg-green-600 text-white px-8 py-4 rounded-xl text-lg font-semibold hover:bg-green-700 transition-all transform hover:scale-105 w-full",children:"Analyze Figure Now →"}),a.jsx("p",{className:"text-sm text-green-600 mt-3",children:"✨ 3 free analyses • No signup required"})]})]}),a.jsxs(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 max-w-2xl mx-auto",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:[...Array(5)].map((l,c)=>a.jsx(fo,{className:"h-5 w-5 text-yellow-400 fill-current"},c))}),a.jsx("p",{className:"text-lg text-gray-700 mb-4 italic",children:'"SciFig AI saved me 2 weeks on my last paper. The AI recommendations were spot-on, and the figures looked better than anything I could create manually."'}),a.jsx("p",{className:"font-semibold text-gray-900",children:"- Dr. Sarah Chen, Johns Hopkins"})]})]})}),a.jsx("section",{id:"features",className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Everything You Need for Scientific Publishing"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"From data upload to publication-ready figures, SciFig AI handles the entire workflow"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:Wn,title:"AI-Powered Analysis",description:"Smart recommendations based on your data structure and research goals",color:"text-blue-600"},{icon:st,title:"Assumption Checking",description:"Automatic validation of statistical assumptions with alternative suggestions",color:"text-green-600"},{icon:it,title:"Publication-Ready Figures",description:"Journal-specific formatting with proper statistical annotations",color:"text-purple-600"},{icon:Xn,title:"Methods Generation",description:"Auto-generated methods sections following publication guidelines",color:"text-orange-600"},{icon:mo,title:"Collaboration Tools",description:"Share projects, track changes, and collaborate with co-authors",color:"text-pink-600"},{icon:vk,title:"HIPAA Compliant",description:"Secure data handling for medical research with enterprise-grade security",color:"text-red-600"}].map((l,c)=>a.jsxs(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:c*.1},className:"bg-gray-50 p-8 rounded-2xl hover:bg-gray-100 transition-colors",children:[a.jsx(l.icon,{className:`h-12 w-12 ${l.color} mb-4`}),a.jsx("h3",{className:"text-xl font-bold mb-3",children:l.title}),a.jsx("p",{className:"text-gray-600",children:l.description})]},c))})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Research Workflow?"}),a.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of researchers who have already accelerated their publication timeline"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx("button",{onClick:s,className:"bg-white text-blue-600 px-8 py-4 rounded-xl text-lg font-semibold hover:bg-gray-100 transition-all transform hover:scale-105",children:n?"Go to Dashboard":"Start Free Trial"}),a.jsx("button",{onClick:()=>t("pricing"),className:"bg-transparent text-white px-8 py-4 rounded-xl text-lg font-semibold border-2 border-white hover:bg-white hover:text-blue-600 transition-all transform hover:scale-105",children:"View Pricing"})]})]})}),a.jsx("footer",{className:"bg-gray-900 text-white py-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wn,{className:"h-8 w-8 text-blue-400"}),a.jsx("span",{className:"text-2xl font-bold",children:"SciFig AI"})]}),a.jsx("p",{className:"text-gray-400",children:"© 2025 SciFig AI. All rights reserved."})]})})})]})},Ik="modulepreload",Mk=function(e){return"/"+e},gf={},Wi=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=Mk(c),c in gf)return;gf[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Ik,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((h,f)=>{p.addEventListener("load",h),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Fk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Wi(async()=>{const{default:s}=await Promise.resolve().then(()=>Gi);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Wd extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class $k extends Wd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xf extends Wd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yf extends Wd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ou;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ou||(ou={}));var Lk=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(p){o(p)}}function c(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};class zk{constructor(t,{headers:n={},customFetch:s,region:r=ou.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=Fk(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return Lk(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const p=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:d}).catch(b=>{throw new $k(b)}),h=p.headers.get("x-relay-error");if(h&&h==="true")throw new xf(p);if(!p.ok)throw new yf(p);let f=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield p.json():f==="application/octet-stream"?y=yield p.blob():f==="text/event-stream"?y=p:f==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null,response:p}}catch(r){return{data:null,error:r,response:r instanceof yf||r instanceof xf?r.context:void 0}}})}}var dt={},Hd={},Ho={},Hi={},Go={},Ko={},Uk=function(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("unable to locate global object")},Nr=Uk();const Vk=Nr.fetch,Fx=Nr.fetch.bind(Nr),$x=Nr.Headers,Bk=Nr.Request,qk=Nr.Response,Gi=Object.freeze(Object.defineProperty({__proto__:null,Headers:$x,Request:Bk,Response:qk,default:Fx,fetch:Vk},Symbol.toStringTag,{value:"Module"})),Wk=Py(Gi);var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});let Hk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Jo.default=Hk;var Lx=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ko,"__esModule",{value:!0});const Gk=Lx(Wk),Kk=Lx(Jo);let Jk=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Gk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,d=null,p=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),N=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&N&&N.length>1&&(p=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,h=406,f="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,f="OK")}catch{i.status===404&&b===""?(h=204,f="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,f="OK"),u&&this.shouldThrowOnError)throw new Kk.default(u)}return{error:u,data:d,count:p,status:h,statusText:f}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,n)}returns(){return this}overrideTypes(){return this}};Ko.default=Jk;var Qk=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Go,"__esModule",{value:!0});const Yk=Qk(Ko);let Xk=class extends Yk.default{select(t){let n=!1;const s=(t??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Go.default=Xk;var Zk=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hi,"__esModule",{value:!0});const eN=Zk(Go);let tN=class extends eN.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};Hi.default=tN;var nN=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ho,"__esModule",{value:!0});const Br=nN(Hi);let sN=class{constructor(t,{headers:n={},schema:s,fetch:r}){this.url=t,this.headers=n,this.schema=s,this.fetch=r}select(t,{head:n=!1,count:s}={}){const r=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new Br.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Br.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Br.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new Br.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Br.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ho.default=sN;var Qo={},Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.version=void 0;Yo.version="0.0.0-automated";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.DEFAULT_HEADERS=void 0;const rN=Yo;Qo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${rN.version}`};var zx=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hd,"__esModule",{value:!0});const iN=zx(Ho),aN=zx(Hi),oN=Qo;let lN=class Ux{constructor(t,{headers:n={},schema:s,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},oN.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=r}from(t){const n=new URL(`${this.url}/${t}`);return new iN.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Ux(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:r=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;s||r?(o=s?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{l.searchParams.append(d,p)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new aN.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Hd.default=lN;var Or=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dt,"__esModule",{value:!0});dt.PostgrestError=dt.PostgrestBuilder=dt.PostgrestTransformBuilder=dt.PostgrestFilterBuilder=dt.PostgrestQueryBuilder=dt.PostgrestClient=void 0;const Vx=Or(Hd);dt.PostgrestClient=Vx.default;const Bx=Or(Ho);dt.PostgrestQueryBuilder=Bx.default;const qx=Or(Hi);dt.PostgrestFilterBuilder=qx.default;const Wx=Or(Go);dt.PostgrestTransformBuilder=Wx.default;const Hx=Or(Ko);dt.PostgrestBuilder=Hx.default;const Gx=Or(Jo);dt.PostgrestError=Gx.default;var cN=dt.default={PostgrestClient:Vx.default,PostgrestQueryBuilder:Bx.default,PostgrestFilterBuilder:qx.default,PostgrestTransformBuilder:Wx.default,PostgrestBuilder:Hx.default,PostgrestError:Gx.default};const{PostgrestClient:uN,PostgrestQueryBuilder:LE,PostgrestFilterBuilder:zE,PostgrestTransformBuilder:UE,PostgrestBuilder:VE,PostgrestError:BE}=cN;function dN(){if(typeof WebSocket<"u")return WebSocket;if(typeof window.WebSocket<"u"||typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const pN=dN(),hN="2.11.15",fN=`realtime-js/${hN}`,mN="1.0.0",Kx=1e4,gN=1e3;var ui;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ui||(ui={}));var Ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ye||(Ye={}));var $t;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($t||($t={}));var lu;(function(e){e.websocket="websocket"})(lu||(lu={}));var ms;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ms||(ms={}));class xN{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(t.slice(o,o+r));o=o+r;const c=s.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Jx{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(we||(we={}));const vf=(e,t,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((i,o)=>(i[o]=yN(o,e,t,r),i),{})},yN=(e,t,n,s)=>{const r=t.find(l=>l.name===e),i=r==null?void 0:r.type,o=n[e];return i&&!s.includes(i)?Qx(i,o):cu(o)},Qx=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return jN(t,n)}switch(e){case we.bool:return vN(t);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return bN(t);case we.json:case we.jsonb:return wN(t);case we.timestamp:return _N(t);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return cu(t);default:return cu(t)}},cu=e=>e,vN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},wN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},jN=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Qx(t,l))}return e},_N=e=>typeof e=="string"?e.replace(" ","T"):e,Yx=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Wl{constructor(t,n,s={},r=Kx){this.channel=t,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var bf;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(bf||(bf={}));class di{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=di.syncState(this.state,r,i,o),this.pendingDiffs.forEach(c=>{this.state=di.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=di.syncDiff(this.state,r,i,o),l())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,r){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const p=i[u];if(p){const h=d.map(N=>N.presence_ref),f=p.map(N=>N.presence_ref),y=d.filter(N=>f.indexOf(N.presence_ref)<0),b=p.filter(N=>h.indexOf(N.presence_ref)<0);y.length>0&&(l[u]=y),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},s,r)}static syncDiff(t,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const p=t[l].map(f=>f.presence_ref),h=d.filter(f=>p.indexOf(f.presence_ref)<0);t[l].unshift(...h)}s(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(p=>p.presence_ref);u=u.filter(p=>d.indexOf(p.presence_ref)<0),t[l]=u,r(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const r=t[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wf;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wf||(wf={}));var jf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jf||(jf={}));var an;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(an||(an={}));class Gd{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wl(this,$t.join,this.params,this.timeout),this.rejoinTimer=new Jx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on($t.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new di(this),this.broadcastEndpointURL=Yx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(an.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(an.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&r!==void 0?r:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){t==null||t(an.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(p=h==null?void 0:h.length)!==null&&p!==void 0?p:0,y=[];for(let b=0;b<f;b++){const N=h[b],{filter:{event:v,schema:g,table:m,filter:k}}=N,T=d&&d[b];if(T&&T.event===v&&T.schema===g&&T.table===m&&T.filter===k)y.push(Object.assign(Object.assign({},N),{id:T.id}));else{this.unsubscribe(),this.state=Ye.errored,t==null||t(an.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(an.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ye.errored,t==null||t(an.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(an.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,r;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($t.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new Wl(this,$t.leave,{},t),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Wl(this,t,n,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var r,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=$t;if(s&&[l,c,u,d].indexOf(o)>=0&&s!==this._joinRef())return;let h=this._onMessage(o,n,s);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var y,b,N;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((N=(b=f.filter)===null||b===void 0?void 0:b.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(f=>f.callback(h,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var y,b,N,v,g,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,T=(y=f.filter)===null||y===void 0?void 0:y.event;return k&&((b=n.ids)===null||b===void 0?void 0:b.includes(k))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const k=(g=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return k==="*"||k===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:b,table:N,commit_timestamp:v,type:g,errors:m}=y;h=Object.assign(Object.assign({},{schema:b,table:N,commit_timestamp:v,eventType:g,new:{},old:{},errors:m}),this._getPayloadRecords(y))}f.callback(h,s)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const r=t.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Gd.isEqual(r.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($t.close,{},t)}_onError(t){this._on($t.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=vf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=vf(t.columns,t.old_record)),n}}const _f=()=>{},kN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class NN{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kx,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_f,this.ref=0,this.logger=_f,this.conn=null,this.sendBuffer=[],this.serializer=new xN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Wi(async()=>{const{default:c}=await import("./index-DLwETUMZ.js");return{default:c}},[]).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${lu.websocket}`,this.httpEndpoint=Yx(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Jx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=pN),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mN}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ui.connecting:return ms.Connecting;case ui.open:return ms.Open;case ui.closing:return ms.Closing;default:return ms.Closed}}isConnected(){return this.connectionState()===ms.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,r=this.getChannels().find(i=>i.topic===s);if(r)return r;{const i=new Gd(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:s,payload:r,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const r={access_token:n,version:fN};n&&s.updateJoinPayload(r),s.joinedOnce&&s._isJoined()&&s._push($t.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(gN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:r,payload:i,ref:o}=n;s==="phoenix"&&r==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger($t.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${s}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([kN],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class Kd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class SN extends Kd{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class uu extends Kd{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var EN=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(p){o(p)}}function c(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const Xx=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Wi(async()=>{const{default:s}=await Promise.resolve().then(()=>Gi);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},PN=()=>EN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wi(()=>Promise.resolve().then(()=>Gi),void 0)).Response:Response}),du=e=>{if(Array.isArray(e))return e.map(n=>du(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=du(s)}),t},CN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ds=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(p){o(p)}}function c(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const Hl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TN=(e,t,n)=>Ds(void 0,void 0,void 0,function*(){const s=yield PN();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const i=e.status||500,o=(r==null?void 0:r.statusCode)||i+"";t(new SN(Hl(r),i,o))}).catch(r=>{t(new uu(Hl(r),r))}):t(new uu(Hl(e),e))}),AN=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?r:(CN(s)?(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(s)):r.body=s,Object.assign(Object.assign({},r),n))};function Ki(e,t,n,s,r,i){return Ds(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,AN(t,s,r,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>TN(c,l,s))})})}function go(e,t,n,s){return Ds(this,void 0,void 0,function*(){return Ki(e,"GET",t,n,s)})}function on(e,t,n,s,r){return Ds(this,void 0,void 0,function*(){return Ki(e,"POST",t,s,r,n)})}function pu(e,t,n,s,r){return Ds(this,void 0,void 0,function*(){return Ki(e,"PUT",t,s,r,n)})}function ON(e,t,n,s){return Ds(this,void 0,void 0,function*(){return Ki(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Zx(e,t,n,s,r){return Ds(this,void 0,void 0,function*(){return Ki(e,"DELETE",t,s,r,n)})}var ct=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(p){o(p)}}function c(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const RN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class DN{constructor(t,n={},s,r){this.url=t,this.headers=n,this.bucketId=s,this.fetch=Xx(r)}uploadOrUpdate(t,n,s,r){return ct(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},kf),r);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),p=yield(t=="PUT"?pu:on)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}upload(t,n,s){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,r){return ct(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:kf.upsert},r),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const p=yield pu(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:p.Key},error:null}}catch(c){if(Ve(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ct(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield on(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Kd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}update(t,n,s){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return ct(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}copy(t,n,s){return ct(this,void 0,void 0,function*(){try{return{data:{path:(yield on(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}createSignedUrl(t,n,s){return ct(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield on(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,s){return ct(this,void 0,void 0,function*(){try{const r=yield on(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}download(t,n){return ct(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield go(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ve(l))return{data:null,error:l};throw l}})}info(t){return ct(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield go(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:du(s),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}exists(t){return ct(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ON(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Ve(s)&&s instanceof uu){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&r.push(c);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return ct(this,void 0,void 0,function*(){try{return{data:yield Zx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}list(t,n,s){return ct(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},RN),n),{prefix:t||""});return{data:yield on(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const IN="2.10.4",MN={"X-Client-Info":`storage-js/${IN}`};var Fs=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(p){o(p)}}function c(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,[])).next())})};class FN{constructor(t,n={},s,r){const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},MN),n),this.fetch=Xx(s)}listBuckets(){return Fs(this,void 0,void 0,function*(){try{return{data:yield go(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ve(t))return{data:null,error:t};throw t}})}getBucket(t){return Fs(this,void 0,void 0,function*(){try{return{data:yield go(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Fs(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Fs(this,void 0,void 0,function*(){try{return{data:yield pu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Fs(this,void 0,void 0,function*(){try{return{data:yield on(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Fs(this,void 0,void 0,function*(){try{return{data:yield Zx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}}class $N extends FN{constructor(t,n={},s,r){super(t,n,s,r)}from(t){return new DN(this.url,this.headers,t,this.fetch)}}const LN="2.53.0";let Qr="";typeof Deno<"u"?Qr="deno":typeof document<"u"?Qr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qr="react-native":Qr="node";const zN={"X-Client-Info":`supabase-js-${Qr}/${LN}`},UN={headers:zN},VN={schema:"public"},BN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qN={};var WN=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(p){o(p)}}function c(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})};const HN=e=>{let t;return e?t=e:typeof fetch>"u"?t=Fx:t=fetch,(...n)=>t(...n)},GN=()=>typeof Headers>"u"?$x:Headers,KN=(e,t,n)=>{const s=HN(n),r=GN();return(i,o)=>WN(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};var JN=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(p){o(p)}}function c(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,[])).next())})};function QN(e){return e.endsWith("/")?e:e+"/"}function YN(e,t){var n,s;const{db:r,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:p}=t,h={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>JN(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const ey="2.71.1",Bs=30*1e3,hu=3,Gl=hu*Bs,XN="http://localhost:9999",ZN="supabase.auth.token",eS={"X-Client-Info":`gotrue-js/${ey}`},fu="X-Supabase-Api-Version",ty={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nS=10*60*1e3;class Jd extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sS extends Jd{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function rS(e){return le(e)&&e.name==="AuthApiError"}class ny extends Jd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ss extends Jd{constructor(t,n,s,r){super(t,s,r),this.name=n,this.status=s}}class Nn extends ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iS(e){return le(e)&&e.name==="AuthSessionMissingError"}class ga extends ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xa extends ss{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ya extends ss{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aS(e){return le(e)&&e.name==="AuthImplicitGrantRedirectError"}class Nf extends ss{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mu extends ss{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Kl(e){return le(e)&&e.name==="AuthRetryableFetchError"}class Sf extends ss{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class gu extends ss{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ef=` 	
\r=`.split(""),oS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ef.length;t+=1)e[Ef[t].charCodeAt(0)]=-2;for(let t=0;t<xo.length;t+=1)e[xo[t].charCodeAt(0)]=t;return e})();function Pf(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(xo[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(xo[s]),t.queuedBits-=6}}function sy(e,t,n){const s=oS[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Cf(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{uS(o,s,n)};for(let o=0;o<e.length;o+=1)sy(e.charCodeAt(o),r,i);return t.join("")}function lS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function cS(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}lS(s,t)}}function uS(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function dS(e){const t=[],n={queue:0,queuedBits:0},s=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)sy(e.charCodeAt(r),n,s);return new Uint8Array(t)}function pS(e){const t=[];return cS(e,n=>t.push(n)),new Uint8Array(t)}function hS(e){const t=[],n={queue:0,queuedBits:0},s=r=>{t.push(r)};return e.forEach(r=>Pf(r,n,s)),Pf(null,n,s),t.join("")}function fS(e){return Math.round(Date.now()/1e3)+e}function mS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",os={tested:!1,writable:!1},ry=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(os.tested)return os.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),os.tested=!0,os.writable=!0}catch{os.tested=!0,os.writable=!1}return os.writable};function gS(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{t[r]=s}),t}const iy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Wi(async()=>{const{default:s}=await Promise.resolve().then(()=>Gi);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},xS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ls=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_n=async(e,t)=>{await e.removeItem(t)};class Xo{constructor(){this.promise=new Xo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Xo.promiseConstructor=Promise;function Jl(e){const t=e.split(".");if(t.length!==3)throw new gu("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!tS.test(t[s]))throw new gu("JWT not in base64url format");return{header:JSON.parse(Cf(t[0])),payload:JSON.parse(Cf(t[1])),signature:dS(t[2]),raw:{header:t[0],payload:t[1]}}}async function yS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vS(e,t){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){s(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function bS(e){return("0"+e.toString(16)).substr(-2)}function wS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(t),Array.from(t,bS).join("")}async function jS(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function _S(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await jS(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(e,t,n=!1){const s=wS();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await qs(e,`${t}-code-verifier`,r);const i=await _S(s);return[i,s===i?"plain":"s256"]}const kS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NS(e){const t=e.headers.get(fu);if(!t||!t.match(kS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function SS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ES(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ls(e){if(!PS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ql(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Tf(e){return JSON.parse(JSON.stringify(e))}var CS=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};const fs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TS=[502,503,504];async function Af(e){var t;if(!xS(e))throw new mu(fs(e),0);if(TS.includes(e.status))throw new mu(fs(e),e.status);let n;try{n=await e.json()}catch(i){throw new ny(fs(i),i)}let s;const r=NS(e);if(r&&r.getTime()>=ty["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Sf(fs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Nn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Sf(fs(n),e.status,n.weak_password.reasons);throw new sS(fs(n),e.status||500,s)}const AS=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function pe(e,t,n,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[fu]||(i[fu]=ty["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await OS(e,t,n+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function OS(e,t,n,s,r,i){const o=AS(t,s,r,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new mu(fs(c),0)}if(l.ok||await Af(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await Af(c)}}function sn(e){var t;let n=null;MS(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=fS(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function Of(e){const t=sn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function An(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function RS(e){return{data:e,error:null}}function DS(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=e,o=CS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function IS(e){return e}function MS(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yl=["global","local","others"];var FS=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n};class $S{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=iy(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Yl[0]){if(Yl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yl.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:An})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=FS(t,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:DS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(le(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:An})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,r,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:IS});if(d.error)throw d.error;const p=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(y.split(";")[1].split("=")[1]);u[`${N}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(le(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ls(t);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:An})}catch(n){if(le(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ls(t);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:An})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ls(t);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:An})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ls(t.userId);try{const{data:n,error:s}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(le(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ls(t.userId),Ls(t.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}}function Rf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function LS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zs={debug:!!(globalThis&&ry()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ay extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class zS extends ay{}async function US(e,t,n){zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new zS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}LS();const VS={url:XN,storageKey:ZN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Df(e,t,n){return await n()}const Us={};class Ri{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ri.nextInstanceID,Ri.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},VS),t);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new $S({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=iy(r.fetch),this.lock=r.lock||Df,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:It()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=US:this.lock=Df,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:ry()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rf(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=Rf(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Us[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Us[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Us[this.storageKey]=Object.assign(Object.assign({},Us[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ey}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=gS(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),It()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),aS(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return le(n)?{error:n}:{error:new ny("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,r;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:sn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,s,r;try{let i;if("email"in t){const{email:d,password:p,options:h}=t;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await $s(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:p,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:y},xform:sn})}else if("phone"in t){const{phone:d,password:p,options:h}=t;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sn})}else throw new xa("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(le(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Of})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Of})}else throw new xa("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ga}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,r,i,o,l,c,u,d,p,h,f;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:N,wallet:v,statement:g,options:m}=t;let k;if(It())if(typeof v=="object")k=v;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))k=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=v}const T=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const P=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),g?{statement:g}:null));let _;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")_=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)_=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)y=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),b=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${T.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(r=(s=m==null?void 0:m.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((p=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...m.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const P=await k.signMessage(new TextEncoder().encode(y),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=P}}try{const{data:N,error:v}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:hS(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:sn});if(v)throw v;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new ga}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:v})}catch(N){if(le(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const n=await ls(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:sn});if(await _n(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ga}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(le(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=t,l=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:sn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ga}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,r,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $s(this.storage,this.storageKey));const{error:p}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new xa("You must provide either an email or phone number.")}catch(l){if(le(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let r,i;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:sn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(le(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await $s(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:RS})}catch(i){if(le(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Nn;const{error:r}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(le(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:r,options:i}=t,{error:o}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:s,type:r,options:i}=t,{data:o,error:l}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new xa("You must provide either an email or phone number and a type")}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Gl:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await ls(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ql()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:An}):await this._useSession(async n=>{var s,r,i;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nn}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:An})})}catch(n){if(le(n))return iS(n)&&(await this._removeSession(),await _n(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new Nn;const o=r.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await $s(this.storage,this.storageKey));const{data:u,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:An});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(le(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nn;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:o}=Jl(t.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(le(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Nn;const{session:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(le(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!It())throw new ya("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ya(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Nf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ya("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Nf("No code detected.");const{data:g,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new ya("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(l);let h=d+p;c&&(h=parseInt(c));const f=h-d;f*1e3<=Bs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${p}s`);const y=h-p;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:b,error:N}=await this._getUser(i);if(N)throw N;const v={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:p,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(s){if(le(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ls(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(rS(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await _n(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=mS(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await $s(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(le(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(le(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,l,c,u,d;const{data:p,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(r)throw r;return It()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(le(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await vS(async r=>(r>0&&await yS(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sn})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Kl(i)&&Date.now()+o-s<Bs})}catch(s){if(this._debug(n,"error",s),le(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),It()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await ls(this.storage,this.storageKey);if(r&&this.userStorage){let o=await ls(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await qs(this.userStorage,this.storageKey+"-user",o)),r.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ql()}else if(r&&!r.user&&!r.user){const o=await ls(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(r.user=o.user,await _n(this.storage,this.storageKey+"-user"),await qs(this.storage,this.storageKey,r)):r.user=Ql()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const i=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Gl;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Gl}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Kl(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(r.access_token);!l&&(o!=null&&o.user)?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Xo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Nn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(r,"error",i),le(i)){const o={session:null,error:i};return Kl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,s=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await qs(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const i=Tf(r);await qs(this.storage,this.storageKey,i)}else{const r=Tf(n);await qs(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await _n(this.storage,this.storageKey),await _n(this.storage,this.storageKey+"-code-verifier"),await _n(this.storage,this.storageKey+"-user"),this.userStorage&&await _n(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-t)/Bs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Bs}ms, refresh threshold is ${hu} ticks`),r<=hu&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ay)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await $s(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(le(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(le(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(le(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:r},error:i}=t;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Jl(r.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+nS>r)return s;const{data:i,error:o}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,s=i.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:f,error:y}=await this.getSession();if(y||!f.session)return{data:null,error:y};s=f.session.access_token}const{header:r,payload:i,signature:o,raw:{header:l,payload:c}}=Jl(s);n!=null&&n.allowExpired||SS(i.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:r,signature:o},error:null}}const d=ES(r.alg),p=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,o,pS(`${l}.${c}`)))throw new gu("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(s){if(le(s))return{data:null,error:s};throw s}}}Ri.nextInstanceID=0;const BS=Ri;class qS extends BS{constructor(t){super(t)}}var WS=function(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(p){o(p)}}function c(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,[])).next())})};class HS{constructor(t,n,s){var r,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=QN(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:VN,realtime:qN,auth:Object.assign(Object.assign({},BN),{storageKey:u}),global:UN},p=YN(s??{},d);this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=p.global.headers)!==null&&i!==void 0?i:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=KN(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new uN(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new $N(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new zk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return WS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:i,flowType:o,lock:l,debug:c},u,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qS({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:r,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new NN(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const GS=(e,t,n)=>new HS(e,t,n);function KS(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}KS()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const JS="https://nynbcyrlppmkwkhxdyyo.supabase.co",QS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im55bmJjeXJscHBta3draHhkeXlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0MTU5OTcsImV4cCI6MjA2OTk5MTk5N30.Y3dy46J9-wZlMIcilbK3XNmuZ8chychZcKDC42AB2II",Gt=GS(JS,QS);var oy=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(oy||{});class YS{constructor(){Me(this,"logLevel");Me(this,"isDevelopment");this.isDevelopment=!1,this.logLevel=this.isDevelopment?0:2}formatMessage(t,n,s){const r=new Date().toISOString(),i=oy[t],o=s?`[${s}]`:"";return`${r} ${i} ${o} ${n}`}shouldLog(t){return t>=this.logLevel}debug(t,n,s){if(!this.shouldLog(0))return;const r=this.formatMessage(0,t,s);n?console.log(r,n):console.log(r)}info(t,n,s){if(!this.shouldLog(1))return;const r=this.formatMessage(1,t,s);n?console.info(r,n):console.info(r)}warn(t,n,s){if(!this.shouldLog(2))return;const r=this.formatMessage(2,t,s);n?console.warn(r,n):console.warn(r)}error(t,n,s){if(!this.shouldLog(3))return;const r=this.formatMessage(3,t,s);n?console.error(r,n):console.error(r)}apiRequest(t,n,s){this.debug(`API ${t} ${n}`,s,"API")}apiResponse(t,n,s,r){s>=400?this.error(`API ${t} ${n} failed with status ${s}`,r,"API"):this.debug(`API ${t} ${n} success (${s})`,r,"API")}componentMount(t){this.debug("Component mounted",void 0,t)}componentUnmount(t){this.debug("Component unmounted",void 0,t)}userAction(t,n){this.info(`User action: ${t}`,n,"USER")}}const fe=new YS,qr="http://localhost:8000",If="/api/v1";class XS{constructor(){Me(this,"baseURL");Me(this,"backendToken",null);Me(this,"auth",{login:async t=>this.request("/auth/login",{method:"POST",body:JSON.stringify(t)}),signup:async t=>this.request("/auth/signup",{method:"POST",body:JSON.stringify(t)}),logout:async()=>this.request("/auth/logout",{method:"POST"}),me:async()=>this.request("/auth/me"),checkSession:async()=>{try{const t=await this.request("/auth/check");return{valid:!0,user:{id:t.id,email:t.email,name:t.full_name,role:t.role,subscription_tier:t.subscription_tier||"free",subscription_status:t.subscription_status||"active",trial_ends_at:t.trial_ends_at,created_at:t.created_at,updated_at:t.updated_at}}}catch{return{valid:!1}}},getLimits:async()=>this.request("/auth/limits")});Me(this,"files",{upload:async t=>{const n=new FormData;n.append("file",t);const{data:{session:s}}=await Gt.auth.getSession(),r={};s!=null&&s.access_token&&(r.Authorization=`Bearer ${s.access_token}`);const i=await fetch(`${this.baseURL}/files/upload`,{method:"POST",headers:r,body:n});if(!i.ok){let o=`Upload failed: ${i.status}`;try{const l=await i.json();o=l.detail||l.message||o}catch{}throw new Error(o)}return i.json()},getDataset:async t=>this.request(`/files/datasets/${t}`),getDatasetData:async(t,n,s)=>{const r=new URLSearchParams;n&&r.append("limit",n.toString()),s&&r.append("offset",s.toString());const i=`/files/datasets/${t}/data${r.toString()?"?"+r.toString():""}`;return this.request(i)},deleteDataset:async t=>this.request(`/files/datasets/${t}`,{method:"DELETE"})});Me(this,"analysis",{run:async(t,n)=>{const s=await this.files.getDatasetData(t),r=await this.getAuthHeaders(),i=await fetch(`${this.baseURL}/analyze`,{method:"POST",headers:{"Content-Type":"application/json",...r},body:JSON.stringify({data:s.data,outcome_variable:n.outcome_variable,group_variable:n.group_variable,analysis_type:n.test_type||"independent_ttest",time_variable:n.time_variable,event_variable:n.event_variable})});if(!i.ok)throw new Error(`Analysis failed: ${i.status}`);const o=await i.json();return{id:`analysis_${Date.now()}`,status:"completed",created_at:new Date().toISOString(),completed_at:new Date().toISOString(),config:n,results:o,data_profile:{sample_size:s.data.length,outcome_type:"continuous",n_groups:n.group_variable?2:1},recommendation:{primary:o.test_name||"Statistical test",alternative:""},validation:{issues:[],warnings:[]}}},get:async t=>this.request(`/analysis/${t}`),list:async()=>this.request("/analysis/"),getFigures:async t=>this.request(`/analysis/${t}/figures`),regenerateFigures:async(t,n)=>this.request(`/analysis/${t}/figures/regenerate`,{method:"POST",body:JSON.stringify(n)}),runComprehensive:async t=>{const n=await fetch(`${qr}/analyze/comprehensive`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const s=await n.json().catch(()=>({detail:"Unknown error"}));throw new Error(s.detail||`Analysis failed: ${n.status}`)}return n.json()},recommendTest:async t=>{const n=await fetch(`${qr}/recommend_test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const s=await n.json().catch(()=>({detail:"Unknown error"}));throw new Error(s.detail||`Test recommendation failed: ${n.status}`)}return n.json()},checkAssumptions:async t=>{const n=await fetch(`${qr}/check_assumptions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const s=await n.json().catch(()=>({detail:"Unknown error"}));throw new Error(s.detail||`Assumption check failed: ${n.status}`)}return n.json()},runEnhanced:async(t,n)=>{const s=await fetch(`${qr}${If}/files/datasets/${t}/data`,{headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`Failed to get dataset data: ${s.status}`);const r=await s.json();return ue.analysis.runComprehensive({data:r.data,outcome_variable:n.outcome_variable,group_variable:n.group_variable,analysis_type:n.test_type,time_variable:n.time_variable,event_variable:n.event_variable,check_assumptions:n.check_assumptions??!0})}});Me(this,"projects",{list:async(t=1,n=50,s)=>{const r=new URLSearchParams;return r.append("page",t.toString()),r.append("limit",n.toString()),s&&r.append("search",s),this.request(`/projects?${r.toString()}`)},create:async t=>this.request("/projects",{method:"POST",body:JSON.stringify(t)}),get:async t=>this.request(`/projects/${t}`),update:async(t,n)=>this.request(`/projects/${t}`,{method:"PUT",body:JSON.stringify(n)}),delete:async t=>this.request(`/projects/${t}`,{method:"DELETE"}),getStats:async t=>this.request(`/projects/${t}/stats`)});Me(this,"analyses",{list:async(t=1,n=50,s,r)=>{const i=new URLSearchParams;return i.append("page",t.toString()),i.append("limit",n.toString()),s&&i.append("project_id",s),r&&i.append("analysis_type",r),this.request(`/analyses?${i.toString()}`)},create:async t=>this.request("/analyses",{method:"POST",body:JSON.stringify(t)}),get:async t=>this.request(`/analyses/${t}`),update:async(t,n)=>this.request(`/analyses/${t}`,{method:"PUT",body:JSON.stringify(n)}),delete:async t=>this.request(`/analyses/${t}`,{method:"DELETE"})});Me(this,"templates",{getAll:async()=>this.request("/visualization/templates"),getByCategory:async t=>this.request(`/visualization/templates/category/${t}`),getById:async t=>this.request(`/visualization/templates/${t}`),search:async t=>this.request(`/visualization/templates/search/${encodeURIComponent(t)}`),recommend:async(t,n)=>this.request("/visualization/templates/recommend",{method:"POST",body:JSON.stringify({data:t,analysis_goal:n})})});Me(this,"ai",{suggestPlots:async(t,n,s=5)=>this.request("/visualization/ai/suggest_plots",{method:"POST",body:JSON.stringify({data:t,analysis_goal:n,top_k:s})}),getAnalysisGoals:async()=>this.request("/visualization/ai/analysis_goals")});Me(this,"statistical",{analyze:async t=>this.request("/statistical/analyze",{method:"POST",body:JSON.stringify(t)}),analyzeMultivariate:async t=>this.request("/statistical/analyze_multivariate",{method:"POST",body:JSON.stringify(t)}),getUsage:async()=>this.request("/statistical/usage"),getMethods:async()=>this.request("/statistical/methods")});Me(this,"figureAnalysis",{analyze:async t=>{const n=new FormData;n.append("file",t);const s=await ue.getAuthHeaders(),r={};return s.Authorization&&(r.Authorization=s.Authorization),ue.request("/figure_analysis/analyze",{method:"POST",body:n,headers:r})},getUsage:async()=>this.request("/figure_analysis/usage")});Me(this,"admin",{getStats:async()=>this.request("/admin/stats"),getUsers:async()=>this.request("/auth/users"),getUsersUsage:async()=>this.request("/admin/users/usage"),updateUserRole:async(t,n)=>this.request(`/auth/users/${t}`,{method:"PUT",body:JSON.stringify({role:n})}),resetUserUsage:async(t,n)=>{const s=n?`/admin/users/${t}/reset-usage?feature_type=${n}`:`/admin/users/${t}/reset-usage`;return this.request(s,{method:"POST"})},createUser:async t=>this.request("/admin/users",{method:"POST",body:JSON.stringify(t)}),deleteUser:async t=>this.request(`/admin/users/${t}`,{method:"DELETE"})});Me(this,"health",{check:async()=>this.request("/status")});this.baseURL=`${qr}${If}`}setBackendToken(t){this.backendToken=t}async getAuthHeaders(){var n;const t={"Content-Type":"application/json"};if(this.backendToken)t.Authorization=`Bearer ${this.backendToken}`,fe.debug("Backend token added to headers",void 0,"API");else{const{data:{session:s}}=await Gt.auth.getSession();fe.debug("Getting auth headers",{hasSession:!!s,hasToken:!!(s!=null&&s.access_token),userId:(n=s==null?void 0:s.user)==null?void 0:n.id},"API"),s!=null&&s.access_token?(t.Authorization=`Bearer ${s.access_token}`,fe.debug("Auth token added to headers",void 0,"API")):fe.warn("No auth token available - user may not be logged in",void 0,"API")}return t}async request(t,n={}){const s=`${this.baseURL}${t}`,r=n.method||"GET",i=await this.getAuthHeaders(),o={...n,headers:{...i,...n.headers}};fe.apiRequest(r,t,n.body?JSON.parse(n.body):void 0);try{const l=await fetch(s,o);if(!l.ok){const u=await l.json().catch(()=>({}));fe.error(`API ${r} ${t} failed with status ${l.status}`,u);let d=`HTTP ${l.status}`;throw u.detail?Array.isArray(u.detail)?d=u.detail.map(p=>{var h;return`${((h=p.loc)==null?void 0:h.join("."))||"field"}: ${p.msg}`}).join("; "):typeof u.detail=="string"?d=u.detail:d=JSON.stringify(u.detail):u.message&&(d=u.message),new Error(d)}if(l.status===204)return fe.apiResponse(r,t,l.status),{};const c=await l.json();return fe.apiResponse(r,t,l.status,c),c}catch(l){if(l instanceof Error)throw fe.error(`API request failed: ${r} ${t}`,l,"API"),l;const c=new Error("Network request failed");throw fe.error(`Network error: ${r} ${t}`,c,"API"),c}}}const ue=new XS,ZS=e=>e instanceof Error?e.message:"An unexpected error occurred",e2=()=>{const[e,t]=E.useState({user:null,loading:!0,error:null}),n=E.useRef(!1);E.useEffect(()=>{s();const{data:{subscription:h}}=Gt.auth.onAuthStateChange(async f=>{n.current||(f==="SIGNED_IN"||f==="TOKEN_REFRESHED"?s():f==="SIGNED_OUT"&&t(y=>({...y,user:null,loading:!1})))});return()=>h.unsubscribe()},[]);const s=async()=>{if(!n.current){n.current=!0,t(h=>({...h,loading:!0,error:null}));try{const{data:{session:h}}=await Gt.auth.getSession();if(!h){t(y=>({...y,user:null,loading:!1}));return}const f=new Promise((y,b)=>setTimeout(()=>b(new Error("Backend auth timeout")),5e3));try{const y=await Promise.race([ue.auth.checkSession(),f]);y.valid&&y.user?t({user:y.user,loading:!1,error:null}):t({user:null,loading:!1,error:null})}catch(y){console.warn("Backend auth check failed, continuing with Supabase-only auth:",y),t({user:null,loading:!1,error:null})}}catch(h){console.error("Session check failed:",h),t(f=>({...f,loading:!1,error:h instanceof Error?h.message:"Session verification failed"}))}finally{n.current=!1}}};return{...e,signIn:async(h,f)=>{t(y=>({...y,loading:!0,error:null}));try{const{data:y,error:b}=await Gt.auth.signInWithPassword({email:h,password:f});if(b)throw b;const N=await ue.auth.login({email:h,password:f});return t({user:N.user,loading:!1,error:null}),N}catch(y){throw t(b=>({...b,loading:!1,error:y instanceof Error?y.message:"Sign in failed"})),y}},signUp:async(h,f,y)=>{t(b=>({...b,loading:!0,error:null}));try{const{data:b,error:N}=await Gt.auth.signUp({email:h,password:f,options:{data:{name:y||""}}});if(N)throw N;const v=await ue.auth.signup({email:h,password:f,name:y});return t(g=>({...g,loading:!1})),v}catch(b){throw t(N=>({...N,loading:!1,error:b instanceof Error?b.message:"Sign up failed"})),b}},signInWithGoogle:async()=>{t(h=>({...h,loading:!0,error:null}));try{const{data:h,error:f}=await Gt.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`}});if(f)throw f;return h}catch(h){throw t(f=>({...f,loading:!1,error:h instanceof Error?h.message:"Google sign in failed"})),h}},signOut:async()=>{t(h=>({...h,loading:!0,error:null}));try{await ue.auth.logout(),await Gt.auth.signOut(),t({user:null,loading:!1,error:null})}catch(h){throw t(f=>({...f,loading:!1,error:h instanceof Error?h.message:"Sign out failed"})),h}},resetPassword:async h=>{t(f=>({...f,loading:!0,error:null}));try{const{error:f}=await Gt.auth.resetPasswordForEmail(h,{redirectTo:`${window.location.origin}/reset-password`});if(f)throw f;t(y=>({...y,loading:!1}))}catch(f){throw t(y=>({...y,loading:!1,error:f instanceof Error?f.message:"Password reset failed"})),f}},updateUser:async h=>{t(f=>({...f,loading:!0,error:null}));try{const f=await ue.auth.me();return t({user:f,loading:!1,error:null}),f}catch(f){throw t(y=>({...y,loading:!1,error:f instanceof Error?f.message:"Profile update failed"})),f}},checkSession:s,getAccessToken:async()=>{const{data:{session:h}}=await Gt.auth.getSession();return(h==null?void 0:h.access_token)||null},getLimits:async()=>{try{return await ue.auth.getLimits()}catch(h){return console.error("Failed to get usage limits:",h),{analyses_remaining:0,figures_remaining:0,storage_used:0,storage_limit:0}}}}},ly=E.createContext(void 0),t2=({children:e})=>{const t=e2();return a.jsx(ly.Provider,{value:t,children:e})},Zo=()=>{const e=E.useContext(ly);if(e===void 0)throw new Error("useAuth must be used within an ApiAuthProvider");return e},n2=()=>{const{user:e}=Zo(),[t,n]=E.useState([]),[s,r]=E.useState(!0),[i,o]=E.useState(null);E.useEffect(()=>{e?(fe.debug("User authenticated, fetching projects",{userId:e.id},"useProjects"),l()):(fe.debug("No authenticated user, clearing projects",void 0,"useProjects"),n([]),r(!1))},[e==null?void 0:e.id]);const l=async()=>{if(!e){o("User not authenticated");return}r(!0),o(null);try{const h=await ue.projects.list();fe.info("Projects fetched successfully",{count:h.projects.length},"useProjects"),n(h.projects)}catch(h){fe.error("Failed to fetch projects",h,"useProjects"),o(h instanceof Error?h.message:"Failed to fetch projects")}finally{r(!1)}};return{projects:t,loading:s,error:i,createProject:async(h,f)=>{if(fe.debug("createProject called",{name:h,description:f,hasUser:!!e},"useProjects"),!e)throw fe.error("Cannot create project - user not authenticated",void 0,"useProjects"),new Error("User not authenticated");r(!0),o(null);try{fe.info("Creating project via API",{name:h,description:f},"useProjects");const y=await ue.projects.create({name:h,description:f,is_shared:!1});return fe.info("Project created successfully",{projectId:y.id,name:y.name},"useProjects"),n(b=>[...b,y]),y}catch(y){throw fe.error("Failed to create project",y,"useProjects"),o(y instanceof Error?y.message:"Failed to create project"),y}finally{r(!1)}},updateProject:async(h,f)=>{if(!e)throw new Error("User not authenticated");r(!0),o(null);try{const y=await ue.projects.update(h,{name:f.name,description:f.description,study_type:f.study_type,is_shared:f.is_shared});return n(b=>b.map(N=>N.id===h?y:N)),y}catch(y){throw o(y instanceof Error?y.message:"Failed to update project"),y}finally{r(!1)}},deleteProject:async h=>{if(!e)throw new Error("User not authenticated");r(!0),o(null);try{return await ue.projects.delete(h),n(f=>f.filter(y=>y.id!==h)),!0}catch(f){throw o(f instanceof Error?f.message:"Failed to delete project"),f}finally{r(!1)}},getProject:async h=>{if(!e)throw new Error("User not authenticated");r(!0),o(null);try{return await ue.projects.get(h)}catch(f){throw o(f instanceof Error?f.message:"Failed to get project"),f}finally{r(!1)}},refreshProjects:l}},s2=({user:e,onNavigate:t,onLogout:n,onSetProject:s})=>{var P,_;const{projects:r,loading:i,error:o,createProject:l,refreshProjects:c}=n2(),[u,d]=E.useState(!1),[p,h]=E.useState(""),[f,y]=E.useState(""),[b,N]=E.useState(!1);E.useEffect(()=>(fe.componentMount("Dashboard"),fe.info("Dashboard loaded",{userId:e.id,userEmail:e.email,hasUser:!!e,projectsCount:r.length,isLoading:i,hasError:!!o,errorMessage:o},"Dashboard"),()=>{fe.componentUnmount("Dashboard")}),[e.id,r.length,o,i]);const v=r.sort((x,j)=>new Date(j.created_at).getTime()-new Date(x.created_at).getTime()).slice(0,5).map(x=>({id:x.id,name:x.name,lastModified:new Date(x.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}),status:"completed",type:x.study_type||"Study"})),g=[{label:"Projects Created",value:r.length,icon:st,color:"text-green-600"},{label:"Shared Projects",value:r.filter(x=>x.is_shared).length,icon:it,color:"text-blue-600"},{label:"Recent Activity",value:r.filter(x=>{const j=new Date(Date.now()-6048e5);return new Date(x.updated_at)>j}).length,icon:Xn,color:"text-purple-600"},{label:"Total Analyses",value:r.reduce((x,j)=>x+(j.analyses_count||0),0),icon:Yn,color:"text-orange-600"}],m=()=>{const x=e.subscription_tier||"free",j={free:"bg-gray-100 text-gray-800",pro:"bg-blue-100 text-blue-800",enterprise:"bg-purple-100 text-purple-800"};return a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j[x]}`,children:[x==="free"&&"Free",x==="pro"&&"Pro",x==="enterprise"&&"Enterprise"]})},k=()=>e.trial_ends_at?new Date(e.trial_ends_at)>new Date:!1,T=async x=>{if(x.preventDefault(),fe.debug("Form submitted",{name:p,description:f},"Dashboard"),!p.trim()){fe.warn("Project name is empty, aborting creation",void 0,"Dashboard");return}fe.userAction("create_project_attempt",{name:p}),N(!0);try{fe.debug("Calling createProject function",void 0,"Dashboard");const j=await l(p,f);fe.userAction("create_project_success",{projectId:j.id,name:p}),h(""),y(""),d(!1)}catch(j){fe.error("Failed to create project from dashboard",j,"Dashboard"),alert(`Failed to create project: ${j instanceof Error?j.message:"Unknown error"}`)}finally{N(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"SciFig AI"}),a.jsxs("nav",{className:"hidden md:flex space-x-8",children:[a.jsx("button",{className:"text-blue-600 font-medium",children:"Dashboard"}),a.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:"Projects"}),a.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:"Templates"}),a.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:"Help"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx(Mx,{className:"h-4 w-4"}),"New Project"]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:((P=e.name)==null?void 0:P.charAt(0))||e.email.charAt(0).toUpperCase()}),a.jsxs("div",{className:"hidden sm:block",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-700 text-sm",children:e.name||e.email}),m()]}),k()&&a.jsxs("div",{className:"text-xs text-orange-600",children:["Trial ends ",new Date(e.trial_ends_at).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[e.role==="admin"&&a.jsx("button",{onClick:()=>t("admin"),className:"text-red-500 hover:text-red-700 transition-colors",title:"Admin Panel",children:a.jsx(Bd,{className:"h-4 w-4"})}),a.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",title:"Sign out",children:a.jsx(_k,{className:"h-4 w-4"})})]})]})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[a.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",((_=e.name)==null?void 0:_.split(" ")[0])||"Researcher","!"]}),a.jsx("p",{className:"text-blue-100 mb-6",children:"Ready to create your next publication-ready analysis?"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:async()=>{try{N(!0);const x=`Data Analysis - ${new Date().toLocaleDateString()}`,j=await l(x,"Statistical analysis project");s(j),t("analysis")}catch(x){console.error("Failed to create project:",x),t("analysis")}finally{N(!1)}},className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center gap-2",disabled:b,children:[a.jsx(Cs,{className:"h-4 w-4"}),b?"Creating...":"Upload Data"]}),a.jsx("button",{onClick:async()=>{try{N(!0);const x=`Figure Analysis - ${new Date().toLocaleDateString()}`,j=await l(x,"Figure analysis project");s(j),t("figure-analyzer")}catch(x){console.error("Failed to create project:",x),t("figure-analyzer")}finally{N(!1)}},className:"bg-transparent border-2 border-white text-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors",disabled:b,children:b?"Creating...":"Analyze Figure"})]})]}),e.subscription_tier==="free"&&a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-r from-orange-50 to-yellow-50 border border-orange-200 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(_r,{className:"h-6 w-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upgrade to Pro"})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Unlock unlimited analyses, advanced statistical tests, and collaboration features."}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>t("pricing"),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors font-medium",children:"View Plans"}),a.jsx("span",{className:"text-sm text-gray-600",children:"4 of 5 free analyses used this month"})]})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Projects"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{fe.userAction("manual_refresh_projects"),c()},className:"text-green-600 hover:text-green-700 font-medium text-sm",children:"🔄 Refresh"}),a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("button",{onClick:()=>d(!0),className:"text-blue-600 hover:text-blue-700 font-medium",children:"+ New Project"}),a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]})]}),a.jsxs("div",{className:"space-y-4",children:[u&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6 mb-4",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Project"}),a.jsxs("form",{onSubmit:T,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"dashboardProjectName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name"}),a.jsx("input",{id:"dashboardProjectName",type:"text",value:p,onChange:x=>h(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter project name",required:!0,disabled:b})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"dashboardProjectDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),a.jsx("textarea",{id:"dashboardProjectDescription",value:f,onChange:x=>y(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter project description",rows:3,disabled:b})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>{d(!1),h(""),y("")},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:b,children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:b||!p.trim(),children:b?"Creating...":"Create Project"})]})]})]}),i?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading projects..."})]}):o?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-red-500 mb-2",children:"⚠️ Error loading projects"}),a.jsx("p",{className:"text-sm text-gray-600",children:o}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"Reload page"})]}):v.length>0?v.map(x=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(it,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:x.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[x.type," • ",x.lastModified]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:x.status==="completed"?"Completed":"In Progress"}),a.jsx("button",{onClick:async()=>{try{if(s(x),(await ue.projects.getStats(x.id)).analyses>0){const S=await ue.analyses.list(1,1,x.id);if(S.analyses.length>0){const C=S.analyses[0];t("analysis")}else t("analysis")}else t("analysis")}catch(j){console.error("Failed to check project state:",j),s(x),t("analysis")}},className:"text-blue-600 hover:text-blue-700 font-medium",children:"Open"})]})]},x.id)):a.jsx("div",{className:"text-center py-8",children:u?a.jsxs("div",{className:"max-w-md mx-auto text-left",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Project"}),a.jsxs("form",{onSubmit:T,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"dashboardProjectName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name"}),a.jsx("input",{id:"dashboardProjectName",type:"text",value:p,onChange:x=>h(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter project name",required:!0,disabled:b})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"dashboardProjectDescription",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),a.jsx("textarea",{id:"dashboardProjectDescription",value:f,onChange:x=>y(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter project description",rows:3,disabled:b})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>{d(!1),h(""),y("")},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",disabled:b,children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:b||!p.trim(),children:b?"Creating...":"Create Project"})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Start by creating your first project"}),a.jsx("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Project"})]})})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Start"}),a.jsxs("button",{onClick:()=>t("analysis"),className:"w-full bg-blue-50 border-2 border-dashed border-blue-300 rounded-xl p-8 text-center hover:bg-blue-100 transition-colors group",children:[a.jsx(Cs,{className:"h-12 w-12 text-blue-600 mx-auto mb-3 group-hover:scale-110 transition-transform"}),a.jsx("p",{className:"text-blue-600 font-semibold",children:"Upload Data"}),a.jsx("p",{className:"text-blue-500 text-sm mt-1",children:"CSV, Excel, or SPSS files"})]})]}),a.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Your Stats This Month"}),a.jsx("div",{className:"space-y-4",children:g.map((x,j)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(x.icon,{className:`h-5 w-5 ${x.color}`}),a.jsx("span",{className:"text-gray-700",children:x.label})]}),a.jsx("span",{className:"font-bold text-gray-900",children:x.value})]},j))})]}),a.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-200",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"💡 Pro Tip"}),a.jsx("p",{className:"text-gray-700 text-sm mb-4",children:"Use natural language to describe your analysis goals. Our AI will recommend the best statistical approach."}),a.jsx("button",{className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:"Learn More →"})]})]})]})})]})};var cy={exports:{}},r2="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",i2=r2,a2=i2;function uy(){}function dy(){}dy.resetWarningCache=uy;var o2=function(){function e(s,r,i,o,l,c){if(c!==a2){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:dy,resetWarningCache:uy};return n.PropTypes=n,n};cy.exports=o2();var l2=cy.exports;const be=_u(l2);function Is(e,t,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(s.next(d))}catch(p){o(p)}}function c(d){try{u(s.throw(d))}catch(p){o(p)}}function u(d){d.done?i(d.value):r(d.value).then(l,c)}u((s=s.apply(e,t||[])).next())})}const c2=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Sr(e,t,n){const s=u2(e),{webkitRelativePath:r}=e,i=typeof t=="string"?t:typeof r=="string"&&r.length>0?r:`./${e.name}`;return typeof s.path!="string"&&Mf(s,"path",i),Mf(s,"relativePath",i),s}function u2(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const s=t.split(".").pop().toLowerCase(),r=c2.get(s);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}function Mf(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const d2=[".DS_Store","Thumbs.db"];function p2(e){return Is(this,void 0,void 0,function*(){return yo(e)&&h2(e.dataTransfer)?x2(e.dataTransfer,e.type):f2(e)?m2(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?g2(e):[]})}function h2(e){return yo(e)}function f2(e){return yo(e)&&yo(e.target)}function yo(e){return typeof e=="object"&&e!==null}function m2(e){return xu(e.target.files).map(t=>Sr(t))}function g2(e){return Is(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Sr(n))})}function x2(e,t){return Is(this,void 0,void 0,function*(){if(e.items){const n=xu(e.items).filter(r=>r.kind==="file");if(t!=="drop")return n;const s=yield Promise.all(n.map(y2));return Ff(py(s))}return Ff(xu(e.files).map(n=>Sr(n)))})}function Ff(e){return e.filter(t=>d2.indexOf(t.name)===-1)}function xu(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const s=e[n];t.push(s)}return t}function y2(e){if(typeof e.webkitGetAsEntry!="function")return $f(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?hy(t):$f(e,t)}function py(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?py(n):[n]],[])}function $f(e,t){return Is(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,Sr(o)}}const s=e.getAsFile();if(!s)throw new Error(`${e} is not a File`);return Sr(s,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function v2(e){return Is(this,void 0,void 0,function*(){return e.isDirectory?hy(e):b2(e)})}function hy(e){const t=e.createReader();return new Promise((n,s)=>{const r=[];function i(){t.readEntries(o=>Is(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(v2));r.push(l),i()}else try{const l=yield Promise.all(r);n(l)}catch(l){s(l)}}),o=>{s(o)})}i()})}function b2(e){return Is(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(s=>{const r=Sr(s,e.fullPath);t(r)},s=>{n(s)})})})}var Xl=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var s=e.name||"",r=(e.type||"").toLowerCase(),i=r.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?s.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):r===l})}return!0};function Lf(e){return _2(e)||j2(e)||my(e)||w2()}function w2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _2(e){if(Array.isArray(e))return yu(e)}function zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Uf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zf(Object(n),!0).forEach(function(s){fy(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zf(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function fy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Di(e,t){return S2(e)||N2(e,t)||my(e,t)||k2()}function k2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function my(e,t){if(e){if(typeof e=="string")return yu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yu(e,t)}}function yu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function N2(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s=[],r=!0,i=!1,o,l;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(s.push(o.value),!(t&&s.length===t));r=!0);}catch(c){i=!0,l=c}finally{try{!r&&n.return!=null&&n.return()}finally{if(i)throw l}}return s}}function S2(e){if(Array.isArray(e))return e}var E2=typeof Xl=="function"?Xl:Xl.default,P2="file-invalid-type",C2="file-too-large",T2="file-too-small",A2="too-many-files",O2=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),s=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:P2,message:"File type must be ".concat(s)}},Vf=function(t){return{code:C2,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Bf=function(t){return{code:T2,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},R2={code:A2,message:"Too many files"};function gy(e,t){var n=e.type==="application/x-moz-file"||E2(e,t);return[n,n?null:O2(t)]}function xy(e,t,n){if(gs(e.size))if(gs(t)&&gs(n)){if(e.size>n)return[!1,Vf(n)];if(e.size<t)return[!1,Bf(t)]}else{if(gs(t)&&e.size<t)return[!1,Bf(t)];if(gs(n)&&e.size>n)return[!1,Vf(n)]}return[!0,null]}function gs(e){return e!=null}function D2(e){var t=e.files,n=e.accept,s=e.minSize,r=e.maxSize,i=e.multiple,o=e.maxFiles,l=e.validator;return!i&&t.length>1||i&&o>=1&&t.length>o?!1:t.every(function(c){var u=gy(c,n),d=Di(u,1),p=d[0],h=xy(c,s,r),f=Di(h,1),y=f[0],b=l?l(c):null;return p&&y&&!b})}function vo(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function va(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function qf(e){e.preventDefault()}function I2(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function M2(e){return e.indexOf("Edge/")!==-1}function F2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return I2(e)||M2(e)}function Wt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(s){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.some(function(l){return!vo(s)&&l&&l.apply(void 0,[s].concat(i)),vo(s)})}}function $2(){return"showOpenFilePicker"in window}function L2(e){if(gs(e)){var t=Object.entries(e).filter(function(n){var s=Di(n,2),r=s[0],i=s[1],o=!0;return yy(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(vy))&&(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,s){var r=Di(s,2),i=r[0],o=r[1];return Uf(Uf({},n),{},fy({},i,o))},{});return[{description:"Files",accept:t}]}return e}function z2(e){if(gs(e))return Object.entries(e).reduce(function(t,n){var s=Di(n,2),r=s[0],i=s[1];return[].concat(Lf(t),[r],Lf(i))},[]).filter(function(t){return yy(t)||vy(t)}).join(",")}function U2(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function V2(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function yy(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function vy(e){return/^.*\.[\w]+$/.test(e)}var B2=["children"],q2=["open"],W2=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],H2=["refKey","onChange","onClick"];function G2(e){return Q2(e)||J2(e)||by(e)||K2()}function K2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q2(e){if(Array.isArray(e))return vu(e)}function Zl(e,t){return Z2(e)||X2(e,t)||by(e,t)||Y2()}function Y2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function by(e,t){if(e){if(typeof e=="string")return vu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vu(e,t)}}function vu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function X2(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s=[],r=!0,i=!1,o,l;try{for(n=n.call(e);!(r=(o=n.next()).done)&&(s.push(o.value),!(t&&s.length===t));r=!0);}catch(c){i=!0,l=c}finally{try{!r&&n.return!=null&&n.return()}finally{if(i)throw l}}return s}}function Z2(e){if(Array.isArray(e))return e}function Wf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wf(Object(n),!0).forEach(function(s){bu(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wf(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bo(e,t){if(e==null)return{};var n=eE(e,t),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function eE(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,i;for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}var Qd=E.forwardRef(function(e,t){var n=e.children,s=bo(e,B2),r=el(s),i=r.open,o=bo(r,q2);return E.useImperativeHandle(t,function(){return{open:i}},[i]),On.createElement(E.Fragment,null,n(Pe(Pe({},o),{},{open:i})))});Qd.displayName="Dropzone";var wy={disabled:!1,getFilesFromEvent:p2,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Qd.defaultProps=wy;Qd.propTypes={children:be.func,accept:be.objectOf(be.arrayOf(be.string)),multiple:be.bool,preventDropOnDocument:be.bool,noClick:be.bool,noKeyboard:be.bool,noDrag:be.bool,noDragEventsBubbling:be.bool,minSize:be.number,maxSize:be.number,maxFiles:be.number,disabled:be.bool,getFilesFromEvent:be.func,onFileDialogCancel:be.func,onFileDialogOpen:be.func,useFsAccessApi:be.bool,autoFocus:be.bool,onDragEnter:be.func,onDragLeave:be.func,onDragOver:be.func,onDrop:be.func,onDropAccepted:be.func,onDropRejected:be.func,onError:be.func,validator:be.func};var wu={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function el(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Pe(Pe({},wy),e),n=t.accept,s=t.disabled,r=t.getFilesFromEvent,i=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,p=t.onDragOver,h=t.onDrop,f=t.onDropAccepted,y=t.onDropRejected,b=t.onFileDialogCancel,N=t.onFileDialogOpen,v=t.useFsAccessApi,g=t.autoFocus,m=t.preventDropOnDocument,k=t.noClick,T=t.noKeyboard,P=t.noDrag,_=t.noDragEventsBubbling,x=t.onError,j=t.validator,S=E.useMemo(function(){return z2(n)},[n]),C=E.useMemo(function(){return L2(n)},[n]),D=E.useMemo(function(){return typeof N=="function"?N:Hf},[N]),M=E.useMemo(function(){return typeof b=="function"?b:Hf},[b]),L=E.useRef(null),W=E.useRef(null),K=E.useReducer(tE,wu),X=Zl(K,2),F=X[0],I=X[1],G=F.isFocused,R=F.isFileDialogActive,B=E.useRef(typeof window<"u"&&window.isSecureContext&&v&&$2()),$=function(){!B.current&&R&&setTimeout(function(){if(W.current){var ee=W.current.files;ee.length||(I({type:"closeDialog"}),M())}},300)};E.useEffect(function(){return window.addEventListener("focus",$,!1),function(){window.removeEventListener("focus",$,!1)}},[W,R,M,B]);var ae=E.useRef([]),de=function(ee){L.current&&L.current.contains(ee.target)||(ee.preventDefault(),ae.current=[])};E.useEffect(function(){return m&&(document.addEventListener("dragover",qf,!1),document.addEventListener("drop",de,!1)),function(){m&&(document.removeEventListener("dragover",qf),document.removeEventListener("drop",de))}},[L,m]),E.useEffect(function(){return!s&&g&&L.current&&L.current.focus(),function(){}},[L,g,s]);var w=E.useCallback(function(V){x?x(V):console.error(V)},[x]),O=E.useCallback(function(V){V.preventDefault(),V.persist(),We(V),ae.current=[].concat(G2(ae.current),[V.target]),va(V)&&Promise.resolve(r(V)).then(function(ee){if(!(vo(V)&&!_)){var ce=ee.length,ge=ce>0&&D2({files:ee,accept:S,minSize:o,maxSize:i,multiple:l,maxFiles:c,validator:j}),Ee=ce>0&&!ge;I({isDragAccept:ge,isDragReject:Ee,isDragActive:!0,type:"setDraggedFiles"}),u&&u(V)}}).catch(function(ee){return w(ee)})},[r,u,w,_,S,o,i,l,c,j]),A=E.useCallback(function(V){V.preventDefault(),V.persist(),We(V);var ee=va(V);if(ee&&V.dataTransfer)try{V.dataTransfer.dropEffect="copy"}catch{}return ee&&p&&p(V),!1},[p,_]),U=E.useCallback(function(V){V.preventDefault(),V.persist(),We(V);var ee=ae.current.filter(function(ge){return L.current&&L.current.contains(ge)}),ce=ee.indexOf(V.target);ce!==-1&&ee.splice(ce,1),ae.current=ee,!(ee.length>0)&&(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),va(V)&&d&&d(V))},[L,d,_]),Z=E.useCallback(function(V,ee){var ce=[],ge=[];V.forEach(function(Ee){var en=gy(Ee,S),tn=Zl(en,2),Bt=tn[0],lt=tn[1],nn=xy(Ee,o,i),is=Zl(nn,2),tl=is[0],nl=is[1],sl=j?j(Ee):null;if(Bt&&tl&&!sl)ce.push(Ee);else{var rl=[lt,nl];sl&&(rl=rl.concat(sl)),ge.push({file:Ee,errors:rl.filter(function(Ny){return Ny})})}}),(!l&&ce.length>1||l&&c>=1&&ce.length>c)&&(ce.forEach(function(Ee){ge.push({file:Ee,errors:[R2]})}),ce.splice(0)),I({acceptedFiles:ce,fileRejections:ge,isDragReject:ge.length>0,type:"setFiles"}),h&&h(ce,ge,ee),ge.length>0&&y&&y(ge,ee),ce.length>0&&f&&f(ce,ee)},[I,l,S,o,i,c,h,f,y,j]),q=E.useCallback(function(V){V.preventDefault(),V.persist(),We(V),ae.current=[],va(V)&&Promise.resolve(r(V)).then(function(ee){vo(V)&&!_||Z(ee,V)}).catch(function(ee){return w(ee)}),I({type:"reset"})},[r,Z,w,_]),ne=E.useCallback(function(){if(B.current){I({type:"openDialog"}),D();var V={multiple:l,types:C};window.showOpenFilePicker(V).then(function(ee){return r(ee)}).then(function(ee){Z(ee,null),I({type:"closeDialog"})}).catch(function(ee){U2(ee)?(M(ee),I({type:"closeDialog"})):V2(ee)?(B.current=!1,W.current?(W.current.value=null,W.current.click()):w(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):w(ee)});return}W.current&&(I({type:"openDialog"}),D(),W.current.value=null,W.current.click())},[I,D,M,v,Z,w,C,l]),oe=E.useCallback(function(V){!L.current||!L.current.isEqualNode(V.target)||(V.key===" "||V.key==="Enter"||V.keyCode===32||V.keyCode===13)&&(V.preventDefault(),ne())},[L,ne]),Q=E.useCallback(function(){I({type:"focus"})},[]),re=E.useCallback(function(){I({type:"blur"})},[]),Y=E.useCallback(function(){k||(F2()?setTimeout(ne,0):ne())},[k,ne]),me=function(ee){return s?null:ee},se=function(ee){return T?null:me(ee)},ye=function(ee){return P?null:me(ee)},We=function(ee){_&&ee.stopPropagation()},wn=E.useMemo(function(){return function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=V.refKey,ce=ee===void 0?"ref":ee,ge=V.role,Ee=V.onKeyDown,en=V.onFocus,tn=V.onBlur,Bt=V.onClick,lt=V.onDragEnter,nn=V.onDragOver,is=V.onDragLeave,tl=V.onDrop,nl=bo(V,W2);return Pe(Pe(bu({onKeyDown:se(Wt(Ee,oe)),onFocus:se(Wt(en,Q)),onBlur:se(Wt(tn,re)),onClick:me(Wt(Bt,Y)),onDragEnter:ye(Wt(lt,O)),onDragOver:ye(Wt(nn,A)),onDragLeave:ye(Wt(is,U)),onDrop:ye(Wt(tl,q)),role:typeof ge=="string"&&ge!==""?ge:"presentation"},ce,L),!s&&!T?{tabIndex:0}:{}),nl)}},[L,oe,Q,re,Y,O,A,U,q,T,P,s]),Nt=E.useCallback(function(V){V.stopPropagation()},[]),rs=E.useMemo(function(){return function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ee=V.refKey,ce=ee===void 0?"ref":ee,ge=V.onChange,Ee=V.onClick,en=bo(V,H2),tn=bu({accept:S,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:me(Wt(ge,q)),onClick:me(Wt(Ee,Nt)),tabIndex:-1},ce,W);return Pe(Pe({},tn),en)}},[W,n,l,q,s]);return Pe(Pe({},F),{},{isFocused:G&&!s,getRootProps:wn,getInputProps:rs,rootRef:L,inputRef:W,open:me(ne)})}function tE(e,t){switch(t.type){case"focus":return Pe(Pe({},e),{},{isFocused:!0});case"blur":return Pe(Pe({},e),{},{isFocused:!1});case"openDialog":return Pe(Pe({},wu),{},{isFileDialogActive:!0});case"closeDialog":return Pe(Pe({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Pe(Pe({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Pe(Pe({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Pe({},wu);default:return e}}function Hf(){}var jy={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,s)=>{e.exports=s()})(bt,function n(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},r,i=!s.document&&!!s.postMessage,o=s.IS_PAPA_WORKER||!1,l={},c=0,u={};function d(x){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var S=T(j);S.chunkSize=parseInt(S.chunkSize),j.step||j.chunk||(S.chunkSize=null),this._handle=new b(S),(this._handle.streamer=this)._config=S}).call(this,x),this.parseChunk=function(j,S){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let M=this._config.newline;M||(D=this._config.quoteChar||'"',M=this._handle.guessLineEndings(j,D)),j=[...j.split(M).slice(C)].join(M)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(D=this._config.beforeFirstChunk(j))!==void 0&&(j=D),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+j,D=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(j=D.meta.cursor,C=(this._finished||(this._partialLine=C.substring(j-this._baseIndex),this._baseIndex=j),D&&D.data&&(this._rowCount+=D.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)s.postMessage({results:D,workerId:u.WORKER_ID,finished:C});else if(_(this._config.chunk)&&!S){if(this._config.chunk(D,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=D=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(D.data),this._completeResults.errors=this._completeResults.errors.concat(D.errors),this._completeResults.meta=D.meta),this._completed||!C||!_(this._config.complete)||D&&D.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||D&&D.meta.paused||this._nextChunk(),D}this._halted=!0},this._sendError=function(j){_(this._config.error)?this._config.error(j):o&&this._config.error&&s.postMessage({workerId:u.WORKER_ID,error:j,finished:!1})}}function p(x){var j;(x=x||{}).chunkSize||(x.chunkSize=u.RemoteChunkSize),d.call(this,x),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(S){this._input=S,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),i||(j.onload=P(this._chunkLoaded,this),j.onerror=P(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var S,C=this._config.downloadRequestHeaders;for(S in C)j.setRequestHeader(S,C[S])}var D;this._config.chunkSize&&(D=this._start+this._config.chunkSize-1,j.setRequestHeader("Range","bytes="+this._start+"-"+D));try{j.send(this._config.downloadRequestBody)}catch(M){this._chunkError(M.message)}i&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize||j.responseText.length,this._finished=!this._config.chunkSize||this._start>=(S=>(S=S.getResponseHeader("Content-Range"))!==null?parseInt(S.substring(S.lastIndexOf("/")+1)):-1)(j),this.parseChunk(j.responseText)))},this._chunkError=function(S){S=j.statusText||S,this._sendError(new Error(S))}}function h(x){(x=x||{}).chunkSize||(x.chunkSize=u.LocalChunkSize),d.call(this,x);var j,S,C=typeof FileReader<"u";this.stream=function(D){this._input=D,S=D.slice||D.webkitSlice||D.mozSlice,C?((j=new FileReader).onload=P(this._chunkLoaded,this),j.onerror=P(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var D=this._input,M=(this._config.chunkSize&&(M=Math.min(this._start+this._config.chunkSize,this._input.size),D=S.call(D,this._start,M)),j.readAsText(D,this._config.encoding));C||this._chunkLoaded({target:{result:M}})},this._chunkLoaded=function(D){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(D.target.result)},this._chunkError=function(){this._sendError(j.error)}}function f(x){var j;d.call(this,x=x||{}),this.stream=function(S){return j=S,this._nextChunk()},this._nextChunk=function(){var S,C;if(!this._finished)return S=this._config.chunkSize,j=S?(C=j.substring(0,S),j.substring(S)):(C=j,""),this._finished=!j,this.parseChunk(C)}}function y(x){d.call(this,x=x||{});var j=[],S=!0,C=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(D){this._input=D,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):S=!0},this._streamData=P(function(D){try{j.push(typeof D=="string"?D:D.toString(this._config.encoding)),S&&(S=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(M){this._streamError(M)}},this),this._streamError=P(function(D){this._streamCleanUp(),this._sendError(D)},this),this._streamEnd=P(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(x){var j,S,C,D,M=Math.pow(2,53),L=-M,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,X=this,F=0,I=0,G=!1,R=!1,B=[],$={data:[],errors:[],meta:{}};function ae(A){return x.skipEmptyLines==="greedy"?A.join("").trim()==="":A.length===1&&A[0].length===0}function de(){if($&&C&&(O("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),C=!1),x.skipEmptyLines&&($.data=$.data.filter(function(q){return!ae(q)})),w()){let q=function(ne,oe){_(x.transformHeader)&&(ne=x.transformHeader(ne,oe)),B.push(ne)};if($)if(Array.isArray($.data[0])){for(var A=0;w()&&A<$.data.length;A++)$.data[A].forEach(q);$.data.splice(0,1)}else $.data.forEach(q)}function U(q,ne){for(var oe=x.header?{}:[],Q=0;Q<q.length;Q++){var re=Q,Y=q[Q],Y=((me,se)=>(ye=>(x.dynamicTypingFunction&&x.dynamicTyping[ye]===void 0&&(x.dynamicTyping[ye]=x.dynamicTypingFunction(ye)),(x.dynamicTyping[ye]||x.dynamicTyping)===!0))(me)?se==="true"||se==="TRUE"||se!=="false"&&se!=="FALSE"&&((ye=>{if(W.test(ye)&&(ye=parseFloat(ye),L<ye&&ye<M))return 1})(se)?parseFloat(se):K.test(se)?new Date(se):se===""?null:se):se)(re=x.header?Q>=B.length?"__parsed_extra":B[Q]:re,Y=x.transform?x.transform(Y,re):Y);re==="__parsed_extra"?(oe[re]=oe[re]||[],oe[re].push(Y)):oe[re]=Y}return x.header&&(Q>B.length?O("FieldMismatch","TooManyFields","Too many fields: expected "+B.length+" fields but parsed "+Q,I+ne):Q<B.length&&O("FieldMismatch","TooFewFields","Too few fields: expected "+B.length+" fields but parsed "+Q,I+ne)),oe}var Z;$&&(x.header||x.dynamicTyping||x.transform)&&(Z=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(U),Z=$.data.length):$.data=U($.data,0),x.header&&$.meta&&($.meta.fields=B),I+=Z)}function w(){return x.header&&B.length===0}function O(A,U,Z,q){A={type:A,code:U,message:Z},q!==void 0&&(A.row=q),$.errors.push(A)}_(x.step)&&(D=x.step,x.step=function(A){$=A,w()?de():(de(),$.data.length!==0&&(F+=A.data.length,x.preview&&F>x.preview?S.abort():($.data=$.data[0],D($,X))))}),this.parse=function(A,U,Z){var q=x.quoteChar||'"',q=(x.newline||(x.newline=this.guessLineEndings(A,q)),C=!1,x.delimiter?_(x.delimiter)&&(x.delimiter=x.delimiter(A),$.meta.delimiter=x.delimiter):((q=((ne,oe,Q,re,Y)=>{var me,se,ye,We;Y=Y||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var wn=0;wn<Y.length;wn++){for(var Nt,rs=Y[wn],V=0,ee=0,ce=0,ge=(ye=void 0,new v({comments:re,delimiter:rs,newline:oe,preview:10}).parse(ne)),Ee=0;Ee<ge.data.length;Ee++)Q&&ae(ge.data[Ee])?ce++:(Nt=ge.data[Ee].length,ee+=Nt,ye===void 0?ye=Nt:0<Nt&&(V+=Math.abs(Nt-ye),ye=Nt));0<ge.data.length&&(ee/=ge.data.length-ce),(se===void 0||V<=se)&&(We===void 0||We<ee)&&1.99<ee&&(se=V,me=rs,We=ee)}return{successful:!!(x.delimiter=me),bestDelimiter:me}})(A,x.newline,x.skipEmptyLines,x.comments,x.delimitersToGuess)).successful?x.delimiter=q.bestDelimiter:(C=!0,x.delimiter=u.DefaultDelimiter),$.meta.delimiter=x.delimiter),T(x));return x.preview&&x.header&&q.preview++,j=A,S=new v(q),$=S.parse(j,U,Z),de(),G?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return G},this.pause=function(){G=!0,S.abort(),j=_(x.chunk)?"":j.substring(S.getCharIndex())},this.resume=function(){X.streamer._halted?(G=!1,X.streamer.parseChunk(j,!0)):setTimeout(X.resume,3)},this.aborted=function(){return R},this.abort=function(){R=!0,S.abort(),$.meta.aborted=!0,_(x.complete)&&x.complete($),j=""},this.guessLineEndings=function(ne,q){ne=ne.substring(0,1048576);var q=new RegExp(N(q)+"([^]*?)"+N(q),"gm"),Z=(ne=ne.replace(q,"")).split("\r"),q=ne.split(`
`),ne=1<q.length&&q[0].length<Z[0].length;if(Z.length===1||ne)return`
`;for(var oe=0,Q=0;Q<Z.length;Q++)Z[Q][0]===`
`&&oe++;return oe>=Z.length/2?`\r
`:"\r"}}function N(x){return x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(x){var j=(x=x||{}).delimiter,S=x.newline,C=x.comments,D=x.step,M=x.preview,L=x.fastMode,W=null,K=!1,X=x.quoteChar==null?'"':x.quoteChar,F=X;if(x.escapeChar!==void 0&&(F=x.escapeChar),(typeof j!="string"||-1<u.BAD_DELIMITERS.indexOf(j))&&(j=","),C===j)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<u.BAD_DELIMITERS.indexOf(C))&&(C=!1),S!==`
`&&S!=="\r"&&S!==`\r
`&&(S=`
`);var I=0,G=!1;this.parse=function(R,B,$){if(typeof R!="string")throw new Error("Input must be a string");var ae=R.length,de=j.length,w=S.length,O=C.length,A=_(D),U=[],Z=[],q=[],ne=I=0;if(!R)return V();if(L||L!==!1&&R.indexOf(X)===-1){for(var oe=R.split(S),Q=0;Q<oe.length;Q++){if(q=oe[Q],I+=q.length,Q!==oe.length-1)I+=S.length;else if($)return V();if(!C||q.substring(0,O)!==C){if(A){if(U=[],We(q.split(j)),ee(),G)return V()}else We(q.split(j));if(M&&M<=Q)return U=U.slice(0,M),V(!0)}}return V()}for(var re=R.indexOf(j,I),Y=R.indexOf(S,I),me=new RegExp(N(F)+N(X),"g"),se=R.indexOf(X,I);;)if(R[I]===X)for(se=I,I++;;){if((se=R.indexOf(X,se+1))===-1)return $||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:U.length,index:I}),Nt();if(se===ae-1)return Nt(R.substring(I,se).replace(me,X));if(X===F&&R[se+1]===F)se++;else if(X===F||se===0||R[se-1]!==F){re!==-1&&re<se+1&&(re=R.indexOf(j,se+1));var ye=wn((Y=Y!==-1&&Y<se+1?R.indexOf(S,se+1):Y)===-1?re:Math.min(re,Y));if(R.substr(se+1+ye,de)===j){q.push(R.substring(I,se).replace(me,X)),R[I=se+1+ye+de]!==X&&(se=R.indexOf(X,I)),re=R.indexOf(j,I),Y=R.indexOf(S,I);break}if(ye=wn(Y),R.substring(se+1+ye,se+1+ye+w)===S){if(q.push(R.substring(I,se).replace(me,X)),rs(se+1+ye+w),re=R.indexOf(j,I),se=R.indexOf(X,I),A&&(ee(),G))return V();if(M&&U.length>=M)return V(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:U.length,index:I}),se++}}else if(C&&q.length===0&&R.substring(I,I+O)===C){if(Y===-1)return V();I=Y+w,Y=R.indexOf(S,I),re=R.indexOf(j,I)}else if(re!==-1&&(re<Y||Y===-1))q.push(R.substring(I,re)),I=re+de,re=R.indexOf(j,I);else{if(Y===-1)break;if(q.push(R.substring(I,Y)),rs(Y+w),A&&(ee(),G))return V();if(M&&U.length>=M)return V(!0)}return Nt();function We(ce){U.push(ce),ne=I}function wn(ce){var ge=0;return ge=ce!==-1&&(ce=R.substring(se+1,ce))&&ce.trim()===""?ce.length:ge}function Nt(ce){return $||(ce===void 0&&(ce=R.substring(I)),q.push(ce),I=ae,We(q),A&&ee()),V()}function rs(ce){I=ce,We(q),q=[],Y=R.indexOf(S,I)}function V(ce){if(x.header&&!B&&U.length&&!K){var ge=U[0],Ee=Object.create(null),en=new Set(ge);let tn=!1;for(let Bt=0;Bt<ge.length;Bt++){let lt=ge[Bt];if(Ee[lt=_(x.transformHeader)?x.transformHeader(lt,Bt):lt]){let nn,is=Ee[lt];for(;nn=lt+"_"+is,is++,en.has(nn););en.add(nn),ge[Bt]=nn,Ee[lt]++,tn=!0,(W=W===null?{}:W)[nn]=lt}else Ee[lt]=1,ge[Bt]=lt;en.add(lt)}tn&&console.warn("Duplicate headers found and renamed."),K=!0}return{data:U,errors:Z,meta:{delimiter:j,linebreak:S,aborted:G,truncated:!!ce,cursor:ne+(B||0),renamedHeaders:W}}}function ee(){D(V()),U=[],Z=[]}},this.abort=function(){G=!0},this.getCharIndex=function(){return I}}function g(x){var j=x.data,S=l[j.workerId],C=!1;if(j.error)S.userError(j.error,j.file);else if(j.results&&j.results.data){var D={abort:function(){C=!0,m(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(_(S.userStep)){for(var M=0;M<j.results.data.length&&(S.userStep({data:j.results.data[M],errors:j.results.errors,meta:j.results.meta},D),!C);M++);delete j.results}else _(S.userChunk)&&(S.userChunk(j.results,D,j.file),delete j.results)}j.finished&&!C&&m(j.workerId,j.results)}function m(x,j){var S=l[x];_(S.userComplete)&&S.userComplete(j),S.terminate(),delete l[x]}function k(){throw new Error("Not implemented.")}function T(x){if(typeof x!="object"||x===null)return x;var j,S=Array.isArray(x)?[]:{};for(j in x)S[j]=T(x[j]);return S}function P(x,j){return function(){x.apply(j,arguments)}}function _(x){return typeof x=="function"}return u.parse=function(x,j){var S=(j=j||{}).dynamicTyping||!1;if(_(S)&&(j.dynamicTypingFunction=S,S={}),j.dynamicTyping=S,j.transform=!!_(j.transform)&&j.transform,!j.worker||!u.WORKERS_SUPPORTED)return S=null,u.NODE_STREAM_INPUT,typeof x=="string"?(x=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(x),S=new(j.download?p:f)(j)):x.readable===!0&&_(x.read)&&_(x.on)?S=new y(j):(s.File&&x instanceof File||x instanceof Object)&&(S=new h(j)),S.stream(x);(S=(()=>{var C;return!!u.WORKERS_SUPPORTED&&(C=(()=>{var D=s.URL||s.webkitURL||null,M=n.toString();return u.BLOB_URL||(u.BLOB_URL=D.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",M,")();"],{type:"text/javascript"})))})(),(C=new s.Worker(C)).onmessage=g,C.id=c++,l[C.id]=C)})()).userStep=j.step,S.userChunk=j.chunk,S.userComplete=j.complete,S.userError=j.error,j.step=_(j.step),j.chunk=_(j.chunk),j.complete=_(j.complete),j.error=_(j.error),delete j.worker,S.postMessage({input:x,config:j,workerId:S.id})},u.unparse=function(x,j){var S=!1,C=!0,D=",",M=`\r
`,L='"',W=L+L,K=!1,X=null,F=!1,I=((()=>{if(typeof j=="object"){if(typeof j.delimiter!="string"||u.BAD_DELIMITERS.filter(function(B){return j.delimiter.indexOf(B)!==-1}).length||(D=j.delimiter),typeof j.quotes!="boolean"&&typeof j.quotes!="function"&&!Array.isArray(j.quotes)||(S=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(K=j.skipEmptyLines),typeof j.newline=="string"&&(M=j.newline),typeof j.quoteChar=="string"&&(L=j.quoteChar),typeof j.header=="boolean"&&(C=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");X=j.columns}j.escapeChar!==void 0&&(W=j.escapeChar+L),j.escapeFormulae instanceof RegExp?F=j.escapeFormulae:typeof j.escapeFormulae=="boolean"&&j.escapeFormulae&&(F=/^[=+\-@\t\r].*$/)}})(),new RegExp(N(L),"g"));if(typeof x=="string"&&(x=JSON.parse(x)),Array.isArray(x)){if(!x.length||Array.isArray(x[0]))return G(null,x,K);if(typeof x[0]=="object")return G(X||Object.keys(x[0]),x,K)}else if(typeof x=="object")return typeof x.data=="string"&&(x.data=JSON.parse(x.data)),Array.isArray(x.data)&&(x.fields||(x.fields=x.meta&&x.meta.fields||X),x.fields||(x.fields=Array.isArray(x.data[0])?x.fields:typeof x.data[0]=="object"?Object.keys(x.data[0]):[]),Array.isArray(x.data[0])||typeof x.data[0]=="object"||(x.data=[x.data])),G(x.fields||[],x.data||[],K);throw new Error("Unable to serialize unrecognized input");function G(B,$,ae){var de="",w=(typeof B=="string"&&(B=JSON.parse(B)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(B)&&0<B.length),O=!Array.isArray($[0]);if(w&&C){for(var A=0;A<B.length;A++)0<A&&(de+=D),de+=R(B[A],A);0<$.length&&(de+=M)}for(var U=0;U<$.length;U++){var Z=(w?B:$[U]).length,q=!1,ne=w?Object.keys($[U]).length===0:$[U].length===0;if(ae&&!w&&(q=ae==="greedy"?$[U].join("").trim()==="":$[U].length===1&&$[U][0].length===0),ae==="greedy"&&w){for(var oe=[],Q=0;Q<Z;Q++){var re=O?B[Q]:Q;oe.push($[U][re])}q=oe.join("").trim()===""}if(!q){for(var Y=0;Y<Z;Y++){0<Y&&!ne&&(de+=D);var me=w&&O?B[Y]:Y;de+=R($[U][me],Y)}U<$.length-1&&(!ae||0<Z&&!ne)&&(de+=M)}}return de}function R(B,$){var ae,de;return B==null?"":B.constructor===Date?JSON.stringify(B).slice(1,25):(de=!1,F&&typeof B=="string"&&F.test(B)&&(B="'"+B,de=!0),ae=B.toString().replace(I,W),(de=de||S===!0||typeof S=="function"&&S(B,$)||Array.isArray(S)&&S[$]||((w,O)=>{for(var A=0;A<O.length;A++)if(-1<w.indexOf(O[A]))return!0;return!1})(ae,u.BAD_DELIMITERS)||-1<ae.indexOf(D)||ae.charAt(0)===" "||ae.charAt(ae.length-1)===" ")?L+ae+L:ae)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!i&&!!s.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=v,u.ParserHandle=b,u.NetworkStreamer=p,u.FileStreamer=h,u.StringStreamer=f,u.ReadableStreamStreamer=y,s.jQuery&&((r=s.jQuery).fn.parse=function(x){var j=x.config||{},S=[];return this.each(function(M){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var L=0;L<this.files.length;L++)S.push({file:this.files[L],inputElem:this,instanceConfig:r.extend({},j)})}),C(),this;function C(){if(S.length===0)_(x.complete)&&x.complete();else{var M,L,W,K,X=S[0];if(_(x.before)){var F=x.before(X.file,X.inputElem);if(typeof F=="object"){if(F.action==="abort")return M="AbortError",L=X.file,W=X.inputElem,K=F.reason,void(_(x.error)&&x.error({name:M},L,W,K));if(F.action==="skip")return void D();typeof F.config=="object"&&(X.instanceConfig=r.extend(X.instanceConfig,F.config))}else if(F==="skip")return void D()}var I=X.instanceConfig.complete;X.instanceConfig.complete=function(G){_(I)&&I(G,X.file,X.inputElem),D()},u.parse(X.file,X.instanceConfig)}}function D(){S.splice(0,1),C()}}),o&&(s.onmessage=function(x){x=x.data,u.WORKER_ID===void 0&&x&&(u.WORKER_ID=x.workerId),typeof x.input=="string"?s.postMessage({workerId:u.WORKER_ID,results:u.parse(x.input,x.config),finished:!0}):(s.File&&x.input instanceof File||x.input instanceof Object)&&(x=u.parse(x.input,x.config))&&s.postMessage({workerId:u.WORKER_ID,results:x,finished:!0})}),(p.prototype=Object.create(d.prototype)).constructor=p,(h.prototype=Object.create(d.prototype)).constructor=h,(f.prototype=Object.create(f.prototype)).constructor=f,(y.prototype=Object.create(d.prototype)).constructor=y,u})})(jy);var nE=jy.exports;const sE=_u(nE),rE=e=>new Promise((t,n)=>{sE.parse(e,{header:!0,skipEmptyLines:!0,complete:s=>{if(s.errors.length>0){n(new Error(`CSV parsing error: ${s.errors[0].message}`));return}const r=s.data,i=Object.keys(r[0]||{});t({data:r,columns:i,filename:e.name,rows:r.length,preview:r.slice(0,5)})},error:s=>{n(new Error(`Failed to parse CSV: ${s.message}`))}})}),iE=({onFileUploaded:e,disabled:t=!1,user:n,onLogin:s})=>{const[r,i]=E.useState(!1),[o,l]=E.useState(null),[c,u]=E.useState(""),d=async g=>{u("Uploading file to server...");try{const m=await ue.files.upload(g);u("Processing file data...");const k=await ue.files.getDatasetData(m.id,100);return u("Finalizing..."),{parsedData:{data:k.data||[],columns:m.columns,filename:m.filename,rows:m.rows,preview:(k.data||[]).slice(0,5)},dataset:m}}catch(m){throw new Error(ZS(m))}},p=async g=>(u("Processing file locally..."),{parsedData:await rE(g)}),h=E.useCallback(async g=>{if(t)return;const m=g[0];if(m){i(!0),l(null),u("");try{if(!!n)try{const{parsedData:T,dataset:P}=await d(m);e(T,P)}catch(T){console.warn("Backend processing failed, falling back to local processing:",T);const{parsedData:P}=await p(m);e(P)}else{const{parsedData:T}=await p(m);e(T)}}catch(k){l(k instanceof Error?k.message:"Failed to process file")}finally{i(!1),u("")}}},[e,t,n]),{getRootProps:f,getInputProps:y,isDragActive:b}=el({onDrop:h,accept:{"text/csv":[".csv"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},multiple:!1,disabled:r||t}),N=()=>{if(t)return;i(!0),u("Generating sample data...");const g=["Drug A","Drug B","Placebo"],m=["Male","Female"],k=[];for(let P=1;P<=120;P++){const _=g[Math.floor(Math.random()*g.length)],x=m[Math.floor(Math.random()*m.length)],j=Math.floor(Math.random()*40)+30,S=Math.random()*.3+.4;let C=S;_==="Drug A"?C+=Math.random()*.3+.1:_==="Drug B"?C+=Math.random()*.2+.05:C+=Math.random()*.1-.05,C+=(Math.random()-.5)*.1,C=Math.max(0,Math.min(1,C)),k.push({Patient_ID:`P${P.toString().padStart(3,"0")}`,Age:j,Gender:x,Treatment:_,Baseline_Score:Math.round(S*100)/100,Outcome_Score:Math.round(C*100)/100,BMI:Math.round((Math.random()*10+20)*10)/10})}const T={data:k,columns:["Patient_ID","Age","Gender","Treatment","Baseline_Score","Outcome_Score","BMI"],filename:"sample_clinical_trial.csv",rows:k.length,preview:k.slice(0,5)};setTimeout(()=>{i(!1),u(""),e(T)},1e3)},v=()=>{s&&s("signup")};return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Upload Your Data"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Upload your dataset to get started with AI-powered statistical analysis"}),!n&&a.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"✨ Try 2 free analyses without signing up!"}),n&&a.jsx("p",{className:"text-sm text-green-600 mt-2",children:"✅ Authenticated - using secure server processing"})]}),o&&a.jsxs(H.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-3",children:[a.jsx(Qn,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"text-red-700",children:o})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-2xl shadow-lg border-2 border-dashed p-12 text-center transition-colors ${t?"border-gray-300 bg-gray-50 cursor-not-allowed":b?"border-blue-400 bg-blue-50":r?"border-gray-300 bg-gray-50":"border-gray-300 hover:border-blue-400"}`,style:t?{}:f().style,onClick:t?void 0:f().onClick,onKeyDown:t?void 0:f().onKeyDown,onFocus:t?void 0:f().onFocus,onBlur:t?void 0:f().onBlur,onDrop:t?void 0:f().onDrop,onDragEnter:t?void 0:f().onDragEnter,onDragLeave:t?void 0:f().onDragLeave,onDragOver:t?void 0:f().onDragOver,tabIndex:t?void 0:f().tabIndex,children:[!t&&a.jsx("input",{...y()}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:`mx-auto w-24 h-24 rounded-full flex items-center justify-center ${t?"bg-gray-100":"bg-blue-50"}`,children:r?a.jsx(kr,{className:"h-12 w-12 text-blue-600 animate-spin"}):t?a.jsx(Qn,{className:"h-12 w-12 text-gray-400"}):a.jsx(Cs,{className:`h-12 w-12 ${b?"text-blue-600 animate-bounce":"text-blue-500"}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r?c||"Processing your file...":t?"Free trial limit reached":b?"Drop your file here":"Drop your CSV file here"}),!r&&!t&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"or click to browse"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Supports CSV and Excel files up to 100MB"})]}),t&&a.jsx("p",{className:"text-gray-600 mb-4",children:"Sign up to continue with unlimited statistical analysis"})]}),!r&&!t&&a.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",disabled:r,children:"Choose File"}),t&&a.jsx("button",{onClick:v,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Sign Up for Unlimited Access"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-12",children:[a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 text-center",children:[a.jsx(st,{className:"h-8 w-8 text-green-600 mx-auto mb-3"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Automatic Detection"}),a.jsx("p",{className:"text-sm text-gray-600",children:"AI automatically detects column types and data structure"})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 text-center",children:[a.jsx(Xn,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Missing Data Handling"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Smart suggestions for handling missing values and outliers"})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 text-center",children:[a.jsx(Bd,{className:"h-8 w-8 text-purple-600 mx-auto mb-3"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:n?"Secure Server Processing":"Local Processing"}),a.jsx("p",{className:"text-sm text-gray-600",children:n?"Data processed securely on our servers with persistent storage":"All data processing happens locally in your browser"})]})]}),a.jsxs("div",{className:"mt-12 text-center",children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"Don't have data ready? Try our sample dataset"}),a.jsx("button",{onClick:N,disabled:r||t,className:`font-medium underline transition-colors ${t?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:text-blue-700"}`,children:t?"Sign up to use sample data":"Use Sample Clinical Trial Data (120 patients)"})]}),!n&&a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-12 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(_r,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Unlock Full Statistical Power"})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Get unlimited analyses, advanced statistical tests, and publication-ready outputs."}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:v,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Start Free Trial"}),a.jsx("button",{onClick:()=>s&&s("signin"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Already have an account? Sign in →"})]})]})]})},aE=({columns:e,outcomeVariable:t,selectedPredictors:n,onPredictorsChange:s,timeVariable:r,eventVariable:i})=>{const[o,l]=E.useState([]);E.useEffect(()=>{const p=[t,r,i].filter(Boolean),h=e.filter(f=>!p.includes(f));l(h)},[e,t,r,i]);const c=p=>{n.includes(p)||s([...n,p])},u=p=>{s(n.filter(h=>h!==p))},d=p=>p.toLowerCase().includes("id")?"categorical":"continuous";return a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Zt,{className:"h-5 w-5 text-purple-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Multivariate Analysis Variables"})]}),a.jsx("div",{className:"mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(iu,{className:"h-5 w-5 text-purple-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-800",children:"About Multivariate Analysis"}),a.jsx("p",{className:"text-xs text-purple-700 mt-1",children:"Analyze the relationship between multiple predictor variables and your outcome variable simultaneously. This helps identify independent associations while controlling for confounding factors."})]})]})}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Selected Predictor Variables (",n.length,")"]}),n.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[a.jsx(Zt,{className:"mx-auto h-8 w-8 mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No predictor variables selected"}),a.jsx("p",{className:"text-xs",children:"Choose variables from the list below"})]}):a.jsx("div",{className:"space-y-2",children:n.map((p,h)=>a.jsxs(H.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:h*.05},className:"flex items-center justify-between p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-medium text-purple-700",children:h+1})}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-900",children:p}),a.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-white rounded text-gray-600",children:d(p)})]})]}),a.jsx("button",{onClick:()=>u(p),className:"p-1 hover:bg-red-100 rounded-full transition-colors",title:"Remove variable",children:a.jsx(Wo,{className:"h-4 w-4 text-red-600"})})]},p))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Available Variables (",o.filter(p=>!n.includes(p)).length,")"]}),n.length>=10&&a.jsxs("div",{className:"mb-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qn,{className:"h-4 w-4 text-amber-600"}),a.jsx("span",{className:"text-sm font-medium text-amber-800",children:"Many Variables Selected"})]}),a.jsxs("p",{className:"text-xs text-amber-700 mt-1",children:["With ",n.length," variables, ensure you have sufficient sample size (rule of thumb: 10-15 observations per variable)."]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto",children:o.filter(p=>!n.includes(p)).map(p=>a.jsxs("button",{onClick:()=>c(p),className:"flex items-center justify-between p-2 text-left bg-gray-50 hover:bg-purple-50 border border-gray-200 hover:border-purple-300 rounded-lg transition-colors",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 truncate block",children:p}),a.jsx("span",{className:"text-xs text-gray-500",children:d(p)})]}),a.jsx(Mx,{className:"h-4 w-4 text-gray-400 ml-2"})]},p))})]}),n.length>0&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(iu,{className:"h-4 w-4 text-blue-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Sample Size Recommendation"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["For ",n.length," predictor variable",n.length>1?"s":"",", you should have at least ",Math.max(n.length*10,50)," observations for reliable results."]})]})]})})]})},oE=({data:e,onNext:t,onBack:n})=>{const[s,r]=E.useState("randomized_trial"),[i,o]=E.useState(""),[l,c]=E.useState(""),[u,d]=E.useState(""),[p,h]=E.useState(""),[f,y]=E.useState(!1),[b,N]=E.useState([]);On.useEffect(()=>{const _=["outcome","score","result","response","efficacy","effect"],x=["treatment","group","condition","arm","therapy"],j=["time","duration","survival","follow","days","months","years"],S=["event","death","status","censor","died","dead"],C=e.columns.find(W=>_.some(K=>W.toLowerCase().includes(K))),D=e.columns.find(W=>x.some(K=>W.toLowerCase().includes(K))),M=e.columns.find(W=>j.some(K=>W.toLowerCase().includes(K))),L=e.columns.find(W=>S.some(K=>W.toLowerCase().includes(K)));C&&!i&&o(C),D&&!l&&c(D),M&&!u&&d(M),L&&!p&&h(L)},[e.columns,i,l,u,p]);const v=_=>{const x=e.preview.map(S=>S[_]).filter(S=>S!=null);if(x.length===0)return"unknown";if(x.every(S=>!isNaN(Number(S)))){const C=new Set(x).size/x.length;return _.toLowerCase().includes("id")||C>.8?"categorical":"continuous"}return"categorical"},g=_=>{switch(_){case"continuous":return"bg-blue-100 text-blue-800";case"categorical":return"bg-green-100 text-green-800";case"ordinal":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},m=()=>{const _=[],x=e.rows*e.columns.length,j=e.data.reduce((S,C)=>S+e.columns.filter(D=>C[D]==null||C[D]==="").length,0);if(j===0)_.push({type:"success",message:"No missing values detected"});else{const S=(j/x*100).toFixed(1);_.push({type:"warning",message:`${S}% missing values detected`})}if(_.push({type:"success",message:"Data types automatically detected"}),i){const S=e.data.map(C=>Number(C[i])).filter(C=>!isNaN(C));if(S.length>0){const C=S.reduce((L,W)=>L+W,0)/S.length,D=Math.sqrt(S.reduce((L,W)=>L+Math.pow(W-C,2),0)/S.length),M=S.filter(L=>Math.abs(L-C)>3*D);M.length>0?_.push({type:"warning",message:`${M.length} potential outliers found`}):_.push({type:"success",message:"No extreme outliers detected"})}}return _},k=i&&l,T=u&&p,P=()=>{k&&t(i,l,u||void 0,p||void 0,b.length>0?b:void 0)};return a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Data Preview & Configuration"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Review your data structure and configure analysis settings"})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Xn,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Dataset Overview"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"File Name"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.filename})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Observations"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.rows.toLocaleString()})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Variables"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.columns.length})]})]})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sample Data"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsx("tr",{className:"border-b border-gray-200",children:e.columns.map(_=>a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{children:_}),a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${g(v(_))}`,children:v(_)})]})},_))})}),a.jsx("tbody",{children:e.preview.map((_,x)=>a.jsx("tr",{className:"border-b border-gray-100",children:e.columns.map(j=>a.jsx("td",{className:"py-3 px-4 text-gray-700",children:_[j]},j))},x))})]})})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Variable Selection"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outcome Variable (Dependent) *"}),a.jsxs("select",{value:i,onChange:_=>o(_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"Select outcome variable..."}),e.columns.map(_=>a.jsx("option",{value:_,children:_},_))]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The variable you want to analyze or compare"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grouping Variable (Independent) *"}),a.jsxs("select",{value:l,onChange:_=>c(_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"Select grouping variable..."}),e.columns.map(_=>a.jsx("option",{value:_,children:_},_))]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The variable that defines your groups"})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[a.jsx(Yn,{className:"h-5 w-5 text-orange-600"}),a.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Survival Analysis Variables (Optional)"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Variable"}),a.jsxs("select",{value:u,onChange:_=>d(_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"Select time variable..."}),e.columns.map(_=>a.jsx("option",{value:_,children:_},_))]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Time to event (days, months, etc.)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Variable"}),a.jsxs("select",{value:p,onChange:_=>h(_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[a.jsx("option",{value:"",children:"Select event variable..."}),e.columns.map(_=>a.jsx("option",{value:_,children:_},_))]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Event occurrence (1/0, true/false, etc.)"})]})]}),T&&a.jsxs("div",{className:"mt-4 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Oi,{className:"h-4 w-4 text-orange-600"}),a.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Survival Analysis Detected"})]}),a.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"Kaplan-Meier survival analysis will be available with these variables."})]})]})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Zt,{className:"h-5 w-5 text-purple-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Advanced Analysis Options"})]}),a.jsxs("button",{onClick:()=>y(!f),className:`px-4 py-2 rounded-lg transition-colors ${f?"bg-purple-100 text-purple-700 border border-purple-300":"bg-gray-100 text-gray-700 border border-gray-300"}`,children:[f?"Hide":"Show"," Multivariate Analysis"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enable multivariate analysis to examine relationships between multiple predictor variables and your outcome."}),f&&b.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zt,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Multivariate Analysis Enabled"})]}),a.jsxs("p",{className:"text-xs text-purple-700 mt-1",children:[b.length," predictor variable",b.length>1?"s":""," selected. Regression analysis and forest plots will be available."]})]})]}),f&&a.jsx(aE,{columns:e.columns,outcomeVariable:i,selectedPredictors:b,onPredictorsChange:N,timeVariable:u,eventVariable:p})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Vd,{className:"h-5 w-5 text-gray-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Study Configuration"})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Study Type"}),a.jsxs("select",{value:s,onChange:_=>r(_.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[a.jsx("option",{value:"randomized_trial",children:"Randomized Controlled Trial"}),a.jsx("option",{value:"observational",children:"Observational Study"}),a.jsx("option",{value:"case_control",children:"Case-Control Study"}),a.jsx("option",{value:"cohort",children:"Cohort Study"}),a.jsx("option",{value:"cross_sectional",children:"Cross-Sectional Study"})]})]})})]}),a.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Quality Check"}),a.jsx("div",{className:"space-y-3",children:m().map((_,x)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[_.type==="success"?a.jsx(st,{className:"h-5 w-5 text-green-600"}):a.jsx(Qn,{className:"h-5 w-5 text-yellow-600"}),a.jsx("span",{className:"text-sm text-gray-700",children:_.message})]},x))})]}),a.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl border border-blue-200 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(it,{className:"h-5 w-5 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Insights"})]}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[l&&a.jsxs("p",{children:["• Detected grouping variable: ",l]}),i&&a.jsxs("p",{children:["• Detected outcome variable: ",i]}),T&&a.jsxs("p",{children:["• Survival analysis variables detected: ",u," & ",p]}),a.jsx("p",{children:"• Dataset appears suitable for statistical analysis"}),a.jsxs("p",{children:["• Sample size (",e.rows,") is adequate for most tests"]})]})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-8",children:[a.jsxs("button",{onClick:n,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 font-medium",children:[a.jsx(Tr,{className:"h-4 w-4"}),a.jsx("span",{children:"Back"})]}),a.jsxs("button",{onClick:P,disabled:!k,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{children:"Choose Analysis"}),a.jsx(zd,{className:"h-4 w-4"})]})]})]})};class or{static async getAnalysisRecommendation(t,n){var s,r,i,o,l;if(!this.API_KEY||this.API_KEY==="your-gemini-api-key-here")return console.warn("❌ GEMINI NOT USED: No API key configured"),console.warn("📝 To enable Gemini AI: Add VITE_GEMINI_API_KEY to your .env file"),this.getFallbackRecommendation(t,n);console.log("🚀 GEMINI AI ACTIVATED: Making real API call to Google Gemini Flash 2.5");try{const c=this.buildAnalysisPrompt(t,n),u=await fetch(`${this.API_ENDPOINT}?key=${this.API_KEY}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:c}]}],generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:500},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_NONE"}]})});if(!u.ok)throw console.error("❌ GEMINI API FAILED:",u.status),new Error(`Gemini API error: ${u.status}`);const d=await u.json();console.log("✅ GEMINI API SUCCESS: Received response from Google AI"),console.log("📋 RAW API RESPONSE:",JSON.stringify(d,null,2));let p=null;if(d.candidates&&d.candidates.length>0){const h=d.candidates[0];(i=(r=(s=h.content)==null?void 0:s.parts)==null?void 0:r[0])!=null&&i.text?p=h.content.parts[0].text:h.text?p=h.text:h.output&&(p=h.output)}if(!p)throw console.error("❌ GEMINI API ERROR: Empty or invalid response structure"),console.error("📋 Response candidates:",d.candidates),((l=(o=d.candidates)==null?void 0:o[0])==null?void 0:l.finishReason)==="SAFETY"?new Error("Content was filtered by Gemini safety systems"):new Error("No valid response from Gemini API");return console.log("🎯 GEMINI AI ANALYSIS COMPLETE: Using real AI recommendation"),this.parseAIResponse(p)}catch(c){return console.error("❌ GEMINI API FAILED:",c.message),console.warn("🔄 FALLING BACK: Using rule-based analysis instead of AI"),this.getFallbackRecommendation(t,n)}}static buildAnalysisPrompt(t,n){return`You are an expert biostatistician helping researchers choose the most appropriate statistical test.

RESEARCH QUESTION: "${t}"

DATA CHARACTERISTICS:
- Outcome variable: ${n.outcomeVariable} (${n.outcomeType})
- Group variable: ${n.groupVariable} (${n.groupType})
- Number of groups: ${n.nGroups}
- Groups: ${n.groups.join(", ")}
- Sample size: ${n.sampleSize}
${n.timeVariable?`- Time variable: ${n.timeVariable}`:""}
${n.eventVariable?`- Event variable: ${n.eventVariable}`:""}

AVAILABLE TESTS:
1. independent_ttest - Independent samples t-test for comparing 2 groups (continuous outcome)
2. mann_whitney_u - Mann-Whitney U test for comparing 2 groups (non-parametric)
3. one_way_anova - One-way ANOVA for comparing 3+ groups (continuous outcome)
4. kruskal_wallis - Kruskal-Wallis test for comparing 3+ groups (non-parametric)
5. chi_square - Chi-square test for categorical associations
6. fisher_exact - Fisher's exact test for 2x2 categorical tables
7. kaplan_meier - Kaplan-Meier survival analysis for time-to-event data

INSTRUCTIONS:
Analyze the research question and data characteristics to recommend the most appropriate statistical test.
Consider the user's specific request (multivariate, forest plot, effect sizes, etc.).

Respond in this EXACT JSON format:
{
  "recommendedTest": "test_name",
  "reasoning": "Brief explanation of why this test is most appropriate for this research question and data",
  "confidence": 0.95,
  "alternatives": ["alternative_test1", "alternative_test2"]
}

Focus on the research question intent and match it to the appropriate statistical approach.`}static parseAIResponse(t){try{const n=t.match(/\{[\s\S]*\}/);if(!n)throw new Error("No JSON found in response");const s=JSON.parse(n[0]);if(!s.recommendedTest||!s.reasoning)throw new Error("Invalid response structure");return{recommendedTest:s.recommendedTest,reasoning:s.reasoning,confidence:s.confidence||.8,alternatives:s.alternatives||[]}}catch(n){return console.error("Failed to parse AI response:",n),{recommendedTest:"independent_ttest",reasoning:"Could not parse AI recommendation, defaulting to t-test",confidence:.5,alternatives:["mann_whitney_u"]}}}static getFallbackRecommendation(t,n){console.log("🤖 FALLBACK ANALYSIS: Using rule-based system (not AI)");const s=t.toLowerCase();return n.timeVariable&&n.eventVariable?{recommendedTest:"kaplan_meier",reasoning:"Time-to-event data detected with both time and event variables",confidence:.9,alternatives:[]}:s.includes("multivariate")||s.includes("forest plot")?n.outcomeType==="categorical"?{recommendedTest:"fisher_exact",reasoning:"Forest plots typically show odds ratios from categorical analyses",confidence:.8,alternatives:["chi_square"]}:{recommendedTest:n.nGroups===2?"independent_ttest":"one_way_anova",reasoning:"Multivariate analysis with effect sizes for continuous outcomes",confidence:.8,alternatives:["mann_whitney_u","kruskal_wallis"]}:s.includes("survival")||s.includes("hazard")?{recommendedTest:"kaplan_meier",reasoning:"Survival analysis requested",confidence:.9,alternatives:[]}:(s.includes("correlation")||s.includes("association"))&&n.outcomeType==="categorical"&&n.groupType==="categorical"?{recommendedTest:"chi_square",reasoning:"Testing association between categorical variables",confidence:.85,alternatives:["fisher_exact"]}:s.includes("non-parametric")||s.includes("mann-whitney")?{recommendedTest:n.nGroups===2?"mann_whitney_u":"kruskal_wallis",reasoning:"Non-parametric test requested",confidence:.9,alternatives:[]}:n.outcomeType==="continuous"&&n.groupType==="categorical"?n.nGroups===2?{recommendedTest:"independent_ttest",reasoning:`Comparing continuous outcome (${n.outcomeVariable}) between 2 groups`,confidence:.85,alternatives:["mann_whitney_u"]}:{recommendedTest:"one_way_anova",reasoning:`Comparing continuous outcome (${n.outcomeVariable}) across ${n.nGroups} groups`,confidence:.85,alternatives:["kruskal_wallis"]}:n.outcomeType==="categorical"&&n.groupType==="categorical"?{recommendedTest:n.nGroups===2?"fisher_exact":"chi_square",reasoning:"Testing association between categorical variables",confidence:.8,alternatives:n.nGroups===2?["chi_square"]:["fisher_exact"]}:{recommendedTest:"independent_ttest",reasoning:"Standard comparison test selected as fallback",confidence:.6,alternatives:["mann_whitney_u","chi_square"]}}static isConfigured(){return!!(this.API_KEY&&this.API_KEY!=="your-gemini-api-key-here")}static getSetupInstructions(){return`
To enable AI-powered analysis recommendations:

1. Go to https://aistudio.google.com/
2. Sign in with your Google account
3. Click "Get API Key" 
4. Create a new API key (it's free!)
5. Add VITE_GEMINI_API_KEY=your_api_key to your .env file

The AI will provide more intelligent analysis recommendations based on your research questions.
    `.trim()}}Me(or,"API_ENDPOINT","https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent"),Me(or,"API_KEY","your-gemini-api-key-here");const lE={basic_statistics:it,clinical_trials:Oi,genomics:uf,proteomics:uf,time_series:Yn,correlations:qd,distributions:it,survival:Yn,machine_learning:Wn},cE=({data:e,onTemplateSelect:t,onClose:n,analysisGoal:s})=>{const[r,i]=E.useState([]),[o,l]=E.useState([]),[c,u]=E.useState(!0),[d,p]=E.useState(null),[h,f]=E.useState(""),[y,b]=E.useState("all"),[N,v]=E.useState(!1),[g,m]=E.useState([]);E.useEffect(()=>{k(),e&&e.length>0&&T()},[e,s]);const k=async()=>{try{u(!0);const C=await ue.templates.getAll();i(C.templates),l(C.categories),fe.info(`Loaded ${C.total_count} figure templates`,C.categories)}catch(C){const D=C instanceof Error?C.message:"Failed to load templates";p(D),fe.error("Failed to load templates",C)}finally{u(!1)}},T=async()=>{if(!(!e||e.length===0))try{const C=await ue.templates.recommend(e,s);m(C.recommendations),fe.info(`Got ${C.count} template recommendations`,C.data_characteristics)}catch(C){fe.warn("Failed to load template recommendations",C)}},P=r.filter(C=>{const D=!h||C.name.toLowerCase().includes(h.toLowerCase())||C.description.toLowerCase().includes(h.toLowerCase())||C.tags.some(L=>L.toLowerCase().includes(h.toLowerCase())),M=y==="all"||C.category===y;return D&&M}),_=N&&g.length>0?g:P,x=C=>C.replace(/_/g," ").replace(/\b\w/g,D=>D.toUpperCase()),j=C=>lE[C]||Da,S=C=>({nature:"text-green-600 bg-green-50 border-green-200",science:"text-red-600 bg-red-50 border-red-200",cell:"text-blue-600 bg-blue-50 border-blue-200",nejm:"text-purple-600 bg-purple-50 border-purple-200"})[C]||"text-gray-600 bg-gray-50 border-gray-200";return c?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-xl p-8 max-w-md mx-auto",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-700",children:"Loading templates..."})]})})}):d?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-xl p-8 max-w-md mx-auto",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 mb-4",children:"Failed to load templates"}),a.jsx("div",{className:"text-gray-600 text-sm mb-4",children:d}),a.jsx("button",{onClick:n,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Close"})]})})}):a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(H.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Da,{className:"h-6 w-6 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Figure Template Library"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Choose from pre-configured publication-ready templates"})]})]}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:"✕"})]}),a.jsxs("div",{className:"p-6 border-b border-gray-200 space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ck,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",placeholder:"Search templates by name, description, or tags...",value:h,onChange:C=>f(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("select",{value:y,onChange:C=>b(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:"All Categories"}),o.map(C=>a.jsx("option",{value:C,children:x(C)},C))]})]}),g.length>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(fo,{className:"h-4 w-4 text-yellow-500"}),a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[g.length," templates recommended for your data"]})]}),a.jsx("button",{onClick:()=>v(!N),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${N?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:N?"Show All":"Show Recommended"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:_.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Da,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No templates found"}),a.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.jsx(qi,{children:_.map((C,D)=>{const M=j(C.category),L=g.some(W=>W.id===C.id);return a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:D*.1},className:"bg-white border border-gray-200 rounded-lg hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:()=>t(C),children:[a.jsxs("div",{className:"p-4 pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(M,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:x(C.category)})]}),L&&a.jsxs("div",{className:"flex items-center space-x-1 bg-yellow-50 border border-yellow-200 rounded-full px-2 py-1",children:[a.jsx(fo,{className:"h-3 w-3 text-yellow-500 fill-current"}),a.jsx("span",{className:"text-xs text-yellow-700 font-medium",children:"Recommended"})]})]}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-1 group-hover:text-blue-600 transition-colors",children:C.name}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:C.description}),a.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full border text-xs font-medium ${S(C.journal_style)}`,children:[C.journal_style.toUpperCase()," Style"]})]}),a.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[a.jsxs("div",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Plot Type:"}),a.jsx("span",{className:"ml-1 font-medium text-gray-700 capitalize",children:C.plot_type.replace(/_/g," ")})]}),C.required_variables.length>0&&a.jsxs("div",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Required:"}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[C.required_variables.slice(0,3).map(W=>a.jsx("span",{className:"bg-red-50 text-red-700 px-2 py-1 rounded text-xs",children:W.replace(/_/g," ")},W)),C.required_variables.length>3&&a.jsxs("span",{className:"text-gray-500 text-xs",children:["+",C.required_variables.length-3," more"]})]})]}),C.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:C.tags.slice(0,3).map(W=>a.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs",children:["#",W]},W))}),a.jsx("div",{className:"text-xs text-gray-500 border-t pt-2",children:a.jsxs("div",{className:"flex items-start space-x-1",children:[a.jsx(iu,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{children:C.example_data_shape})]})})]}),a.jsx("div",{className:"px-4 pb-4",children:a.jsxs("div",{className:"flex items-center justify-between text-blue-600 font-medium text-sm group-hover:text-blue-700",children:[a.jsx("span",{children:"Use This Template"}),a.jsx(zd,{className:"h-4 w-4 transform group-hover:translate-x-1 transition-transform"})]})})]},C.id)})})})}),a.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",_.length," of ",r.length," templates",N&&g.length>0&&a.jsx("span",{className:"ml-2 text-blue-600",children:"(AI Recommended)"})]}),a.jsx("button",{onClick:n,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Close Library"})]})})]})})},uE=({data:e,outcomeVariable:t,groupVariable:n,timeVariable:s,eventVariable:r,predictorVariables:i=[],onAnalysisSelected:o,onBack:l,disabled:c,user:u,onLogin:d,onNavigate:p})=>{var de;const[h,f]=E.useState(""),[y,b]=E.useState(""),[N,v]=E.useState(!1),[g,m]=E.useState(null),[k,T]=E.useState(!1),[P,_]=E.useState([]),[x,j]=E.useState(!1),[S,C]=E.useState(null),D=w=>{const O=e.preview.map(U=>U[w]).filter(U=>U!=null);if(O.length===0)return"categorical";if(O.every(U=>!isNaN(Number(U)))){const Z=new Set(O).size/O.length;return w.toLowerCase().includes("id")||Z>.8?"categorical":"continuous"}return"categorical"},M=D(t),L=D(n),W=[...new Set(e.data.map(w=>w[n]))],K=W.length,X=()=>{const w=[];if(s&&r&&w.push({id:"kaplan_meier",name:"Kaplan-Meier Survival Analysis",description:"Analyze time-to-event data with survival curves",reason:"Time and event variables detected",icon:Yn,assumptions:["Censoring is non-informative"],effectSize:"Median survival time",recommended:!0}),M==="continuous"&&L==="categorical"?K===2?w.push({id:"independent_ttest",name:"Independent T-Test",description:`Compare ${W[0]} vs ${W[1]} outcomes`,reason:"2 groups, continuous outcome",icon:it,assumptions:["Normality","Equal variance"],effectSize:"Cohen's d",recommended:!0}):K>2&&w.push({id:"one_way_anova",name:"One-Way ANOVA",description:`Compare all ${K} treatment groups`,reason:"3+ groups comparison",icon:qd,assumptions:["Normality","Equal variance","Independence"],effectSize:"Eta squared",recommended:!0}):M==="categorical"&&L==="categorical"&&(w.push({id:"chi_square",name:"Chi-Square Test",description:`Test association between ${t} and ${n}`,reason:"Both variables categorical",icon:hf,assumptions:["Expected frequencies ≥ 5"],effectSize:"Cramér's V",recommended:!0}),K===2&&w.push({id:"fisher_exact",name:"Fisher's Exact Test",description:`Exact test for ${t} vs ${n}`,reason:"2x2 contingency table",icon:Zt,assumptions:["None (exact test)"],effectSize:"Odds ratio",recommended:!0})),i.length>0){let O="Multivariate Analysis",A=`Analyze ${i.length} predictor variable${i.length>1?"s":""} simultaneously`,U="Effect estimates";M==="continuous"?(O="Multiple Linear Regression",A=`Linear regression with ${i.length} predictor${i.length>1?"s":""}`,U="Beta coefficients"):M==="categorical"?(O="Logistic Regression",A=`Logistic regression with ${i.length} predictor${i.length>1?"s":""}`,U="Odds ratios"):s&&r&&(O="Cox Proportional Hazards",A=`Survival analysis with ${i.length} covariate${i.length>1?"s":""}`,U="Hazard ratios"),w.push({id:"multivariate_analysis",name:O,description:A,reason:`${i.length} predictor variable${i.length>1?"s":""} selected`,icon:Zt,assumptions:["Sufficient sample size","No multicollinearity"],effectSize:U,recommended:!0,isMultivariate:!0})}return w.length>0&&!h&&f(w[0].id),w},F=()=>{const w=[];return M==="continuous"&&L==="categorical"&&(K===2?w.push({id:"mann_whitney_u",name:"Mann-Whitney U Test",description:"Non-parametric comparison of 2 groups",icon:Oi,assumptions:["Independence"]}):K>2&&w.push({id:"kruskal_wallis",name:"Kruskal-Wallis Test",description:"Non-parametric comparison of 3+ groups",icon:hf,assumptions:["Independence"]})),I.some(A=>A.id==="kaplan_meier")||w.push({id:"kaplan_meier",name:"Kaplan-Meier Survival Analysis",description:"Time-to-event analysis with survival curves",icon:Yn,assumptions:["Time and event variables required"]}),w},I=X(),G=F(),R=()=>{const w=[...I,...G].find(O=>O.id===h);if(h==="kaplan_meier"&&p){const O={type:h,config:w,naturalLanguageQuery:y,outcomeVariable:t,groupVariable:n,timeVariable:s,eventVariable:r,outcomeType:M,groupType:L};sessionStorage.setItem("kaplanMeierConfig",JSON.stringify(O)),window.kaplanMeierData=e.data,p("kaplan-meier");return}o({type:h,config:w,naturalLanguageQuery:y,outcomeVariable:t,groupVariable:n,timeVariable:s,eventVariable:r,predictorVariables:h==="multivariate_analysis"?i:void 0,data:e.data,outcomeType:M,groupType:L})},B=w=>{try{C(w),T(!1),console.log(`✅ Template selected: ${w.name} (${w.plot_type}) - Available for future integration`)}catch(O){console.error("Error handling template selection:",O)}},$=async()=>{if(!(!e.data||e.data.length===0)){j(!0);try{const w=await ue.ai.suggestPlots(e.data,void 0,5);_(w.suggestions),console.log("AI Plot Suggestions loaded:",w)}catch(w){console.error("Failed to load AI plot suggestions:",w)}finally{j(!1)}}},ae=async()=>{if(!y.trim()){alert("Please enter a research question first.");return}v(!0),m(null);try{const w={outcomeVariable:t,groupVariable:n,outcomeType:M,groupType:L,nGroups:K,groups:W,sampleSize:e.rows,timeVariable:s,eventVariable:r},O=await or.getAnalysisRecommendation(y,w);f(O.recommendedTest),m(`🤖 AI Recommendation (${Math.round(O.confidence*100)}% confidence): ${O.reasoning}`),console.log("AI Recommendation:",O)}catch(w){console.error("AI recommendation failed:",w);const O=y.toLowerCase();O.includes("survival")||O.includes("time")||O.includes("kaplan")?f("kaplan_meier"):O.includes("correlation")||O.includes("association")?M==="categorical"&&L==="categorical"&&f("chi_square"):O.includes("compare")&&K===2?f("independent_ttest"):O.includes("compare")&&K>2?f("one_way_anova"):O.includes("non-parametric")?f(K===2?"mann_whitney_u":"kruskal_wallis"):I.length>0&&f(I[0].id),m("⚠️ AI service unavailable. Using fallback analysis selection.")}finally{v(!1)}};return a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Choose Your Analysis"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Based on your data structure, we recommend the following statistical approaches"})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Wn,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Describe Your Research Question"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("textarea",{value:y,onChange:w=>b(w.target.value),placeholder:`e.g., 'I want multivariate analysis with forest plot using ${t}' or 'Compare survival between groups' or 'Show correlation with effect sizes' or 'Forest plot with multiple predictors'`,className:"w-full h-24 border border-gray-300 rounded-lg px-4 py-3 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("button",{onClick:ae,disabled:N||!y.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:N?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"AI Analyzing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Wn,{className:"h-4 w-4"}),a.jsx("span",{children:"Get AI Recommendation"})]})}),a.jsx("div",{className:"mt-2 p-2 rounded-lg border text-xs",children:or.isConfigured()?a.jsxs("div",{className:"flex items-center space-x-2 text-green-700 bg-green-50 border-green-200",children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Gemini AI Active:"})," Real AI recommendations enabled"]})]}):a.jsxs("div",{className:"flex items-center space-x-2 text-orange-700 bg-orange-50 border-orange-200",children:[a.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full"}),a.jsxs("span",{children:[a.jsx("strong",{children:"Fallback Mode:"})," Using rule-based analysis (add API key for AI)"]})]})}),g&&a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-blue-800",children:g}),!or.isConfigured()&&a.jsxs("details",{className:"mt-2",children:[a.jsx("summary",{className:"text-xs text-blue-600 cursor-pointer hover:text-blue-800",children:"💡 Enable full AI capabilities"}),a.jsx("div",{className:"mt-2 text-xs text-gray-600 whitespace-pre-line",children:or.getSetupInstructions()})]})]})]})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Sk,{className:"h-6 w-6 text-purple-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🚀 Quick Access Tools"}),a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:"New Features"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>T(!0),className:"p-4 border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-all text-left group",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx(Da,{className:"h-5 w-5 text-purple-600"}),a.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-purple-700",children:"Template Library"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Browse pre-configured templates for publication-ready figures"}),S&&a.jsxs("div",{className:"mt-2 text-xs text-purple-700 bg-purple-50 px-2 py-1 rounded",children:["✓ Template saved: ",S.name," (for future integration)"]})]}),a.jsxs("button",{onClick:$,disabled:x,className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all text-left group disabled:opacity-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx(au,{className:"h-5 w-5 text-blue-600"}),a.jsx("h4",{className:"font-medium text-gray-900 group-hover:text-blue-700",children:x?"Loading...":"🤖 Intelligent Plot Recommendations"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Advanced AI analyzes your data to suggest optimal visualizations"}),P.length>0&&a.jsxs("div",{className:"mt-2 text-xs text-blue-700 bg-blue-50 px-2 py-1 rounded",children:[P.length," suggestions available"]})]})]})]}),P.length>0&&a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(au,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"🤖 Intelligent Plot Recommendations"}),a.jsx("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:"AI-Powered"})]}),a.jsx("div",{className:"space-y-3",children:P.slice(0,3).map((w,O)=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200 hover:border-blue-300 transition-colors cursor-pointer",onClick:()=>{const U={violin_plot:"independent_ttest",boxplot:"one_way_anova",survival_plot:"kaplan_meier",heatmap:"correlation_analysis",volcano_plot:"volcano_plot",scatter_plot:"correlation_analysis"}[w.plot_type];U&&f(U)},children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-gray-900 capitalize",children:w.plot_type.replace(/_/g," ")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${w.score>.8?"bg-green-500":w.score>.6?"bg-yellow-500":"bg-gray-400"}`}),a.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(w.score*100),"% confidence"]})]})]}),a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:w.rationale.slice(0,2).map((A,U)=>a.jsxs("div",{className:"flex items-start space-x-1",children:[a.jsx("span",{className:"text-blue-600 mt-1",children:"•"}),a.jsx("span",{children:A})]},U))}),w.required_variables.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:w.required_variables.map(A=>a.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs",children:A.replace(/_/g," ")},A))})]},O))})]}),I.length>0&&a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx(Zt,{className:"h-6 w-6 text-green-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recommended for Your Data"})]}),a.jsx("div",{className:"space-y-4",children:I.map(w=>{const O=w.icon,A=h===w.id;return a.jsx("div",{onClick:()=>f(w.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${A?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${A?"bg-blue-100":"bg-gray-100"}`,children:a.jsx(O,{className:`h-6 w-6 ${A?"text-blue-600":"text-gray-600"}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:w.name}),a.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:"Recommended"})]}),a.jsx("p",{className:"text-gray-700 mb-2",children:w.description}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[a.jsx(Ar,{className:"h-4 w-4 text-yellow-500"}),a.jsxs("span",{className:"text-gray-600",children:["Why: ",w.reason]})]}),a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:w.assumptions.map(U=>a.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded",children:U},U))})]})]})},w.id)})})]}),G.length>0&&a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Other Analysis Options"}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:G.map(w=>{const O=w.icon,A=h===w.id;return a.jsxs("div",{onClick:()=>f(w.id),className:`p-4 rounded-lg border cursor-pointer transition-all ${A?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx(O,{className:`h-5 w-5 ${A?"text-blue-600":"text-gray-600"}`}),a.jsx("h4",{className:"font-medium text-gray-900",children:w.name})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:w.description}),a.jsx("div",{className:"flex flex-wrap gap-1",children:w.assumptions.map(U=>a.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded",children:U},U))})]},w.id)})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Analysis Details"}),h&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Selected Test"}),a.jsx("p",{className:"text-sm text-gray-600",children:(de=[...I,...G].find(w=>w.id===h))==null?void 0:de.name})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Data Types"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Outcome: ",M,", Groups: ",L]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Sample Size"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[e.rows," observations"]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Groups"}),a.jsx("p",{className:"text-sm text-gray-600",children:W.join(", ")})]}),s&&r&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Survival Variables"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Time: ",s,", Event: ",r]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Power Analysis"}),a.jsxs("p",{className:"text-sm text-green-600",children:["✓ Adequate power (",">","80%)"]})]})]})]}),a.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-xl border border-green-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"📊 Basic Analysis Suggestions"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[a.jsx("p",{children:"Rule-based recommendations from your data types:"}),a.jsxs("ul",{className:"space-y-1 ml-4",children:[s&&r&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• Kaplan-Meier survival analysis is most appropriate"}),a.jsx("li",{children:"• Time-to-event data detected"}),a.jsx("li",{children:"• Survival curves will show probability over time"}),a.jsx("li",{children:"• Log-rank test for group comparisons"})]}),M==="continuous"&&L==="categorical"&&!s&&a.jsxs(a.Fragment,{children:[a.jsxs("li",{children:["• ",K===2?"Independent T-test":"One-way ANOVA"," is most appropriate"]}),a.jsx("li",{children:"• Sample size is adequate for reliable results"}),a.jsx("li",{children:"• Consider checking normality assumptions"}),a.jsxs("li",{children:["• Effect size will be reported as ",K===2?"Cohen's d":"Eta squared"]})]}),M==="categorical"&&L==="categorical"&&a.jsxs(a.Fragment,{children:[a.jsx("li",{children:"• Chi-square test for association is recommended"}),a.jsx("li",{children:"• Check expected cell frequencies ≥ 5"}),a.jsx("li",{children:"• Consider Fisher's exact test for small samples"}),a.jsx("li",{children:"• Effect size will be reported as Cramér's V"})]})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-8",children:[a.jsxs("button",{onClick:l,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 font-medium",children:[a.jsx(Tr,{className:"h-4 w-4"}),a.jsx("span",{children:"Back"})]}),a.jsxs("button",{onClick:R,disabled:!h,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{children:"Run Analysis"}),a.jsx(zd,{className:"h-4 w-4"})]})]}),k&&a.jsx(cE,{data:e.data,onTemplateSelect:B,onClose:()=>T(!1),analysisGoal:y})]})};function dE(e){if(e.length===0)return 0;var t=e[0],n=0,s;if(typeof t!="number")return Number.NaN;for(var r=1;r<e.length;r++){if(typeof e[r]!="number")return Number.NaN;s=t+e[r],Math.abs(t)>=Math.abs(e[r])?n+=t-s+e[r]:n+=e[r]-s+t,t=s}return t+n}function In(e){if(e.length===0)throw new Error("mean requires at least one data point");return dE(e)/e.length}function pE(e,t){var n=In(e),s=0,r,i;for(i=0;i<e.length;i++)r=e[i]-n,s+=r*r;return s}function _y(e){if(e.length===0)throw new Error("variance requires at least one data point");return pE(e)/e.length}function ju(e){if(e.length===1)return 0;var t=_y(e);return Math.sqrt(t)}function hE(e){if(e.length<3)throw new Error("sampleSkewness requires at least three data points");for(var t=In(e),n,s=0,r=0,i=0;i<e.length;i++)n=e[i]-t,s+=n*n,r+=n*n*n;var o=e.length-1,l=Math.sqrt(s/o),c=e.length,u=Math.pow(l,3);return c*r/((c-1)*(c-2)*u)}function fE(e){var t=e.length;if(t<4)throw new Error("sampleKurtosis requires at least four data points");for(var n=In(e),s,r=0,i=0,o=0;o<t;o++)s=e[o]-n,r+=s*s,i+=s*s*s*s;return(t-1)/((t-2)*(t-3))*(t*(t+1)*i/(r*r)-3*(t-1))}class mE{static profileData(t,n,s,r,i,o=!1){if(t.length===0)throw new Error("Dataset is empty");const l=t[0];if(!(n in l))throw new Error(`Outcome variable '${n}' not found in dataset`);const d=t.map(h=>h[n]).filter(h=>h!=null).every(h=>!isNaN(Number(h)))?"continuous":"categorical",p={sample_size:t.length,outcome_variable:n,outcome_type:d,group_variable:s,time_variable:r,event_variable:i,is_paired:o,variables:Object.keys(l)};if(s){if(!(s in l))throw new Error(`Grouping variable '${s}' not found in dataset`);const h=[...new Set(t.map(y=>y[s]))];p.n_groups=h.length,p.group_labels=h;const f={};h.forEach(y=>{f[y]=t.filter(b=>b[s]===y).length}),p.group_sizes=f}return p}}class Gf{static checkNormality(t,n=.05){if(t.length<3)return{test:"Shapiro-Wilk",passed:!1,reason:"Not enough data (need at least 3 points)"};In(t),ju(t);const s=hE(t),r=fE(t),i=Math.abs(s)<2&&Math.abs(r)<2;return{test:"Normality Check",passed:i,statistic:s,p_value:i?.1:.01}}static checkHomogeneityOfVariance(t,n,s,r=.05){const i=[...new Set(t.map(p=>p[n]))],o=[];for(const p of i){const h=t.filter(f=>f[n]===p).map(f=>Number(f[s])).filter(f=>!isNaN(f));if(h.length<2)return{test:"Levene's Test",passed:!1,reason:"At least one group has insufficient data"};o.push(_y(h))}const l=Math.max(...o),c=Math.min(...o),u=l/c,d=u<4;return{test:"Levene's Test",passed:d,statistic:u,p_value:d?.1:.01}}}class Le{static runIndependentTTest(t,n,s){const r=[...new Set(t.map(P=>P[n]))];if(r.length!==2)throw new Error("Independent t-test requires exactly 2 groups");const i=t.filter(P=>P[n]===r[0]).map(P=>Number(P[s])).filter(P=>!isNaN(P)),o=t.filter(P=>P[n]===r[1]).map(P=>Number(P[s])).filter(P=>!isNaN(P)),l=In(i),c=In(o),u=ju(i),d=ju(o),p=i.length,h=o.length,f=Math.sqrt(((p-1)*u*u+(h-1)*d*d)/(p+h-2)),y=(l-c)/(f*Math.sqrt(1/p+1/h)),b=p+h-2,N=(l-c)/f,v=Le.calculateTTestPValue(Math.abs(y),b),m=2*f*Math.sqrt(1/p+1/h),k=l-c,T=[k-m,k+m];return{test_name:"Independent Samples T-Test",statistic:{t_statistic:y,degrees_of_freedom:b},p_value:v,effect_size:{name:"Cohen's d",value:N},summary:`t(${b}) = ${y.toFixed(2)}, p = ${v.toFixed(3)}`,groups:{[r[0]]:{mean:l,std_dev:u,n:p},[r[1]]:{mean:c,std_dev:d,n:h}},confidence_interval:T}}static runMannWhitneyU(t,n,s){const r=[...new Set(t.map(g=>g[n]))];if(r.length!==2)throw new Error("Mann-Whitney U test requires exactly 2 groups");const i=t.filter(g=>g[n]===r[0]).map(g=>Number(g[s])).filter(g=>!isNaN(g)),o=t.filter(g=>g[n]===r[1]).map(g=>Number(g[s])).filter(g=>!isNaN(g)),l=i.length,c=o.length,u=[...i.map(g=>({value:g,group:1})),...o.map(g=>({value:g,group:2}))].sort((g,m)=>g.value-m.value);let d=0;u.forEach((g,m)=>{g.group===1&&(d+=m+1)});const p=d-l*(l+1)/2,h=l*c-p,f=Math.min(p,h),y=l*c/2,b=Math.sqrt(l*c*(l+c+1)/12),N=(f-y)/b,v=2*(1-Le.normalCDF(Math.abs(N)));return{test_name:"Mann-Whitney U Test",statistic:{U_statistic:f},p_value:v,summary:`U = ${f.toFixed(0)}, p = ${v.toFixed(3)}`}}static runOneWayANOVA(t,n,s){const r=[...new Set(t.map(m=>m[n]))];if(r.length<2)throw new Error("ANOVA requires at least 2 groups");const i=[],o=[],l=[];r.forEach(m=>{const k=t.filter(T=>T[n]===m).map(T=>Number(T[s])).filter(T=>!isNaN(T));i.push(k),o.push(In(k)),l.push(k.length)});const c=l.reduce((m,k)=>m+k,0),u=In(t.map(m=>Number(m[s])).filter(m=>!isNaN(m)));let d=0,p=0;i.forEach((m,k)=>{const T=o[k],P=l[k];d+=P*Math.pow(T-u,2),m.forEach(_=>{p+=Math.pow(_-T,2)})});const h=r.length-1,f=c-r.length,y=d/h,b=p/f,N=y/b,v=Le.calculateFTestPValue(N,h,f),g=d/(d+p);return{test_name:"One-Way ANOVA",statistic:{F_statistic:N,df_num:h,df_den:f},p_value:v,effect_size:{name:"Eta-squared",value:g},summary:`F(${h}, ${f}) = ${N.toFixed(2)}, p = ${v.toFixed(3)}`}}static runChiSquareTest(t,n,s){const r=[...new Set(t.map(N=>N[n]))],i=[...new Set(t.map(N=>N[s]))],o=[],l=[],c=[];for(let N=0;N<r.length;N++){o[N]=[];for(let v=0;v<i.length;v++){const g=t.filter(m=>m[n]===r[N]&&m[s]===i[v]).length;o[N][v]=g,l.push(g)}}const u=o.map(N=>N.reduce((v,g)=>v+g,0)),d=i.map((N,v)=>o.reduce((g,m)=>g+m[v],0)),p=u.reduce((N,v)=>N+v,0);for(let N=0;N<r.length;N++)for(let v=0;v<i.length;v++){const g=u[N]*d[v]/p;c.push(g)}let h=0;for(let N=0;N<l.length;N++)c[N]>0&&(h+=Math.pow(l[N]-c[N],2)/c[N]);const f=(r.length-1)*(i.length-1),y=Le.calculateChiSquarePValue(h,f),b=Math.sqrt(h/(p*Math.min(r.length-1,i.length-1)));return{test_name:"Chi-Square Test of Independence",statistic:{chi_square:h,degrees_of_freedom:f},p_value:y,effect_size:{name:"Cramér's V",value:b},summary:`χ²(${f}) = ${h.toFixed(2)}, p = ${y.toFixed(3)}`,contingency_table:o,group_names:r,outcome_names:i}}static runFisherExactTest(t,n,s){const r=[...new Set(t.map(h=>h[n]))],i=[...new Set(t.map(h=>h[s]))];if(r.length!==2||i.length!==2)throw new Error("Fisher's exact test requires a 2x2 contingency table");const o=t.filter(h=>h[n]===r[0]&&h[s]===i[0]).length,l=t.filter(h=>h[n]===r[0]&&h[s]===i[1]).length,c=t.filter(h=>h[n]===r[1]&&h[s]===i[0]).length,u=t.filter(h=>h[n]===r[1]&&h[s]===i[1]).length,d=o*u/(l*c),p=Le.calculateFisherExactPValue(o,l,c,u);return{test_name:"Fisher's Exact Test",statistic:{odds_ratio:d},p_value:p,effect_size:{name:"Odds Ratio",value:d},summary:`OR = ${d.toFixed(2)}, p = ${p.toFixed(3)}`,contingency_table:[[o,l],[c,u]],group_names:r,outcome_names:i}}static runKaplanMeier(t,n,s,r){var f;console.log("DEBUG: KM Analysis - Input data sample:",t.slice(0,5)),console.log("DEBUG: KM Analysis - timeVar:",n,"eventVar:",s,"groupVar:",r);const i=t.map(y=>{const b=String(y[s]).toLowerCase().trim();let N=!1;return b==="1"||b==="true"||b==="yes"||b.startsWith("1:")||b.includes("deceased")||b.includes("dead")||b.includes("death")?N=!0:b==="0"||b==="false"||b==="no"||b.startsWith("0:")||b.includes("living")||b.includes("alive")||b.includes("censored")?N=!1:N=Number(y[s])===1,{time:Number(y[n]),event:N,group:r?String(y[r]):"All"}}).filter(y=>!isNaN(y.time));console.log("DEBUG: KM Analysis - Processed data sample:",i.slice(0,5)),console.log("DEBUG: KM Analysis - Total events:",i.filter(y=>y.event).length),i.sort((y,b)=>y.time-b.time);const o=i.map(y=>y.time),l=i.map(y=>y.event),c=r?i.map(y=>y.group):void 0,u=c?[...new Set(c)]:["All"],d={};u.forEach(y=>{const b=i.filter(_=>_.group===y),N=b.length,v=b.filter(_=>_.event).length;let g=1;const m=[],k=[...new Set(b.map(_=>_.time))].sort((_,x)=>_-x);for(const _ of k){const x=b.filter(S=>S.time===_&&S.event).length,j=b.filter(S=>S.time>=_).length;x>0&&j>0&&(g*=(j-x)/j),m.push({time:_,survival:g,at_risk:j})}const T=m.find(_=>_.survival<=.5),P=T?T.time:k[k.length-1]||0;d[y]={n:N,events:v,median_survival:P,survival_at_times:m}});const p=r&&u.length>1?Le.calculateLogRankPValue(i,r):1,h=((f=d[u[0]])==null?void 0:f.median_survival)||0;return{test_name:"Kaplan-Meier Survival Analysis",statistic:{median_survival:h,log_rank_statistic:p<.05?3.84:1},p_value:p,summary:`Median survival = ${h.toFixed(1)} time units, p = ${p.toFixed(3)}`,survival_data:{times:o,events:l,groups:c,group_stats:d}}}static calculateTTestPValue(t,n){const s=Math.abs(t);if(n>=100)return 2*(1-Le.normalCDF(s));const r=n/2,i=.5,o=n/(n+s*s);let l;return o<.5?l=.5*Math.pow(o,r):l=1-.5*Math.pow(1-o,i),Math.max(.001,Math.min(.999,l))}static calculateFTestPValue(t,n,s){if(t<.01)return .99;if(t<1)return .5+.3*(1-t);const r=1+n/s+Math.sqrt(n/s),i=r*1.5,o=r*2.2;return t<r?.05+.45*(r-t)/r:t<i?.01+.04*(i-t)/(i-r):t<o?.001+.009*(o-t)/(o-i):Math.max(1e-4,.001*Math.exp(-(t-o)/5))}static calculateChiSquarePValue(t,n){if(t<=0)return 1;if(n<=0)return 0;const s=n+Math.sqrt(2*n)*1.645,r=n+Math.sqrt(2*n)*2.326,i=n+Math.sqrt(2*n)*3.09;return t<s?1-.95*t/s:t<r?.05-.04*(t-s)/(r-s):t<i?.01-.009*(t-r)/(i-r):Math.max(1e-4,.001*Math.exp(-(t-i)/(2*n)))}static calculateFisherExactPValue(t,n,s,r){const i=t+n+s+r,o=(t+n)*(t+s)/i,l=Math.abs(t-o);return Math.min(1,2*Math.exp(-2*l*l/i))}static calculateLogRankPValue(t,n){const s=[...new Set(t.map(u=>u.group))];if(s.length!==2)return 1;const r=t.filter(u=>u.group===s[0]&&u.event).length,i=t.filter(u=>u.group===s[1]&&u.event).length,o=r+i;if(o===0)return 1;const l=o*t.filter(u=>u.group===s[0]).length/t.length,c=Math.pow(r-l,2)/l;return Le.calculateChiSquarePValue(c,1)}static calculateMedianSurvival(t){var s;const n=t.find(r=>r.survival<=.5);return n?n.time:((s=t[t.length-1])==null?void 0:s.time)||0}static normalCDF(t){return .5*(1+Le.erf(t/Math.sqrt(2)))}static erf(t){const n=.254829592,s=-.284496736,r=1.421413741,i=-1.453152027,o=1.061405429,l=.3275911,c=t>=0?1:-1;t=Math.abs(t);const u=1/(1+l*t),d=1-((((o*u+i)*u+r)*u+s)*u+n)*u*Math.exp(-t*t);return c*d}}class gE{static validatePlan(t,n){const s=[],r=[];if(n.includes("ttest")&&t.n_groups!==2&&s.push(`T-test requires 2 groups, but data has ${t.n_groups}`),n.includes("anova")&&(t.n_groups||0)<=2&&s.push(`ANOVA is for >2 groups, but data has ${t.n_groups}`),n.includes("chi_square")&&t.outcome_type!=="categorical"&&s.push("Chi-square test requires categorical outcome variable"),n.includes("kaplan_meier")&&(t.time_variable||s.push("Kaplan-Meier analysis requires a time variable"),t.event_variable||s.push("Kaplan-Meier analysis requires an event variable")),t.sample_size<20&&r.push(`Sample size is very small (${t.sample_size}). Results may not be reliable.`),t.group_sizes){const i=Math.min(...Object.values(t.group_sizes));i<5&&r.push(`One or more groups have very few observations (min: ${i})`)}return{issues:s,warnings:r}}}class xE{constructor(){Me(this,"testRegistry",{independent_ttest:{function:Le.runIndependentTTest,assumptions:["normality","homogeneity_of_variance"],alternative:"mann_whitney_u"},one_way_anova:{function:Le.runOneWayANOVA,assumptions:["normality","homogeneity_of_variance"],alternative:"kruskal_wallis"},mann_whitney_u:{function:Le.runMannWhitneyU,assumptions:[],alternative:null},chi_square:{function:Le.runChiSquareTest,assumptions:[],alternative:"fisher_exact"},fisher_exact:{function:Le.runFisherExactTest,assumptions:[],alternative:null},kaplan_meier:{function:Le.runKaplanMeier,assumptions:[],alternative:null}})}recommendTest(t){const{outcome_type:n,n_groups:s}=t;if(t.time_variable&&t.event_variable)return{primary:"kaplan_meier",alternative:"kaplan_meier"};if(n==="continuous"){if(s===2)return{primary:"independent_ttest",alternative:"mann_whitney_u"};if((s||0)>2)return{primary:"one_way_anova",alternative:"kruskal_wallis"}}else if(n==="categorical")return s===2?{primary:"fisher_exact",alternative:"chi_square"}:{primary:"chi_square",alternative:"fisher_exact"};throw new Error("No suitable test found for this data profile")}getTestRegistry(){return this.testRegistry}}class yE{constructor(){Me(this,"brain",new xE)}runAnalysis(t,n,s,r,i){var l,c;const o={};try{const u=mE.profileData(t,n,s,r,i);o.data_profile=u;const d=this.brain.recommendTest(u);o.recommendation=d;const p=gE.validatePlan(u,d.primary);if(o.validation=p,p.issues.length>0)return o.final_result={error:"Analysis plan has critical issues",details:p.issues},o;let h=!0;const f={},y=this.brain.getTestRegistry(),b=((l=y[d.primary])==null?void 0:l.assumptions)||[];if(b.includes("normality")){const m=[...new Set(t.map(T=>T[s]))],k={};for(const T of m){const P=t.filter(_=>_[s]===T).map(_=>Number(_[n])).filter(_=>!isNaN(_));k[T]=Gf.checkNormality(P),k[T].passed||(h=!1)}f.normality=k}if(b.includes("homogeneity_of_variance")){const m=Gf.checkHomogeneityOfVariance(t,s,n);f.homogeneity_of_variance=m,m.passed||(h=!1)}o.assumption_checks={for_test:d.primary,results:f,all_assumptions_met:h};const N=h?d.primary:d.alternative;o.final_selection={selected_test:N,reason:h?"All assumptions met":"One or more assumptions failed"};const v=(c=y[N])==null?void 0:c.function;if(!v)return o.final_result={error:`Test function not found for ${N}`},o;let g;return N==="kaplan_meier"?g=v(t,r,i,s):g=v(t,s,n),o.final_result=g,o}catch(u){return o.final_result={error:u instanceof Error?u.message:"Unknown error occurred"},o}}runCustomAnalysis(t,n,s,r,i,o){const l={};try{l.data_profile={sample_size:t.length,outcome_variable:s,outcome_type:"continuous",group_variable:r,time_variable:i,event_variable:o,is_paired:!1,variables:Object.keys(t[0]||{})},l.recommendation={primary:n,alternative:n},l.validation={issues:[],warnings:[]},l.final_selection={selected_test:n,reason:"User selected"};let c;switch(n){case"chi_square":c=Le.runChiSquareTest(t,r,s);break;case"fisher_exact":c=Le.runFisherExactTest(t,r,s);break;case"kaplan_meier":c=Le.runKaplanMeier(t,i,o,r);break;default:throw new Error(`Unsupported test type: ${n}`)}return l.final_result=c,l}catch(c){return l.final_result={error:c instanceof Error?c.message:"Unknown error occurred"},l}}}const vE=({dataset:e,config:t})=>{const[n,s]=E.useState(!1),[r,i]=E.useState(null),[o,l]=E.useState(null),[c,u]=E.useState(null),[d,p]=E.useState([]),h=async y=>{var b,N,v,g,m;if(!e)return i("No dataset available for backend analysis"),null;s(!0),i(null);try{const k=await ue.analysis.run(e.id,y);l(k.id);const T={data_profile:{sample_size:((b=k.data_profile)==null?void 0:b.sample_size)||0,outcome_variable:y.outcome_variable,outcome_type:((N=k.data_profile)==null?void 0:N.outcome_type)||"continuous",group_variable:y.group_variable,time_variable:y.time_variable,event_variable:y.event_variable,is_paired:!1,variables:e.columns||[],n_groups:(v=k.data_profile)==null?void 0:v.n_groups,group_labels:(g=k.data_profile)==null?void 0:g.group_labels},recommendation:k.recommendation||{primary:"",alternative:""},validation:k.validation||{issues:[],warnings:[]},final_selection:{selected_test:((m=k.results)==null?void 0:m.test_name)||"",reason:"Server analysis"},final_result:k.results||{error:"No results returned from server"}};u(T);try{const P=await ue.analysis.getFigures(k.id);p(P)}catch(P){console.warn("Error fetching figures:",P)}return T}catch(k){const T=k instanceof Error?k.message:"Failed to run analysis";return i(T),null}finally{s(!1)}},f=async(y,b,N)=>{if(!o)return i("No analysis available to regenerate figures"),[];s(!0),i(null);try{const v=await ue.analysis.regenerateFigures(o,{style:y,color_scheme:b,custom_labels:N});return p(v),v}catch(v){const g=v instanceof Error?v.message:"Failed to regenerate figures";return i(g),[]}finally{s(!1)}};return E.useEffect(()=>{e&&t&&h(t)},[e==null?void 0:e.id,t==null?void 0:t.outcome_variable]),{loading:n,error:r,analysisResult:c,figures:d,analysisId:o,runAnalysis:h,regenerateFigures:f}},bE=({data:e,outcomeVariable:t,groupVariable:n,analysisType:s,timeVariable:r,eventVariable:i,customLabels:o,journalStyle:l="nature",onFigureGenerated:c,externalFigureData:u,externalCodeParameters:d,templateInfo:p})=>{var P;const[h,f]=E.useState(null),[y,b]=E.useState(!1),[N,v]=E.useState(null),[g,m]=E.useState(null);E.useEffect(()=>{k()},[e,t,n,s,r,i,o,l,p]),E.useEffect(()=>{u&&(f(u),c&&c(u))},[u]);const k=async()=>{if(!e||e.length===0){v("No data available for visualization");return}b(!0),v(null);try{const _=e.map(S=>{const C={};return Object.keys(S).forEach(D=>{const M=S[D];M==null||typeof M=="number"&&isNaN(M)?C[D]=typeof M=="number"?0:"":C[D]=M}),C});let x;if(p&&s==="template_based"){const S=p.plot_type,C=p.settings||{};console.log(`🎨 Generating template-based ${S} plot`),S==="volcano"?x=await fetch("http://localhost:8000/api/v1/visualization/generate_volcano_plot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:_,log2fc_col:C.log2fc_col||"log2FoldChange",pvalue_col:C.pvalue_col||"pvalue",gene_col:C.gene_col,fc_threshold:C.fc_threshold||1,pvalue_threshold:C.pvalue_threshold||.05,title:(o==null?void 0:o.title)||C.title,highlight_genes:C.highlight_genes,format:"png",journal_style:l})}):S==="heatmap"?x=await fetch("http://localhost:8000/api/v1/visualization/generate_heatmap",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:_,title:(o==null?void 0:o.title)||C.title,custom_labels:o,cmap:C.cmap||"RdBu_r",show_values:C.show_values!==!1,cluster_rows:C.cluster_rows||!1,cluster_cols:C.cluster_cols||!1,format:"png",journal_style:l})}):S==="violin"?x=await fetch("http://localhost:8000/api/v1/visualization/generate_violin_plot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:_,outcome_variable:t,group_variable:n,title:(o==null?void 0:o.title)||C.title,custom_labels:o,show_box:C.show_box!==!1,show_points:C.show_points!==!1,show_stats:C.show_stats!==!1,format:"png",journal_style:l})}):S==="roc_curve"?x=await fetch("http://localhost:8000/api/v1/visualization/generate_roc_curve",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({y_true:_.map(D=>D[t]),y_scores:_.map(D=>D[n]),title:(o==null?void 0:o.title)||C.title,format:"png",journal_style:l})}):(console.warn(`Template plot type '${S}' not directly supported, using display figure`),x=await fetch("http://localhost:8000/generate_display_figure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:_,outcome_variable:t,group_variable:n,analysis_type:"independent_ttest",time_variable:r,event_variable:i,custom_labels:o,journal_style:l})}))}else x=await fetch("http://localhost:8000/generate_display_figure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:_,outcome_variable:t,group_variable:n,analysis_type:s,time_variable:r,event_variable:i,custom_labels:o,journal_style:l})});if(!x.ok){const S=await x.json();throw new Error(S.detail||`HTTP error! status: ${x.status}`)}const j=await x.json();f(j.figure),m(j),c&&c(j.figure)}catch(_){console.error("Error generating figure:",_),v(_ instanceof Error?_.message:"Failed to generate figure")}finally{b(!1)}},T=async(_="png")=>{try{let x=h;if(_!=="png"||!h){const D=await fetch(d?"http://localhost:8000/generate_code_edit_figure":"http://localhost:8000/generate_publication_figure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d?{data:e,outcome_variable:t,group_variable:n,analysis_type:s,time_variable:r,event_variable:i,custom_labels:o,journal_style:l,code_parameters:d,format:_}:{data:e,outcome_variable:t,group_variable:n,analysis_type:s,time_variable:r,event_variable:i,format:_,custom_labels:o,publication_settings:{journal_style:l,dpi:300}})});if(!D.ok)throw new Error("Download failed");x=(await D.json()).figure}const j=document.createElement("a");_==="png"?j.href=`data:image/png;base64,${x}`:_==="pdf"?j.href=`data:application/pdf;base64,${x}`:_==="svg"?j.href=`data:image/svg+xml;base64,${x}`:_==="eps"&&(j.href=`data:application/postscript;base64,${x}`),j.download=`figure_${l}_${Date.now()}.${_}`,document.body.appendChild(j),j.click(),document.body.removeChild(j)}catch(x){console.error("Download error:",x),alert("Download failed. Please try again.")}};return y?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Generating publication-ready figure..."})]}):N?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Figure Generation Error"}),a.jsx("p",{className:"mt-1 text-sm text-red-700",children:N}),a.jsx("button",{onClick:k,className:"mt-2 text-sm text-red-800 underline hover:text-red-600",children:"Try Again"})]})]})}):h?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:a.jsx("img",{src:`data:image/png;base64,${h}`,alt:"Publication-ready scientific figure",className:"w-full h-auto max-w-full",style:{maxHeight:"600px",objectFit:"contain"}})}),g&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Journal Style:"})," ",g.journal_style]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Data Complexity:"})," ",g.data_complexity]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Groups:"})," ",g.n_groups]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Format:"})," ",(P=g.format)==null?void 0:P.toUpperCase()]})]}),g.message&&a.jsx("div",{className:"mt-2 text-xs text-gray-500",children:g.message})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[a.jsx("button",{onClick:()=>T("png"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium",children:"Download PNG"}),a.jsx("button",{onClick:()=>T("pdf"),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-medium",children:"Download PDF"}),a.jsx("button",{onClick:()=>T("svg"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm font-medium",children:"Download SVG"}),a.jsx("button",{onClick:()=>T("eps"),className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors text-sm font-medium",children:"Download EPS"})]}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Journal Style:"}),a.jsxs("select",{value:l,onChange:_=>{},className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"nature",children:"Nature"}),a.jsx("option",{value:"science",children:"Science"}),a.jsx("option",{value:"cell",children:"Cell"}),a.jsx("option",{value:"nejm",children:"NEJM"})]}),a.jsx("button",{onClick:k,className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors text-sm",children:"Regenerate"})]})]}):a.jsx("div",{className:"text-center p-8 text-gray-500",children:"No figure data available"})},Kf={figure_width:4.5,figure_height:3.5,title_font_size:18,label_font_size:16,tick_font_size:14,line_width:1.5,marker_size:8,dpi:300,font_weight:"bold",grid_alpha:.3},wE=({data:e,outcomeVariable:t,groupVariable:n,analysisType:s,timeVariable:r,eventVariable:i,customLabels:o,journalStyle:l="nature",onFigureGenerated:c,isVisible:u})=>{const[d,p]=E.useState(Kf),[h,f]=E.useState(null),[y,b]=E.useState(!1),[N,v]=E.useState(null),[g,m]=E.useState(!1);E.useEffect(()=>{u&&e&&e.length>0&&k()},[u,l]);const k=async()=>{if(!(!e||e.length===0)){b(!0),v(null);try{const S=await fetch("http://localhost:8000/generate_code_edit_figure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e,outcome_variable:t,group_variable:n,analysis_type:s,time_variable:r,event_variable:i,custom_labels:o,journal_style:l,code_parameters:d})});if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);const C=await S.json();f(C.figure),c&&c(C.figure,d)}catch(S){console.error("Error generating figure:",S),v(S instanceof Error?S.message:"Failed to generate figure")}finally{b(!1)}}},T=(S,C)=>{p(D=>({...D,[S]:C}))},P=()=>{p(Kf)},_=()=>{k()},x=()=>{h&&c&&(c(null),setTimeout(()=>{c(h,d)},100))},j=async(S="png")=>{if(!h&&S==="png"){alert("No figure to download. Please generate a figure first.");return}try{let C=h;if(S!=="png"){const M=await fetch("http://localhost:8000/generate_code_edit_figure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e,outcome_variable:t,group_variable:n,analysis_type:s,time_variable:r,event_variable:i,custom_labels:o,journal_style:l,code_parameters:d,format:S})});if(!M.ok){const W=await M.text();throw console.error("Backend response error:",W),new Error(`HTTP error! status: ${M.status} - ${W}`)}if(C=(await M.json()).figure,S==="pdf"&&C)try{atob(C)}catch{throw console.error("Invalid base64 PDF data:",C.substring(0,100)),new Error("PDF generation failed - invalid data format")}}const D=document.createElement("a");S==="png"?D.href=`data:image/png;base64,${C}`:S==="pdf"?(console.log("PDF download data length:",C==null?void 0:C.length),console.log("PDF data starts with:",C==null?void 0:C.substring(0,50)),D.href=`data:application/pdf;base64,${C}`):S==="svg"?D.href=`data:image/svg+xml;base64,${C}`:S==="eps"&&(D.href=`data:application/postscript;base64,${C}`),D.download=`code_edited_figure_${Date.now()}.${S}`,document.body.appendChild(D),D.click(),document.body.removeChild(D)}catch(C){console.error("Download error:",C),alert(`Download failed: ${C.message}. Please try again.`)}};return u?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tx,{className:"h-5 w-5 text-purple-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Interactive Code Editor"}),a.jsx("span",{className:"text-sm text-gray-500",children:"Customize figure parameters in real-time"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>m(!g),className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200 transition-colors flex items-center space-x-1",children:[a.jsx(Vd,{className:"h-4 w-4"}),a.jsx("span",{children:g?"Basic":"Advanced"})]}),a.jsxs("button",{onClick:P,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200 transition-colors flex items-center space-x-1",children:[a.jsx(Pk,{className:"h-4 w-4"}),a.jsx("span",{children:"Reset"})]})]})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 border-b pb-2",children:"Figure Parameters"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Figure Width"}),a.jsx("input",{type:"number",min:"2",max:"12",step:"0.1",value:d.figure_width,onChange:S=>T("figure_width",parseFloat(S.target.value)),className:"w-full border border-gray-300 rounded px-3 py-1 text-sm"}),a.jsx("span",{className:"text-xs text-gray-500",children:"inches"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Figure Height"}),a.jsx("input",{type:"number",min:"2",max:"10",step:"0.1",value:d.figure_height,onChange:S=>T("figure_height",parseFloat(S.target.value)),className:"w-full border border-gray-300 rounded px-3 py-1 text-sm"}),a.jsx("span",{className:"text-xs text-gray-500",children:"inches"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title Font Size"}),a.jsx("input",{type:"number",min:"8",max:"32",value:d.title_font_size,onChange:S=>T("title_font_size",parseInt(S.target.value)),className:"w-full border border-gray-300 rounded px-3 py-1 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Label Font Size"}),a.jsx("input",{type:"number",min:"6",max:"24",value:d.label_font_size,onChange:S=>T("label_font_size",parseInt(S.target.value)),className:"w-full border border-gray-300 rounded px-3 py-1 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tick Font Size"}),a.jsx("input",{type:"number",min:"6",max:"20",value:d.tick_font_size,onChange:S=>T("tick_font_size",parseInt(S.target.value)),className:"w-full border border-gray-300 rounded px-3 py-1 text-sm"})]})]}),g&&a.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[a.jsx("h5",{className:"font-medium text-gray-800",children:"Advanced Styling"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Line Width"}),a.jsx("input",{type:"number",min:"0.5",max:"5",step:"0.1",value:d.line_width,onChange:S=>T("line_width",parseFloat(S.target.value)),className:"w-full border border-gray-300 rounded px-3 py-1 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marker Size"}),a.jsx("input",{type:"number",min:"2",max:"20",value:d.marker_size,onChange:S=>T("marker_size",parseInt(S.target.value)),className:"w-full border border-gray-300 rounded px-3 py-1 text-sm"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DPI"}),a.jsxs("select",{value:d.dpi,onChange:S=>T("dpi",parseInt(S.target.value)),className:"w-full border border-gray-300 rounded px-3 py-1 text-sm",children:[a.jsx("option",{value:150,children:"150 (Draft)"}),a.jsx("option",{value:300,children:"300 (Print)"}),a.jsx("option",{value:600,children:"600 (High-res)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Font Weight"}),a.jsxs("select",{value:d.font_weight,onChange:S=>T("font_weight",S.target.value),className:"w-full border border-gray-300 rounded px-3 py-1 text-sm",children:[a.jsx("option",{value:"normal",children:"Normal"}),a.jsx("option",{value:"bold",children:"Bold"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grid Alpha"}),a.jsx("input",{type:"number",min:"0",max:"1",step:"0.1",value:d.grid_alpha,onChange:S=>T("grid_alpha",parseFloat(S.target.value)),className:"w-full border border-gray-300 rounded px-3 py-1 text-sm"})]})]})]}),a.jsxs("div",{className:"space-y-3 pt-4",children:[a.jsxs("button",{onClick:_,disabled:y,className:"w-full bg-purple-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[a.jsx(Ix,{className:"h-4 w-4"}),a.jsx("span",{children:y?"Generating...":"Apply Changes"})]}),h&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:x,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:a.jsx("span",{children:"📊 Update Main Figure"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{onClick:()=>j("png"),className:"bg-green-600 text-white py-2 px-3 rounded-lg font-medium hover:bg-green-700 transition-colors text-sm",children:"📥 PNG"}),a.jsx("button",{onClick:()=>j("pdf"),className:"bg-red-600 text-white py-2 px-3 rounded-lg font-medium hover:bg-red-700 transition-colors text-sm",children:"📄 PDF"})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 border-b pb-2",children:"Live Preview"}),y&&a.jsxs("div",{className:"flex items-center justify-center p-8 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Generating figure..."})]}),N&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-sm text-red-700",children:N})}),h&&!y&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("img",{src:`data:image/png;base64,${h}`,alt:"Code-customized figure",className:"w-full h-auto rounded border",style:{maxHeight:"400px",objectFit:"contain"}}),a.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-center",children:[d.figure_width,'" × ',d.figure_height,'" • ',d.dpi," DPI"]})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Current Parameters (Python-style)"}),a.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg text-sm font-mono overflow-x-auto",children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{children:"# Figure dimensions"}),a.jsxs("div",{children:["figure_width = ",d.figure_width]}),a.jsxs("div",{children:["figure_height = ",d.figure_height]}),a.jsx("div",{}),a.jsx("div",{children:"# Font sizes"}),a.jsxs("div",{children:["title_font_size = ",d.title_font_size]}),a.jsxs("div",{children:["label_font_size = ",d.label_font_size]}),a.jsxs("div",{children:["tick_font_size = ",d.tick_font_size]}),a.jsx("div",{}),a.jsx("div",{children:"# Styling"}),a.jsxs("div",{children:["line_width = ",d.line_width]}),a.jsxs("div",{children:["marker_size = ",d.marker_size]}),a.jsxs("div",{children:["font_weight = '",d.font_weight,"'"]}),a.jsxs("div",{children:["dpi = ",d.dpi]}),a.jsxs("div",{children:["grid_alpha = ",d.grid_alpha]})]})})]})]}):null},jE=({analysisConfig:e,onBack:t,onNewAnalysis:n,dataset:s,onSaveResults:r,project:i})=>{var de;const[o,l]=E.useState("nature"),[c,u]=E.useState("png"),[d,p]=E.useState(!1),[h,f]=E.useState(!1),[y,b]=E.useState(null),[N,v]=E.useState(null),[g,m]=E.useState({x:"",y:"",title:""}),[k,T]=E.useState(!1),P=vE({dataset:s,config:s?{outcome_variable:e.outcomeVariable,group_variable:e.groupVariable,time_variable:e.timeVariable,event_variable:e.eventVariable,test_type:e.type}:void 0}),[_,x]=E.useState(null),[j,S]=E.useState(!s),[C,D]=E.useState(null),M=s?P.analysisResult:_,L=s?P.loading:j,W=s?P.error:C;E.useEffect(()=>{s||F()},[]),E.useEffect(()=>{if(M&&r&&!L&&!W){const w=M.final_result;w&&!("error"in w)&&r(M).catch(O=>{console.error("Failed to save analysis results:",O)})}},[M,r,L,W]);const K=async w=>{var O;if(!w.predictorVariables||w.predictorVariables.length===0)throw new Error("No predictor variables selected for multivariate analysis");try{const A=await ue.statistical.analyzeMultivariate({data:w.data,outcome_variable:w.outcomeVariable,predictor_variables:w.predictorVariables,time_variable:w.timeVariable||null,event_variable:w.eventVariable||null,model_type:"multivariate_analysis"});return{data_profile:{sample_size:A.sample_size,outcome_variable:w.outcomeVariable,outcome_type:w.outcomeType||"continuous",group_variable:void 0,n_groups:void 0,time_variable:w.timeVariable,event_variable:w.eventVariable,is_paired:!1,variables:w.predictorVariables||[]},recommendation:{primary:A.model_type,alternative:A.model_type},validation:{issues:[],warnings:[]},final_selection:A.model_type,final_result:{test_name:A.analysis_type,statistic:{model_type:A.model_type},p_value:0,effect_size:((O=A.results)==null?void 0:O.length)>0?A.results[0].effect_measure:"Effect Size",confidence_interval:void 0,summary:A.message,assumptions_met:!0,sample_sizes:{total:A.sample_size},descriptive_stats:{},forest_plot:A.forest_plot,multivariate_results:A.results,model_summary:A.model_summary,formula:A.formula}}}catch(A){throw console.error("Multivariate analysis error:",A),A}},X=async w=>{try{return console.log("🎨 Generating template-based visualization:",w.template.name),{data_profile:{sample_size:w.data.length,outcome_variable:w.outcomeVariable,outcome_type:w.outcomeType||"continuous",group_variable:w.groupVariable,n_groups:void 0,time_variable:w.timeVariable,event_variable:w.eventVariable,is_paired:!1,variables:[]},recommendation:{primary:w.template.name,alternative:w.template.plot_type},validation:{issues:[],warnings:[]},final_selection:w.template.plot_type,final_result:{test_name:w.template.name,statistic:{template_based:!0},p_value:void 0,effect_size:void 0,confidence_interval:void 0,summary:`Template-based ${w.template.plot_type} visualization`,assumptions_met:!0,sample_sizes:{total:w.data.length},descriptive_stats:{},template_info:{template:w.template,plot_type:w.template.plot_type,settings:w.template.default_settings,journal_style:w.template.journal_style}}}}catch(O){throw console.error("Template-based generation error:",O),O}},F=async()=>{S(!0),D(null);try{const w=new yE;let O;e.type==="template_based"?O=await X(e):e.type==="multivariate_analysis"?O=await K(e):["chi_square","fisher_exact","kaplan_meier"].includes(e.type)?O=w.runCustomAnalysis(e.data,e.type,e.outcomeVariable,e.groupVariable,e.timeVariable,e.eventVariable):O=w.runAnalysis(e.data,e.outcomeVariable,e.groupVariable,e.timeVariable,e.eventVariable),x(O)}catch(w){D(w instanceof Error?w.message:"Analysis failed")}finally{S(!1)}},I=w=>{var U,Z,q,ne,oe;if("error"in w)return"";const O=w.test_name||"";let A="";if(w.multivariate_results||O.includes("multivariate")||O.includes("regression")){const Q=w.multivariate_results||[],re=((U=w.sample_sizes)==null?void 0:U.total)||"N";if(A+=`Multivariate analysis was conducted with ${re} observations. `,O.includes("cox")||O.includes("Cox")?A+="Cox proportional hazards regression was performed to examine the relationship between multiple predictors and time-to-event outcomes. ":O.includes("logistic")?A+="Logistic regression was performed to examine the relationship between multiple predictors and the binary outcome. ":O.includes("linear")&&(A+="Multiple linear regression was performed to examine the relationship between multiple predictors and the continuous outcome. "),Q.length>0){A+=`The model included ${Q.length} predictor variable${Q.length>1?"s":""}. `;const Y=Q.filter(me=>me.p_value&&me.p_value<.05);Y.length>0&&(A+=`${Y.length} predictor${Y.length>1?"s":""} showed statistically significant associations. `)}return A}if(w.groups){const Q=Object.values(w.groups).reduce((re,Y)=>re+Y.n,0);A+=`Data from ${Q} participants were analyzed. `}if(O.includes("T-Test")?(A+=`An independent samples t-test was conducted to compare ${e.outcomeVariable} between ${e.groupVariable} groups. `,A+="Assumptions of normality and homogeneity of variance were assessed prior to analysis. "):O.includes("Mann-Whitney")?(A+=`A Mann-Whitney U test was performed to compare ${e.outcomeVariable} between ${e.groupVariable} groups. `,A+="This non-parametric test was selected due to violations of normality assumptions. "):O.includes("ANOVA")?(A+=`A one-way analysis of variance (ANOVA) was conducted to compare ${e.outcomeVariable} across ${e.groupVariable} groups. `,A+="Assumptions of normality, homogeneity of variance, and independence were evaluated. "):O.includes("Kruskal")?(A+=`A Kruskal-Wallis test was performed to compare ${e.outcomeVariable} across ${e.groupVariable} groups. `,A+="This non-parametric alternative to ANOVA was selected due to assumption violations. "):O.includes("Chi-Square")?(A+=`A chi-square test of independence was conducted to examine the association between ${e.outcomeVariable} and ${e.groupVariable}. `,A+="Expected cell frequencies were verified to meet the assumption of ≥5 per cell. "):O.includes("Fisher")?(A+=`Fisher's exact test was performed to examine the association between ${e.outcomeVariable} and ${e.groupVariable}. `,A+="This exact test was selected for precise p-value calculation with small sample sizes. "):(O.includes("Survival")||O.includes("Kaplan-Meier"))&&(A+="Kaplan-Meier survival analysis was conducted to evaluate time-to-event data. ",A+="Survival curves were generated and compared using the log-rank test. "),w.groups){const Q=Object.keys(w.groups),re=Object.values(w.groups);A+="Descriptive statistics by group: ",A+=Q.map((Y,me)=>{const se=re[me],ye=se.mean!==void 0?se.mean.toFixed(2):"N/A",We=se.std_dev!==void 0?se.std_dev.toFixed(2):"N/A";return`${Y} (n=${se.n||"N/A"}, M=${ye}, SD=${We})`}).join("; ")+". "}if((Z=w.survival_data)!=null&&Z.group_stats){const Q=Object.entries(w.survival_data.group_stats);A+="Survival characteristics: ",A+=Q.map(([re,Y])=>{const me=Y.events||0,se=Y.n||1,ye=(me/se*100).toFixed(1),We=Y.median_survival!==void 0?Y.median_survival.toFixed(1):"N/A";return`${re} group had ${me} events out of ${se} participants (event rate: ${ye}%), with median survival of ${We} time units`}).join("; ")+". "}if(O.includes("T-Test")&&((q=w.statistic)!=null&&q.t_statistic)?A+=`The analysis yielded t(${w.statistic.degrees_of_freedom}) = ${w.statistic.t_statistic.toFixed(3)}, p = ${w.p_value<.001?"<0.001":w.p_value.toFixed(3)}`:O.includes("ANOVA")&&((ne=w.statistic)!=null&&ne.F_statistic)?A+=`The ANOVA revealed F(${w.statistic.df_num}, ${w.statistic.df_den}) = ${w.statistic.F_statistic.toFixed(3)}, p = ${w.p_value<.001?"<0.001":w.p_value.toFixed(3)}`:O.includes("Chi-Square")&&((oe=w.statistic)!=null&&oe.chi_square)?A+=`The chi-square analysis yielded χ²(${w.statistic.degrees_of_freedom}) = ${w.statistic.chi_square.toFixed(3)}, p = ${w.p_value<.001?"<0.001":w.p_value.toFixed(3)}`:w.p_value!==void 0&&(A+=`Statistical analysis yielded p = ${w.p_value<.001?"<0.001":w.p_value.toFixed(3)}`),w.effect_size&&w.effect_size.name&&w.effect_size.value!==void 0){const Q=Math.abs(w.effect_size.value);let re="";w.effect_size.name.includes("Cohen")?re=Q<.2?"small":Q<.5?"medium":"large":w.effect_size.name.includes("Eta")?re=Q<.01?"small":Q<.06?"medium":"large":w.effect_size.name.includes("Cramér")?re=Q<.1?"small":Q<.3?"medium":"large":re="unknown",A+=`. Effect size was ${w.effect_size.name} = ${w.effect_size.value.toFixed(3)}, indicating a ${re} effect`}return w.p_value!==void 0&&w.p_value<.05?(A+=". The result was statistically significant",w.p_value<.001?A+=" at the p < 0.001 level":w.p_value<.01?A+=" at the p < 0.01 level":A+=" at the p < 0.05 level"):A+=". No statistically significant difference was detected",A+=". All analyses were performed using appropriate statistical software with significance set at α = 0.05.",A},G=w=>{var U;if("error"in w)return"";const O=w.test_name;let A="";if(O.includes("T-Test")||O.includes("Mann-Whitney")){const Z=O.includes("Mann-Whitney")?"Mann-Whitney U test":"independent samples t-test",q=O.includes("Mann-Whitney")?"median with interquartile range":"mean ± standard deviation";if(A=`Box plots showing the distribution of ${e.outcomeVariable} by ${e.groupVariable}. `,A+=`Data are presented as ${q}. `,w.groups){const ne=Object.keys(w.groups),oe=Object.values(w.groups);A+="Group statistics: ",A+=ne.map((Q,re)=>{const Y=oe[re];return`${Q} (n=${Y.n}, M=${Y.mean.toFixed(2)}, SD=${Y.std_dev.toFixed(2)})`}).join("; ")+". "}if(A+=`Statistical analysis: ${Z}. `,O.includes("T-Test")&&w.statistic.t_statistic?A+=`t(${w.statistic.degrees_of_freedom}) = ${w.statistic.t_statistic.toFixed(2)}, `:O.includes("Mann-Whitney")&&w.statistic.U_statistic&&(A+=`U = ${w.statistic.U_statistic.toFixed(0)}, `),A+=`p = ${w.p_value<.001?"<0.001":w.p_value.toFixed(3)}`,w.effect_size){const ne=Math.abs(w.effect_size.value),oe=ne<.2?"small":ne<.5?"medium":"large";A+=`, ${w.effect_size.name} = ${w.effect_size.value.toFixed(3)} (${oe} effect)`}if(w.p_value<.05){const ne=w.p_value<.001?"***":w.p_value<.01?"**":"*";A+=` ${ne}`}A+="."}else if(O.includes("ANOVA")||O.includes("Kruskal")){const Z=O.includes("Kruskal")?"Kruskal-Wallis test":"one-way ANOVA";if(A=`Bar graph showing mean ± SEM of ${e.outcomeVariable} by ${e.groupVariable}. `,A+="Error bars represent standard error of the mean. ",w.groups){const q=Object.keys(w.groups);q.length;const ne=Object.values(w.groups).reduce((oe,Q)=>oe+Q.n,0);A+=`Groups compared: ${q.join(", ")} (total n=${ne}). `}if(A+=`Statistical analysis: ${Z}. `,O.includes("ANOVA")&&w.statistic.F_statistic&&(A+=`F(${w.statistic.df_num}, ${w.statistic.df_den}) = ${w.statistic.F_statistic.toFixed(2)}, `),A+=`p = ${w.p_value<.001?"<0.001":w.p_value.toFixed(3)}`,w.effect_size){const q=w.effect_size.value,ne=q<.01?"small":q<.06?"medium":"large";A+=`, ${w.effect_size.name} = ${q.toFixed(3)} (${ne} effect)`}w.p_value<.05&&(A+=". Post-hoc comparisons may be warranted"),A+="."}else if(O.includes("Chi-Square")||O.includes("Fisher")){const Z=O.includes("Fisher")?"Fisher's exact test":"chi-square test of independence";if(A=`Contingency table heatmap showing the association between ${e.outcomeVariable} and ${e.groupVariable}. `,A+="Cell values represent observed frequencies. ",w.contingency_table){const q=w.contingency_table.flat().reduce((ne,oe)=>ne+oe,0);A+=`Total sample size: n=${q}. `}if(A+=`Statistical analysis: ${Z}. `,O.includes("Chi-Square")&&w.statistic.chi_square?A+=`χ²(${w.statistic.degrees_of_freedom}) = ${w.statistic.chi_square.toFixed(2)}, `:O.includes("Fisher")&&w.statistic.odds_ratio&&(A+=`Odds ratio = ${w.statistic.odds_ratio.toFixed(2)}, `),A+=`p = ${w.p_value<.001?"<0.001":w.p_value.toFixed(3)}`,w.effect_size){const q=w.effect_size.value,ne=q<.1?"small":q<.3?"medium":"large";A+=`, ${w.effect_size.name} = ${q.toFixed(3)} (${ne} association)`}A+="."}else if(O.includes("Survival")||O.includes("Kaplan-Meier")){if(A="Kaplan-Meier survival curves showing the probability of event-free survival over time. ",A+="Step functions represent the survival probability at each time point. ",(U=w.survival_data)!=null&&U.group_stats){const Z=Object.entries(w.survival_data.group_stats),q=Z.reduce((oe,[,Q])=>oe+Q.n,0),ne=Z.reduce((oe,[,Q])=>oe+Q.events,0);A+=`Total sample: n=${q}, events=${ne}. `,A+="Group-specific statistics: ",A+=Z.map(([oe,Q])=>{const re=(Q.events/Q.n*100).toFixed(1);return`${oe} (n=${Q.n}, events=${Q.events} [${re}%], median survival=${Q.median_survival.toFixed(1)} time units)`}).join("; ")+". "}A+="Statistical comparison: log-rank test, ",A+=`p = ${w.p_value<.001?"<0.001":w.p_value.toFixed(3)}`,w.p_value<.05?A+=". Significant difference in survival between groups":A+=". No significant difference in survival between groups",A+="."}return A},R=w=>{navigator.clipboard.writeText(w)},B=(w,O)=>{b(w),O&&v(O)};if(L)return a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[a.jsx(kr,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Running Statistical Analysis..."}),a.jsxs("p",{className:"text-gray-600",children:["Analyzing your data with ",e.type.replace("_"," ")," and checking assumptions."]})]})});if(W)return a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-xl shadow-sm border border-red-200 p-8 text-center",children:[a.jsx(Xt,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Analysis Error"}),a.jsx("p",{className:"text-red-600 mb-4",children:W}),a.jsx("button",{onClick:()=>{s&&P.runAnalysis?P.runAnalysis({outcome_variable:e.outcomeVariable,group_variable:e.groupVariable,time_variable:e.timeVariable,event_variable:e.eventVariable,test_type:e.type}):F()},className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Try Again"})]})});if(!M)return null;const $=M.final_result,ae="error"in $;return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Analysis Results"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Your statistical analysis is complete with publication-ready outputs"})]}),ae?a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-red-200 p-8 text-center",children:[a.jsx(Xt,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Analysis Issues"}),a.jsx("p",{className:"text-red-600 mb-4",children:$.error}),$.details&&a.jsx("ul",{className:"text-sm text-red-600 mb-4",children:$.details.map((w,O)=>a.jsxs("li",{children:["• ",w]},O))})]}):a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:[$.test_name," Results"]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Statistics"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[Object.entries($.statistic||{}).map(([w,O])=>a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600",children:[w.replace("_"," "),":"]}),a.jsx("span",{className:"font-medium",children:typeof O=="number"&&!isNaN(O)?O.toFixed(3):O||"N/A"})]},w)),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"p-value:"}),a.jsx("span",{className:"font-medium",children:$.p_value!==void 0?$.p_value<.001?"p < 0.001":`p = ${$.p_value.toFixed(3)}`:"p = N/A"})]})]})]}),$.effect_size&&$.effect_size.value!==void 0&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Effect Size"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-gray-600",children:[$.effect_size.name,":"]}),a.jsx("span",{className:"font-medium",children:$.effect_size.value.toFixed(3)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Interpretation:"}),a.jsxs("span",{className:"font-medium text-green-600",children:[Math.abs($.effect_size.value)<.2?"Small":Math.abs($.effect_size.value)<.5?"Medium":"Large"," effect"]})]})]})]})]}),$.multivariate_results&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-blue-200",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Multivariate Model Results"}),a.jsxs("div",{className:"space-y-3",children:[$.multivariate_results.map((w,O)=>{var A,U,Z,q;return a.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium text-gray-900",children:w.variable}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:w.effect_measure==="Beta Coefficient"?`β = ${((A=w.odds_ratio)==null?void 0:A.toFixed(3))||"N/A"}`:`${w.effect_measure||"Effect"} = ${((U=w.odds_ratio)==null?void 0:U.toFixed(2))||"N/A"}`}),a.jsxs("span",{className:"text-gray-500 ml-2",children:["(95% CI: ",((Z=w.ci_lower)==null?void 0:Z.toFixed(2))||"N/A","-",((q=w.ci_upper)==null?void 0:q.toFixed(2))||"N/A",")"]})]}),a.jsxs("div",{className:"text-xs text-gray-600",children:[w.p_value!==void 0?w.p_value<.001?"p < 0.001":`p = ${w.p_value.toFixed(3)}`:"p = N/A",w.p_value!==void 0&&w.p_value<.05&&a.jsx("span",{className:"text-green-600 ml-1",children:"*"})]})]})]})},O)}),$.formula&&a.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[a.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Model Formula:"}),a.jsx("code",{className:"text-xs text-gray-600",children:$.formula})]})]})]}),((de=$.survival_data)==null?void 0:de.group_stats)&&a.jsxs("div",{className:"mt-6 pt-6 border-t border-blue-200",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Survival Statistics"}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries($.survival_data.group_stats).map(([w,O])=>a.jsxs("div",{className:"bg-white rounded p-3",children:[a.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:w}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Sample size:"}),a.jsx("span",{className:"font-medium",children:O.n})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Events:"}),a.jsx("span",{className:"font-medium",children:O.events})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Median survival:"}),a.jsx("span",{className:"font-medium",children:O.median_survival.toFixed(1)})]})]})]},w))})]})]}),M.assumption_checks&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Assumption Checks"}),a.jsx("div",{className:"space-y-2",children:Object.entries(M.assumption_checks.results).map(([w,O])=>{const A=O,U=typeof A=="object"&&"passed"in A?A.passed:Object.values(A).every(Z=>Z.passed);return a.jsxs("div",{className:"flex items-center space-x-3",children:[U?a.jsx(st,{className:"h-5 w-5 text-green-600"}):a.jsx(Xt,{className:"h-5 w-5 text-yellow-600"}),a.jsxs("span",{className:"text-sm text-gray-700",children:[w.replace("_"," "),": ",U?"Passed":"Failed"]})]},w)})})]})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Publication-Ready Figure"}),a.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"🐍 Powered by Python scientific visualization engine"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("button",{onClick:()=>T(!k),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[a.jsx(Ek,{className:"h-4 w-4"}),a.jsx("span",{children:"Edit Labels"})]}),a.jsxs("button",{onClick:()=>f(!h),className:"bg-purple-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[a.jsx(Tx,{className:"h-4 w-4"}),a.jsx("span",{children:"Code Editor"})]})]})]}),k&&a.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Customize Labels"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"X-axis Label"}),a.jsx("input",{type:"text",value:g.x,onChange:w=>m(O=>({...O,x:w.target.value})),placeholder:"e.g., Treatment Group",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Y-axis Label"}),a.jsx("input",{type:"text",value:g.y,onChange:w=>m(O=>({...O,y:w.target.value})),placeholder:"e.g., Response Score",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",value:g.title,onChange:w=>m(O=>({...O,title:w.target.value})),placeholder:"e.g., Treatment Efficacy",className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]})]})]}),e.type==="multivariate_analysis"&&$.forest_plot?a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Forest Plot"}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[a.jsx("img",{src:`data:image/png;base64,${$.forest_plot}`,alt:"Forest Plot",className:"w-full max-w-4xl mx-auto",style:{maxHeight:"600px",objectFit:"contain"}}),a.jsx("div",{className:"mt-4 flex justify-center",children:a.jsxs("a",{href:`data:image/png;base64,${$.forest_plot}`,download:`forest_plot_${e.outcomeVariable}.png`,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ax,{className:"h-4 w-4 mr-2"}),"Download Forest Plot"]})})]})]}):a.jsx(bE,{data:e.data,outcomeVariable:e.outcomeVariable,groupVariable:e.groupVariable,analysisType:e.type,timeVariable:e.timeVariable,eventVariable:e.eventVariable,customLabels:g,journalStyle:o,onFigureGenerated:B,externalFigureData:y,externalCodeParameters:N,templateInfo:e.type==="template_based"&&$.template_info?$.template_info:void 0})]}),h&&a.jsx(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsx(wE,{data:e.data,outcomeVariable:e.outcomeVariable,groupVariable:e.groupVariable,analysisType:e.type,timeVariable:e.timeVariable,eventVariable:e.eventVariable,customLabels:g,journalStyle:o,onFigureGenerated:B,isVisible:h})}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Methods Text (Copy for Paper)"}),a.jsxs("button",{onClick:()=>R(I($)),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium",children:[a.jsx(df,{className:"h-4 w-4"}),a.jsx("span",{children:"Copy"})]})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:I($)})})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Figure Legend (Copy for Paper)"}),a.jsxs("button",{onClick:()=>R(G($)),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium",children:[a.jsx(df,{className:"h-4 w-4"}),a.jsx("span",{children:"Copy"})]})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:G($)})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Figure Options"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Journal Style"}),a.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[a.jsx("option",{value:"nature",children:"Nature"}),a.jsx("option",{value:"science",children:"Science"}),a.jsx("option",{value:"cell",children:"Cell"}),a.jsx("option",{value:"nejm",children:"NEJM"})]})]})})]}),a.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Export & Share"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[a.jsx(Tk,{className:"h-4 w-4"}),a.jsx("span",{children:"Share Project"})]}),a.jsxs("button",{className:"w-full bg-gray-100 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center justify-center space-x-2",children:[a.jsx(Xn,{className:"h-4 w-4"}),a.jsx("span",{children:"Generate Report"})]})]})]}),a.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-xl border border-green-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🎉 Analysis Complete!"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[a.jsx("p",{children:"Your analysis is ready for publication. Consider:"}),a.jsxs("ul",{className:"space-y-1 ml-4",children:[a.jsx("li",{children:"• Adding this figure to your manuscript"}),a.jsx("li",{children:"• Running sensitivity analyses"}),a.jsx("li",{children:"• Exploring subgroup analyses"}),a.jsx("li",{children:"• Checking for additional covariates"})]})]})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-8",children:[a.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 font-medium",children:[a.jsx(Tr,{className:"h-4 w-4"}),a.jsx("span",{children:"Back"})]}),a.jsx("button",{onClick:n,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"New Analysis"})]})]})},_E=({analysisId:e,onComplete:t,className:n=""})=>{const[s,r]=On.useState({status:"pending",progress:0,stage:"Initializing",message:"Preparing analysis...",estimated_time_remaining:30}),[i,o]=On.useState(null);if(On.useEffect(()=>{if(!e)return;r({status:"pending",progress:10,stage:"Initializing",message:"Preparing analysis...",estimated_time_remaining:30});const c=setTimeout(()=>{r({status:"running",progress:30,stage:"Processing",message:"Running statistical calculations...",estimated_time_remaining:20});let u=30;const d=setInterval(()=>{u+=5,r(p=>({...p,progress:Math.min(u,95),estimated_time_remaining:Math.max(0,p.estimated_time_remaining-1)})),u>=95&&(clearInterval(d),setTimeout(()=>{r({status:"completed",progress:100,stage:"Completed",message:"Analysis completed successfully",estimated_time_remaining:0}),t&&t()},1e3))},1e3);return()=>{clearInterval(d)}},2e3);return()=>{clearTimeout(c)}},[e,t]),On.useEffect(()=>{s.status==="completed"&&t&&t()},[s.status,t]),!e)return null;const l=c=>c?c<60?`${c} seconds remaining`:`${Math.ceil(c/60)} minutes remaining`:"";return a.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-4 ${n}`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex-shrink-0",children:[s.status==="pending"&&a.jsx(kr,{className:"h-6 w-6 text-blue-500 animate-spin"}),s.status==="running"&&a.jsx(kr,{className:"h-6 w-6 text-blue-500 animate-spin"}),s.status==="completed"&&a.jsx(st,{className:"h-6 w-6 text-green-500"}),s.status==="failed"&&a.jsx(Qn,{className:"h-6 w-6 text-red-500"})]}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900",children:s.stage}),a.jsx("p",{className:"text-sm text-gray-500",children:s.message})]}),s.estimated_time_remaining&&a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Yn,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:l(s.estimated_time_remaining)})]})]}),a.jsx("div",{className:"mt-3 h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx(H.div,{className:`h-full rounded-full ${s.status==="failed"?"bg-red-500":s.status==="completed"?"bg-green-500":"bg-blue-500"}`,initial:{width:0},animate:{width:`${s.progress}%`},transition:{duration:.5}})}),i&&a.jsxs("div",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(Qn,{className:"h-4 w-4 mr-1"}),i]})]})},ky=(e,t="statistical_analysis")=>{const[n,s]=E.useState({remaining:0,limit:0,unlimited:!1}),[r,i]=E.useState(!1),[o,l]=E.useState(null),c=async()=>{i(!0),l(null);try{if(t==="statistical_analysis"){const d=await ue.statistical.getUsage();s(d)}else if(t==="figure_analysis"){const d=await ue.figureAnalysis.getUsage();s(d)}else s({remaining:0,limit:1,unlimited:!1})}catch(d){l(d instanceof Error?d.message:"Failed to fetch usage limits"),s({remaining:0,limit:1,unlimited:!1})}finally{i(!1)}};E.useEffect(()=>{c()},[e==null?void 0:e.id,t]);const u=n.remaining<=0;return{usage:n,loading:r,error:o,refreshUsage:c,hasReachedLimit:u}},kE=({onNavigate:e,user:t,onLogin:n,project:s})=>{const[r,i]=E.useState("upload"),[o,l]=E.useState(null),[c,u]=E.useState(null),[d,p]=E.useState(""),[h,f]=E.useState(""),[y,b]=E.useState(""),[N,v]=E.useState(""),[g,m]=E.useState([]),[k,T]=E.useState(null),[P,_]=E.useState(!1),[x,j]=E.useState(null),[S,C]=E.useState(!!s),{usage:D,hasReachedLimit:M,refreshUsage:L}=ky(t,"statistical_analysis"),W=!t;E.useEffect(()=>{s&&t?K():s||C(!1)},[s,t]);const K=async()=>{if(!(!s||!t)){C(!0);try{console.log("Loading project data for project:",s.id);const w=await ue.analyses.list(1,1,s.id);if(console.log("Analyses response:",w),w.analyses.length>0){const O=w.analyses[0];if(console.log("Found latest analysis:",O),O.results&&Object.keys(O.results).length>0){if(console.log("Analysis has results, navigating to results view"),T({...O.parameters,type:O.analysis_type,dataset_id:O.dataset_id}),O.dataset_id&&!O.dataset_id.startsWith("client_"))try{const A=await ue.files.getDataset(O.dataset_id);u(A)}catch(A){console.warn("Could not load dataset:",A)}i("results")}else console.log("Analysis exists but no results, continuing from analysis step"),T(O.parameters),i("analysis")}else console.log("No analyses found for this project, starting from upload")}catch(w){console.error("Failed to load project data:",w),console.log("Staying on upload step due to error")}finally{C(!1)}}},X=[{id:"upload",title:"Upload Data",icon:Cs},{id:"preview",title:"Preview & Configure",icon:Xn},{id:"analysis",title:"Choose Analysis",icon:Wn},{id:"results",title:"Results & Figures",icon:it}],F=()=>{const w=["upload","preview","analysis","results"],O=w.indexOf(r);O<w.length-1&&i(w[O+1])},I=()=>{const w=["upload","preview","analysis","results"],O=w.indexOf(r);O>0&&i(w[O-1])},G=(w,O)=>{if(M)return;l(w),u(O||null);const A=["outcome","score","result","response","efficacy","effect"],U=["treatment","group","condition","arm","therapy"],Z=["time","duration","survival","follow","days","months","years"],q=["event","death","status","censor","died","dead"],ne=w.columns.find(Y=>A.some(me=>Y.toLowerCase().includes(me))),oe=w.columns.find(Y=>U.some(me=>Y.toLowerCase().includes(me))),Q=w.columns.find(Y=>Z.some(me=>Y.toLowerCase().includes(me))),re=w.columns.find(Y=>q.some(me=>Y.toLowerCase().includes(me)));ne&&p(ne),oe&&f(oe),Q&&b(Q),re&&v(re),F()},R=(w,O,A,U,Z)=>{p(w),f(O),b(A||""),v(U||""),m(Z||[]),F()},B=async w=>{if(M){ae();return}try{if(c&&t){const O={...w,dataset_id:c.id};T(O),_(!0),O.dataset_id&&j("analysis-123")}else T(w);L(),F()}catch(O){console.error("Error preparing analysis:",O),T(w),L(),F()}},$=async w=>{if(console.log("saveAnalysisResults called with:",{user:!!t,project:!!s,results:!!w}),!t||!s){console.log("Cannot save analysis - missing user or project");return}try{let O=c==null?void 0:c.id;if(!O&&o&&(O=crypto.randomUUID()),!O){console.log("Cannot save analysis - no dataset available");return}const A={name:`${(k==null?void 0:k.type)||"Analysis"} - ${new Date().toLocaleDateString()}`,description:`Analysis results for ${s.name}`,dataset_id:O,analysis_type:(k==null?void 0:k.type)||"statistical_test",parameters:{...k,data_info:o?{filename:o.filename,rows:o.rows,columns:o.columns}:null,project_info:{project_id:s.id,project_name:s.name},is_client_data:!c},is_public:!1};console.log("Saving analysis with data:",A);const U=await ue.analyses.create(A);console.log("Analysis created successfully:",U),U.id&&(console.log("Updating analysis with results..."),await ue.analyses.update(U.id,{results:w,figures:{}}),console.log("Analysis results updated successfully")),console.log("Analysis saved successfully:",U.id);const Z=`Analysis saved successfully! You can find it in project "${s.name}".`;console.log(Z)}catch(O){console.error("Failed to save analysis results:",O),O instanceof Error&&console.error("Error details:",{message:O.message,stack:O.stack}),alert(`Failed to save analysis results: ${O instanceof Error?O.message:"Unknown error"}. Results are still available in this session.`)}},ae=()=>{n&&n("signup")};if(S)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Loading Project"}),a.jsx("p",{className:"text-gray-600",children:s?`Loading "${s.name}"...`:"Preparing analysis workspace..."})]})})});const de=()=>{switch(r){case"upload":return a.jsx(iE,{onFileUploaded:G,disabled:M,user:t,onLogin:n});case"preview":return o?a.jsx(oE,{data:o,onNext:R,onBack:I}):null;case"analysis":return o?a.jsx(uE,{data:o,outcomeVariable:d,groupVariable:h,timeVariable:y,eventVariable:N,predictorVariables:g,onAnalysisSelected:B,onBack:I}):null;case"results":return k?a.jsx(jE,{analysisConfig:k,onBack:I,onNewAnalysis:()=>{i("upload"),l(null),u(null),T(null),p(""),f(""),b(""),v("")},dataset:c||void 0,onSaveResults:$,project:s}):null;default:return null}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>e("landing"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[a.jsx(Tr,{className:"h-4 w-4"}),a.jsx("span",{children:"Back"})]}),a.jsx("div",{className:"h-6 w-px bg-gray-300"}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Statistical Analysis"}),W&&a.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:"Free Trial"})]}),W&&a.jsxs("button",{onClick:ae,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsx("span",{children:"Upgrade for Unlimited"})]})]})})}),W&&a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:a.jsx("div",{className:`p-4 rounded-lg border ${M?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[M?a.jsx(Xt,{className:"h-5 w-5 text-red-600"}):a.jsx(Ar,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${M?"text-red-900":"text-blue-900"}`,children:M?"Free analysis limit reached":`Free Trial: ${D.limit-D.remaining}/${D.limit} analyses used`}),a.jsx("p",{className:`text-sm ${M?"text-red-700":"text-blue-700"}`,children:M?"Sign up for unlimited statistical analysis and advanced features":"Sign up for unlimited analyses and publication-ready outputs"})]})]}),a.jsx("button",{onClick:ae,className:`px-4 py-2 rounded-lg font-medium transition-colors ${M?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:M?"Sign Up Now":"Upgrade"})]})})})}),a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsx("div",{className:"flex items-center justify-between",children:X.map((w,O)=>{const A=w.id===r,U=X.findIndex(q=>q.id===r)>O,Z=w.icon;return a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:`flex items-center space-x-3 ${A?"text-blue-600":U?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${A?"border-blue-600 bg-blue-50":U?"border-green-600 bg-green-50":"border-gray-300 bg-gray-50"}`,children:U?a.jsx(st,{className:"h-5 w-5"}):a.jsx(Z,{className:"h-5 w-5"})}),a.jsx("span",{className:"font-medium hidden sm:block",children:w.title})]}),O<X.length-1&&a.jsx("div",{className:`w-16 h-px mx-4 ${U?"bg-green-600":"bg-gray-300"}`})]},w.id)})})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[P&&x&&a.jsx("div",{className:"mb-6",children:a.jsx(_E,{analysisId:x,onComplete:()=>_(!1)})}),a.jsx(qi,{mode:"wait",children:a.jsx(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:de()},r)})]})]})};class Vs extends Error{constructor(t,n,s){super(t),this.code=n,this.details=s,this.name="ImageAnalysisError"}}const NE=e=>e instanceof Vs?e:e instanceof Error?e.message.includes("timeout")?new Vs("Analysis timed out","TIMEOUT"):e.message.includes("format")?new Vs("Unsupported file format","UNSUPPORTED_FORMAT"):e.message.includes("corrupt")?new Vs("File appears to be corrupted","CORRUPT_FILE"):new Vs(e.message,"API_ERROR"):new Vs("Unknown analysis error","API_ERROR"),SE=({isOpen:e,onClose:t,onAnalysisComplete:n})=>{const[s,r]=E.useState(null),[i,o]=E.useState(null),[l,c]=E.useState(!1),[u,d]=E.useState(null),[p,h]=E.useState(null),f=E.useCallback(async P=>{var j,S,C,D,M;const _=P[0];if(!_)return;if(d(null),h(_),!_.type.startsWith("image/")){d("Please upload a valid image file");return}if(_.size>50*1024*1024){d("File size too large. Please upload an image smaller than 50MB");return}const x=new FileReader;x.onload=()=>{r(x.result)},x.readAsDataURL(_),c(!0);try{const L=await ue.figureAnalysis.analyze(_),W={overall_score:((j=L.results)==null?void 0:j.quality_score)||.85,publication_ready:(((S=L.results)==null?void 0:S.quality_score)||.85)>=.8,criteria:{resolution:{status:"pass",dpi:300,recommended_dpi:300,message:"Resolution meets publication standards"},aspect_ratio:{status:"pass",ratio:"1.6:1",suitability:"Excellent for publication",message:"Aspect ratio is suitable for most journals"},composition:{status:"pass",score:((C=L.results)==null?void 0:C.quality_score)||.85,issues:[],recommendations:((D=L.results)==null?void 0:D.suggestions)||[]},lighting:{status:"pass",brightness:.8,contrast:.9,exposure_quality:"Good",message:"Lighting conditions are appropriate"},color_balance:{status:"pass",saturation:.75,white_balance:"Correct",color_accuracy:"Good",message:"Color balance is appropriate for scientific publication"},focus_clarity:{status:"pass",sharpness_score:.9,blur_detected:!1,focus_areas:["Main subject"],message:"Image is sharp and well-focused"},background:{status:"pass",type:"Clean",appropriateness:"Excellent",distractions:[],message:"Background is clean and non-distracting"},text_legibility:{status:"pass",text_detected:!0,font_size_adequate:!0,contrast_ratio:4.5,readability_issues:[],message:"Text is legible and meets accessibility standards"},copyright:{status:"pass",watermarks_detected:!1,copyright_indicators:[],compliance_risk:"low",message:"No copyright issues detected"},file_format:{status:"pass",format:"PNG",compatibility:"Excellent",recommended_formats:["PNG","PDF","SVG"],message:"File format is suitable for publication"}},recommendations:(((M=L.results)==null?void 0:M.suggestions)||[]).map(K=>({priority:"medium",category:"Quality",issue:K,solution:K,impact:"Improves publication readiness"})),alternatives:[{suggestion:"Use vector format for scalability",reason:"Better quality at different sizes",feasibility:"moderate"}],metadata:{file_size:_.size,dimensions:{width:800,height:600},format:_.type.split("/")[1].toUpperCase(),color_space:"RGB",analysis_timestamp:new Date().toISOString()}};o(W),n&&n()}catch(L){if(L instanceof Error&&L.message.includes("429"))d("Usage limit exceeded. Please sign up for unlimited figure analysis.");else{const W=NE(L);d(W.message)}}finally{c(!1)}},[]),{getRootProps:y,getInputProps:b,isDragActive:N}=el({onDrop:f,accept:{"image/*":[".png",".jpg",".jpeg",".svg",".tiff",".bmp",".webp"]},multiple:!1,disabled:l}),v=()=>{r(null),o(null),h(null),d(null),c(!1)},g=P=>{switch(P){case"pass":return a.jsx(st,{className:"h-5 w-5 text-green-600"});case"warning":return a.jsx(Xt,{className:"h-5 w-5 text-yellow-600"});case"fail":return a.jsx(mf,{className:"h-5 w-5 text-red-600"})}},m=P=>{switch(P){case"pass":return"text-green-700 bg-green-50 border-green-200";case"warning":return"text-yellow-700 bg-yellow-50 border-yellow-200";case"fail":return"text-red-700 bg-red-50 border-red-200"}},k=P=>{switch(P){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800"}},T=()=>{if(!i||!p)return;const P={filename:p.name,analysis_date:new Date().toISOString(),overall_score:i.overall_score,publication_ready:i.publication_ready,criteria:i.criteria,recommendations:i.recommendations,alternatives:i.alternatives},_=new Blob([JSON.stringify(P,null,2)],{type:"application/json"}),x=URL.createObjectURL(_),j=document.createElement("a");j.href=x,j.download=`image_analysis_${p.name.split(".")[0]}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(x)};return e?a.jsx(qi,{children:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(H.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Rx,{className:"h-8 w-8 text-blue-600"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"AI Image Analysis"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Wo,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:s?a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Image"}),i&&a.jsxs("button",{onClick:T,className:"bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx(Ax,{className:"h-4 w-4"}),a.jsx("span",{children:"Report"})]})]}),a.jsx("div",{className:"bg-gray-100 rounded-lg p-4 mb-4",children:a.jsx("img",{src:s,alt:"Uploaded image",className:"w-full h-auto rounded max-h-64 object-contain"})}),p&&a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"File:"})," ",p.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Size:"})," ",(p.size/1024/1024).toFixed(2)," MB"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Type:"})," ",p.type]})]}),a.jsx("button",{onClick:v,className:"w-full mt-4 bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:"Analyze Different Image"})]})}),a.jsx("div",{className:"lg:col-span-2 space-y-6",children:l?a.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[a.jsx(kr,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Analyzing Your Image..."}),a.jsx("p",{className:"text-gray-600",children:"Our AI is examining your image for publication readiness, quality, and compliance."}),a.jsxs("div",{className:"mt-4 flex items-center justify-center space-x-4 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center space-x-1",children:[a.jsx(Yn,{className:"h-4 w-4"}),a.jsx("span",{children:"Checking resolution & format"})]}),a.jsxs("span",{className:"flex items-center space-x-1",children:[a.jsx(Ud,{className:"h-4 w-4"}),a.jsx("span",{children:"Analyzing visual quality"})]}),a.jsxs("span",{className:"flex items-center space-x-1",children:[a.jsx(it,{className:"h-4 w-4"}),a.jsx("span",{children:"Generating recommendations"})]})]})]}):i?a.jsxs(a.Fragment,{children:[a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Overall Assessment"}),a.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`text-4xl font-bold mb-2 ${i.overall_score>=80?"text-green-600":i.overall_score>=60?"text-yellow-600":"text-red-600"}`,children:i.overall_score}),a.jsx("div",{className:"text-sm text-gray-600",children:"Publication Score"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${i.publication_ready?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:i.publication_ready?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2"}),"Publication Ready"]}):a.jsxs(a.Fragment,{children:[a.jsx(mf,{className:"h-4 w-4 mr-2"}),"Needs Improvement"]})}),a.jsx("p",{className:"text-gray-600 mt-2",children:i.publication_ready?"Your image meets publication standards with minor or no issues.":"Several improvements needed before publication submission."})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(i.criteria).map(([P,_])=>a.jsxs("div",{className:`p-3 rounded-lg border ${m(_.status)}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium capitalize",children:P.replace("_"," ")}),g(_.status)]}),a.jsx("p",{className:"text-xs mt-1 opacity-90",children:_.message})]},P))})]}),i.recommendations.length>0&&a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Improvement Recommendations"}),a.jsx("div",{className:"space-y-4",children:i.recommendations.map((P,_)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${k(P.priority)}`,children:P.priority.toUpperCase()})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:P.category}),a.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[a.jsx("strong",{children:"Issue:"})," ",P.issue]}),a.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[a.jsx("strong",{children:"Solution:"})," ",P.solution]}),a.jsxs("p",{className:"text-sm text-blue-600",children:[a.jsx("strong",{children:"Impact:"})," ",P.impact]})]})]})},_))})]}),i.alternatives.length>0&&a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Alternative Approaches"}),a.jsx("div",{className:"space-y-3",children:i.alternatives.map((P,_)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:P.suggestion}),a.jsx("p",{className:"text-sm text-gray-600",children:P.reason})]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${P.feasibility==="easy"?"bg-green-100 text-green-800":P.feasibility==="moderate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:P.feasibility})]},_))})]})]}):u&&a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-red-200 p-8 text-center",children:[a.jsx(Xt,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Analysis Failed"}),a.jsx("p",{className:"text-red-600 mb-4",children:u}),a.jsx("button",{onClick:v,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Try Again"})]})})]}):a.jsxs("div",{className:"text-center",children:[a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`border-2 border-dashed rounded-2xl p-12 transition-colors ${N?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-blue-400"}`,...y(),children:[a.jsx("input",{...b()}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"mx-auto w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center",children:a.jsx(Cs,{className:`h-12 w-12 ${N?"text-blue-600 animate-bounce":"text-blue-500"}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:N?"Drop your image here":"Upload Scientific Image"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"or click to browse"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Supports PNG, JPG, SVG, TIFF and other image formats up to 50MB"})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Choose Image"})]})]}),u&&a.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-3",children:[a.jsx(Qn,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"text-red-700",children:u})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-12",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(Zt,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Publication Standards"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Checks against journal requirements and scientific visualization guidelines"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(Ar,{className:"h-8 w-8 text-green-600 mx-auto mb-3"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Instant Analysis"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Get comprehensive feedback in seconds with AI-powered analysis"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(Dx,{className:"h-8 w-8 text-yellow-600 mx-auto mb-3"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Actionable Feedback"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Specific, prioritized recommendations for improving your image"})]})]})]})})]})})}):null},EE=({onNavigate:e,user:t,onLogin:n,project:s})=>{const[r,i]=E.useState(null),[o,l]=E.useState(null),[c,u]=E.useState(!1),[d,p]=E.useState(!1),{usage:h,hasReachedLimit:f,refreshUsage:y}=ky(t,"figure_analysis"),b=!t,N=E.useCallback(P=>{if(f)return;P[0]&&p(!0)},[f]),{getRootProps:v,getInputProps:g,isDragActive:m}=el({onDrop:N,accept:{"image/*":[".png",".jpg",".jpeg",".svg",".pdf",".tiff",".bmp",".webp"]},multiple:!1,disabled:f}),k=()=>{n&&n("signup")},T=()=>{if(f){k();return}p(!0)};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>e("landing"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[a.jsx(Tr,{className:"h-4 w-4"}),a.jsx("span",{children:"Back"})]}),a.jsx("div",{className:"h-6 w-px bg-gray-300"}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"AI Figure Analyzer"}),b&&a.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:"Free Trial"})]}),b&&a.jsxs("button",{onClick:k,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsx("span",{children:"Upgrade for Unlimited"})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b&&a.jsx(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`mb-6 p-4 rounded-lg border ${f?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[f?a.jsx(Xt,{className:"h-5 w-5 text-red-600"}):a.jsx(Ar,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${f?"text-red-900":"text-blue-900"}`,children:f?"Free analysis limit reached":`Free Trial: ${h.limit-h.remaining}/${h.limit} analyses used`}),a.jsx("p",{className:`text-sm ${f?"text-red-700":"text-blue-700"}`,children:f?"Sign up for unlimited figure analysis and advanced features":"Sign up for unlimited analyses and advanced statistical tools"})]})]}),a.jsx("button",{onClick:k,className:`px-4 py-2 rounded-lg font-medium transition-colors ${f?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:f?"Sign Up Now":"Upgrade"})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"AI-Powered Figure Analysis"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Upload your scientific figure to get instant AI-powered feedback on publication readiness, accessibility, and design improvements"}),b&&!f&&a.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["✨ Try ",h.remaining," more ",h.remaining===1?"analysis":"analyses"," free!"]})]})}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-2xl shadow-lg border-2 border-dashed p-12 text-center transition-colors mb-8 ${f?"border-gray-300 bg-gray-50 cursor-not-allowed":m?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-blue-400"}`,...f?{}:v(),children:[!f&&a.jsx("input",{...g()}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:`mx-auto w-24 h-24 rounded-full flex items-center justify-center ${f?"bg-gray-100":"bg-blue-50"}`,children:f?a.jsx(Xt,{className:"h-12 w-12 text-gray-400"}):a.jsx(Cs,{className:`h-12 w-12 ${m?"text-blue-600 animate-bounce":"text-blue-500"}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:f?"Free trial limit reached":m?"Drop your figure here":"Upload your scientific figure"}),!f&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:"or click to browse"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Supports PNG, JPG, SVG, PDF, TIFF and other formats up to 50MB"})]}),f&&a.jsx("p",{className:"text-gray-600 mb-4",children:"Sign up to continue analyzing figures and unlock advanced features"})]}),!f&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Choose Figure"}),a.jsxs("button",{onClick:T,className:"bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[a.jsx(au,{className:"h-5 w-5"}),a.jsx("span",{children:"Quick Demo"})]})]}),f&&a.jsx("button",{onClick:k,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Sign Up for Unlimited Access"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 text-center",children:[a.jsx(Wn,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"AI-Powered Analysis"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Advanced computer vision analyzes your figure for scientific best practices"})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 text-center",children:[a.jsx(Zt,{className:"h-8 w-8 text-green-600 mx-auto mb-3"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Publication Standards"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Checks against journal requirements and scientific visualization guidelines"})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 text-center",children:[a.jsx(Dx,{className:"h-8 w-8 text-yellow-600 mx-auto mb-3"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Actionable Feedback"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Specific, prioritized recommendations for improving your figure"})]})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"What We Analyze"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{icon:it,title:"Resolution & DPI",desc:"Minimum 300 DPI for print"},{icon:Rx,title:"Composition",desc:"Visual balance and clarity"},{icon:Nk,title:"Color Balance",desc:"Saturation and accessibility"},{icon:Ok,title:"Text Legibility",desc:"Font size and contrast"},{icon:st,title:"Format Compatibility",desc:"Publication-ready formats"},{icon:Zt,title:"Copyright Compliance",desc:"Watermark detection"}].map((P,_)=>a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx(P.icon,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:P.title}),a.jsx("p",{className:"text-xs text-gray-600",children:P.desc})]})]},_))})]}),b&&a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(_r,{className:"h-6 w-6 text-blue-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Unlock Full Analysis Power"})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Get unlimited figure analysis, advanced statistical tools, and publication-ready outputs."}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:k,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Start Free Trial"}),a.jsx("button",{onClick:()=>e("pricing"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"View Pricing →"})]})]})]})]}),a.jsx(SE,{isOpen:d,onClose:()=>p(!1),onAnalysisComplete:y})]})},PE=({onNavigate:e,onSelectPlan:t})=>{const[n,s]=E.useState("monthly"),r=[{id:"free",name:"Free",icon:Ar,price:{monthly:0,annual:0},description:"Perfect for getting started with basic statistical analysis",features:["5 analyses per month","Basic statistical tests (t-test, ANOVA)","Standard figure templates","PNG/JPG export","Email support","Basic data upload (CSV)","Community forum access"],limitations:["No advanced tests","No custom styling","No collaboration features","No priority support"],cta:"Get Started Free",popular:!1,color:"gray"},{id:"pro",name:"Professional",icon:_r,price:{monthly:29,annual:290},description:"For researchers who need advanced features and unlimited analyses",features:["Unlimited analyses","All statistical tests (survival, regression, etc.)","Advanced figure customization","All export formats (PNG, SVG, PDF, EPS)","Priority email support","Multiple data formats (Excel, SPSS, R)","Collaboration tools","Version history","Custom journal templates","Methods text generation","Statistical assumption checking","Effect size calculations"],limitations:[],cta:"Start Pro Trial",popular:!0,color:"blue"},{id:"enterprise",name:"Enterprise",icon:bk,price:{monthly:99,annual:990},description:"For institutions and teams requiring advanced security and support",features:["Everything in Professional","Team management (up to 50 users)","HIPAA compliance","SSO integration","Advanced security controls","Dedicated account manager","24/7 phone support","Custom integrations","API access","Advanced analytics dashboard","Custom training sessions","Priority feature requests","On-premise deployment option"],limitations:[],cta:"Contact Sales",popular:!1,color:"purple"}],i=[{question:"Can I change plans at any time?",answer:"Yes, you can upgrade or downgrade your plan at any time. Changes take effect immediately, and we'll prorate any billing differences."},{question:"Is my data secure?",answer:"Absolutely. We use enterprise-grade encryption and security measures. Your data is processed locally in your browser when possible, and we're HIPAA compliant for medical research."},{question:"Do you offer academic discounts?",answer:"Yes! We offer 50% discounts for students and academic researchers. Contact us with your .edu email for verification."},{question:"What file formats do you support?",answer:"We support CSV, Excel (.xlsx, .xls), SPSS (.sav), R data files (.rds), and more. Pro and Enterprise plans include additional format support."},{question:"Can I export my figures for publication?",answer:"Yes! All plans include high-resolution exports. Pro and Enterprise plans offer additional formats like SVG, PDF, and EPS for publication-ready figures."},{question:"Is there a free trial?",answer:"Yes! Professional plan includes a 14-day free trial with full access to all features. No credit card required to start."}],o=(c,u)=>({gray:{bg:"bg-gray-50",text:"text-gray-600",border:"border-gray-200",button:"bg-gray-600 hover:bg-gray-700"},blue:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-200",button:"bg-blue-600 hover:bg-blue-700"},purple:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-200",button:"bg-purple-600 hover:bg-purple-700"}})[c][u],l=c=>{t?t(c):console.log(`Selected plan: ${c}`)};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("button",{onClick:()=>e("landing"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[a.jsx(Tr,{className:"h-4 w-4"}),a.jsx("span",{children:"Back"})]}),a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Pricing"}),a.jsx("div",{className:"w-16"})," "]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("div",{className:"text-center mb-16",children:a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Choose Your Research Plan"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"From basic statistical analysis to enterprise-grade research platforms, we have the perfect plan for your needs."}),a.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[a.jsx("span",{className:`text-sm font-medium ${n==="monthly"?"text-gray-900":"text-gray-500"}`,children:"Monthly"}),a.jsx("button",{onClick:()=>s(n==="monthly"?"annual":"monthly"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n==="annual"?"bg-blue-600":"bg-gray-200"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n==="annual"?"translate-x-6":"translate-x-1"}`})}),a.jsx("span",{className:`text-sm font-medium ${n==="annual"?"text-gray-900":"text-gray-500"}`,children:"Annual"}),n==="annual"&&a.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:"Save 17%"})]})]})}),a.jsx("div",{className:"grid lg:grid-cols-3 gap-8 mb-16",children:r.map((c,u)=>{const d=c.icon,p=c.price[n],h=n==="annual"?c.price.monthly*12:null;return a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:u*.1},className:`relative bg-white rounded-2xl shadow-lg border-2 p-8 ${c.popular?"border-blue-500":"border-gray-200"} ${c.popular?"scale-105":""}`,children:[c.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:a.jsxs("span",{className:"bg-blue-600 text-white px-4 py-2 rounded-full text-sm font-medium flex items-center space-x-1",children:[a.jsx(fo,{className:"h-4 w-4"}),a.jsx("span",{children:"Most Popular"})]})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:`w-16 h-16 ${o(c.color,"bg")} rounded-full flex items-center justify-center mx-auto mb-4`,children:a.jsx(d,{className:`h-8 w-8 ${o(c.color,"text")}`})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:c.name}),a.jsx("p",{className:"text-gray-600 mb-4",children:c.description}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-baseline justify-center",children:[a.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",p]}),p>0&&a.jsxs("span",{className:"text-gray-500 ml-1",children:["/",n==="monthly"?"month":"year"]})]}),n==="annual"&&h&&a.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[a.jsxs("span",{className:"line-through",children:["$",h,"/year"]}),a.jsxs("span",{className:"text-green-600 ml-2",children:["Save $",h-p]})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"What's included:"}),a.jsx("ul",{className:"space-y-3",children:c.features.map((f,y)=>a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx(wk,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 text-sm",children:f})]},y))}),c.limitations.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h5",{className:"font-medium text-gray-700 mb-3",children:"Not included:"}),a.jsx("ul",{className:"space-y-2",children:c.limitations.map((f,y)=>a.jsxs("li",{className:"flex items-start space-x-3",children:[a.jsx(Wo,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-gray-500 text-sm",children:f})]},y))})]})]}),a.jsx("button",{onClick:()=>l(c.id),className:`w-full py-3 px-6 rounded-lg font-semibold text-white transition-colors ${o(c.color,"button")}`,children:c.cta}),c.id==="pro"&&a.jsx("p",{className:"text-center text-sm text-gray-500 mt-3",children:"14-day free trial • No credit card required"})]},c.id)})}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-white rounded-2xl shadow-lg p-8 mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Compare All Features"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-900",children:"Features"}),a.jsx("th",{className:"text-center py-4 px-6 font-semibold text-gray-900",children:"Free"}),a.jsx("th",{className:"text-center py-4 px-6 font-semibold text-gray-900",children:"Professional"}),a.jsx("th",{className:"text-center py-4 px-6 font-semibold text-gray-900",children:"Enterprise"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:[{feature:"Monthly Analyses",free:"5",pro:"Unlimited",enterprise:"Unlimited"},{feature:"Statistical Tests",free:"Basic",pro:"All Tests",enterprise:"All Tests"},{feature:"Export Formats",free:"PNG/JPG",pro:"All Formats",enterprise:"All Formats"},{feature:"Collaboration",free:"✗",pro:"✓",enterprise:"✓"},{feature:"Priority Support",free:"✗",pro:"✓",enterprise:"✓"},{feature:"Team Management",free:"✗",pro:"✗",enterprise:"✓"},{feature:"HIPAA Compliance",free:"✗",pro:"✗",enterprise:"✓"},{feature:"API Access",free:"✗",pro:"✗",enterprise:"✓"}].map((c,u)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-4 px-6 font-medium text-gray-900",children:c.feature}),a.jsx("td",{className:"py-4 px-6 text-center text-gray-700",children:c.free}),a.jsx("td",{className:"py-4 px-6 text-center text-gray-700",children:c.pro}),a.jsx("td",{className:"py-4 px-6 text-center text-gray-700",children:c.enterprise})]},u))})]})})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Frequently Asked Questions"}),a.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:i.map((c,u)=>a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:c.question}),a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:c.answer})]},u))})]}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-8 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Trusted by Researchers Worldwide"}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(mo,{className:"h-8 w-8 text-blue-600 mb-2"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"10,000+"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Active Researchers"})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(it,{className:"h-8 w-8 text-green-600 mb-2"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"500,000+"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Analyses Completed"})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Xn,{className:"h-8 w-8 text-purple-600 mb-2"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"25,000+"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Papers Published"})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(jk,{className:"h-8 w-8 text-orange-600 mb-2"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"150+"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Countries"})]})]})]})]})]})},CE=({isOpen:e,onClose:t,initialMode:n="signin"})=>{const[s,r]=E.useState(n),[i,o]=E.useState(!1),[l,c]=E.useState({email:"",password:"",name:"",confirmPassword:""}),[u,d]=E.useState(null),[p,h]=E.useState(null),{signIn:f,signUp:y,signInWithGoogle:b,resetPassword:N,loading:v,error:g}=Zo(),m=async _=>{_.preventDefault(),d(null),h(null);try{if(s==="signin")await f(l.email,l.password),t();else if(s==="signup"){if(l.password!==l.confirmPassword){d("Passwords do not match");return}if(l.password.length<6){d("Password must be at least 6 characters");return}await y(l.email,l.password,l.name),h("Check your email to confirm your account")}else s==="forgot"&&(await N(l.email),h("Password reset email sent"))}catch(x){d(x instanceof Error?x.message:"An error occurred")}},k=async()=>{try{await b(),t()}catch(_){d(_ instanceof Error?_.message:"Google sign in failed")}},T=()=>{c({email:"",password:"",name:"",confirmPassword:""}),d(null),h(null)},P=_=>{r(_),T()};return e?a.jsx(qi,{children:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(H.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[s==="signin"&&"Welcome Back",s==="signup"&&"Create Account",s==="forgot"&&"Reset Password"]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Wo,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6",children:[(u||g)&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(Qn,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:"text-red-700 text-sm",children:u||g})]}),p&&a.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center space-x-2",children:[a.jsx(st,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-green-700 text-sm",children:p})]}),s!=="forgot"&&a.jsxs("button",{onClick:k,disabled:v,className:"w-full mb-4 bg-white border border-gray-300 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors flex items-center justify-center space-x-2 disabled:opacity-50",children:[a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),a.jsx("span",{children:"Continue with Google"})]}),s!=="forgot"&&a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s==="signup"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Dk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",value:l.name,onChange:_=>c(x=>({...x,name:_.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(kk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"email",value:l.email,onChange:_=>c(x=>({...x,email:_.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),s!=="forgot"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(pf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:i?"text":"password",value:l.password,onChange:_=>c(x=>({...x,password:_.target.value})),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?a.jsx(Ox,{className:"h-5 w-5"}):a.jsx(Ud,{className:"h-5 w-5"})})]})]}),s==="signup"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(pf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:i?"text":"password",value:l.confirmPassword,onChange:_=>c(x=>({...x,confirmPassword:_.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password",required:!0})]})]}),a.jsxs("button",{type:"submit",disabled:v,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[v&&a.jsx(kr,{className:"h-5 w-5 animate-spin"}),a.jsxs("span",{children:[s==="signin"&&"Sign In",s==="signup"&&"Create Account",s==="forgot"&&"Send Reset Email"]})]})]}),a.jsxs("div",{className:"mt-6 text-center space-y-2",children:[s==="signin"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>P("forgot"),className:"text-blue-600 hover:text-blue-700 text-sm",children:"Forgot your password?"}),a.jsxs("div",{className:"text-gray-600 text-sm",children:["Don't have an account?"," ",a.jsx("button",{onClick:()=>P("signup"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign up"})]})]}),s==="signup"&&a.jsxs("div",{className:"text-gray-600 text-sm",children:["Already have an account?"," ",a.jsx("button",{onClick:()=>P("signin"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in"})]}),s==="forgot"&&a.jsx("button",{onClick:()=>P("signin"),className:"text-blue-600 hover:text-blue-700 text-sm",children:"Back to sign in"})]})]})]})})}):null},TE=({onNavigate:e})=>{const[t,n]=E.useState("overview"),[s,r]=E.useState(!1),[i,o]=E.useState(null),[l,c]=E.useState(null),[u,d]=E.useState([]),[p,h]=E.useState([]),[f,y]=E.useState(null),[b,N]=E.useState(!1),[v,g]=E.useState(null),[m,k]=E.useState(!1),[T,P]=E.useState({email:"",password:"",full_name:"",organization:"",role:"user"}),{user:_,getAccessToken:x}=Zo();E.useEffect(()=>{_&&_.role==="admin"&&j()},[_]);const j=async()=>{if(!_||_.role!=="admin"){o("Access denied. Admin privileges required.");return}r(!0),o(null);try{const[R,B,$]=await Promise.all([ue.admin.getStats(),ue.admin.getUsers(),ue.admin.getUsersUsage()]);c(R),d(B),h($)}catch(R){o("Failed to load dashboard data. Please try again."),console.error("Dashboard load error:",R)}finally{r(!1)}},S=async(R,B)=>{try{await ue.admin.updateUserRole(R,B),await j()}catch{o("Failed to update user role")}},C=async(R,B)=>{try{await ue.admin.resetUserUsage(R,B),await j()}catch{o("Failed to reset user usage")}},D=async()=>{if(!T.email||!T.password){o("Email and password are required");return}try{await ue.admin.createUser(T),k(!1),P({email:"",password:"",full_name:"",organization:"",role:"user"}),N(!1),await j()}catch{o("Failed to create user")}},M=async R=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{await ue.admin.deleteUser(R),await j()}catch{o("Failed to delete user")}};if(!_)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsx(Bd,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Authentication Required"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please sign in to access the admin panel."}),a.jsx("button",{onClick:()=>e("landing"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Home"})]})});if(_.role!=="admin")return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsx(Xt,{className:"h-16 w-16 text-orange-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You need admin privileges to access this page."}),a.jsx("button",{onClick:()=>e("dashboard"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})});const L=[{id:"overview",name:"Overview",icon:it},{id:"users",name:"Users",icon:mo},{id:"usage",name:"Usage Management",icon:Oi},{id:"analytics",name:"Analytics",icon:qd},{id:"system",name:"System",icon:Vd}],W=R=>{const B={admin:"bg-red-100 text-red-800",researcher:"bg-purple-100 text-purple-800",analyst:"bg-blue-100 text-blue-800",user:"bg-gray-100 text-gray-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B[R]||B.user}`,children:R})},K=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(l==null?void 0:l.total_users)||0})]}),a.jsx(mo,{className:"h-8 w-8 text-blue-600"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Today"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(l==null?void 0:l.active_users_today)||0})]}),a.jsx(Oi,{className:"h-8 w-8 text-green-600"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Analyses"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(l==null?void 0:l.total_analyses)||0})]}),a.jsx(it,{className:"h-8 w-8 text-purple-600"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Health"}),a.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(l==null?void 0:l.system_health)||99,"%"]})]}),a.jsx(st,{className:"h-8 w-8 text-green-600"})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Status"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(st,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Database connectivity: Healthy"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(st,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"API endpoints: Operational"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(st,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"text-gray-700",children:"Authentication service: Active"})]})]})]})]}),X=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Management"}),a.jsxs("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx(Rk,{className:"h-4 w-4"}),a.jsx("span",{children:"Create User"})]})]}),m&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New User"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"email",placeholder:"Email",value:T.email,onChange:R=>P({...T,email:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:b?"text":"password",placeholder:"Password",value:T.password,onChange:R=>P({...T,password:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10"}),a.jsx("button",{type:"button",onClick:()=>N(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:b?a.jsx(Ox,{className:"h-4 w-4"}):a.jsx(Ud,{className:"h-4 w-4"})})]}),a.jsx("input",{type:"text",placeholder:"Full Name (optional)",value:T.full_name,onChange:R=>P({...T,full_name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("input",{type:"text",placeholder:"Organization (optional)",value:T.organization,onChange:R=>P({...T,organization:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsxs("select",{value:T.role,onChange:R=>P({...T,role:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"analyst",children:"Analyst"}),a.jsx("option",{value:"researcher",children:"Researcher"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:D,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create User"}),a.jsx("button",{onClick:()=>{k(!1),P({email:"",password:"",full_name:"",organization:"",role:"user"}),N(!1)},className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organization"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.full_name||"No name"}),a.jsx("div",{className:"text-sm text-gray-500",children:R.email})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("select",{value:R.role,onChange:B=>S(R.id,B.target.value),className:"text-sm px-2 py-1 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"analyst",children:"Analyst"}),a.jsx("option",{value:"researcher",children:"Researcher"}),a.jsx("option",{value:"admin",children:"Admin"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:R.organization||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("button",{onClick:()=>M(R.id),className:"text-red-600 hover:text-red-800 transition-colors",children:a.jsx(Ak,{className:"h-4 w-4"})})})]},R.id))})]})})})]}),F=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Usage Management"}),a.jsxs("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx(ff,{className:"h-4 w-4"}),a.jsx("span",{children:"Refresh"})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statistical Analyses"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Figure Analyses"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Activity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:p.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.user_name||"No name"}),a.jsx("div",{className:"text-sm text-gray-500",children:R.user_email}),a.jsx("div",{className:"text-xs text-gray-400",children:W(R.user_role)})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[R.statistical_analysis_used," / ",R.is_unlimited?"∞":R.statistical_analysis_limit]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:R.is_unlimited?"100%":`${Math.min(100,R.statistical_analysis_used/R.statistical_analysis_limit*100)}%`}})})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm text-gray-900",children:[R.figure_analysis_used," / ",R.is_unlimited?"∞":R.figure_analysis_limit]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:a.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:R.is_unlimited?"100%":`${Math.min(100,R.figure_analysis_used/R.figure_analysis_limit*100)}%`}})})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:R.last_activity?new Date(R.last_activity).toLocaleDateString():"Never"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>C(R.user_id,"statistical_analysis"),className:"text-blue-600 hover:text-blue-800 transition-colors text-xs",title:"Reset Statistical Analysis Usage",children:"Reset Stats"}),a.jsx("button",{onClick:()=>C(R.user_id,"figure_analysis"),className:"text-purple-600 hover:text-purple-800 transition-colors text-xs",title:"Reset Figure Analysis Usage",children:"Reset Figs"}),a.jsx("button",{onClick:()=>C(R.user_id),className:"text-green-600 hover:text-green-800 transition-colors text-xs",title:"Reset All Usage",children:"Reset All"})]})})]},R.user_id))})]})})})]}),I=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Weekly Activity"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Analyses This Week"}),a.jsx("span",{className:"font-medium",children:(l==null?void 0:l.analyses_week)||0})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Active Users This Week"}),a.jsx("span",{className:"font-medium",children:(l==null?void 0:l.active_users_week)||0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Today's Activity"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Analyses Today"}),a.jsx("span",{className:"font-medium",children:(l==null?void 0:l.analyses_today)||0})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Active Users Today"}),a.jsx("span",{className:"font-medium",children:(l==null?void 0:l.active_users_today)||0})]})]})]})]})]}),G=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Management"}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"System Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"System Health"}),a.jsxs("div",{className:"mt-1 text-lg font-semibold text-green-600",children:[(l==null?void 0:l.system_health)||99,"%"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Storage Used"}),a.jsxs("div",{className:"mt-1 text-lg font-semibold text-blue-600",children:[(l==null?void 0:l.total_storage_gb)||0," GB"]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[a.jsx(ff,{className:"h-4 w-4"}),a.jsx("span",{children:"Refresh Data"})]}),a.jsx("button",{onClick:()=>e("dashboard"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Back to Dashboard"})]})]})]});return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Panel"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage users, usage, and system settings"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:["Logged in as: ",a.jsx("span",{className:"font-medium",children:_.email})]}),a.jsx("button",{onClick:()=>e("dashboard"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Back to Dashboard"})]})]})}),i&&a.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xt,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:"text-red-700",children:i}),a.jsx("button",{onClick:()=>o(null),className:"ml-auto text-red-500 hover:text-red-700",children:"×"})]})}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:L.map(R=>{const B=R.icon;return a.jsxs("button",{onClick:()=>n(R.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${t===R.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(B,{className:"h-4 w-4"}),a.jsx("span",{children:R.name})]},R.id)})})})}),a.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[t==="overview"&&K(),t==="users"&&X(),t==="usage"&&F(),t==="analytics"&&I(),t==="system"&&G()]},t)]})})};function AE(){const[e,t]=E.useState("landing"),[n,s]=E.useState(!1),[r,i]=E.useState("signin"),[o,l]=E.useState(null),{user:c,loading:u,signOut:d}=Zo();E.useEffect(()=>{fe.info("App state changed",{currentView:e,hasUser:!!c,loading:u,userEmail:c==null?void 0:c.email},"App")},[e,c,u]),E.useEffect(()=>{new URLSearchParams(window.location.search).get("admin")==="true"&&t("admin")},[]),E.useEffect(()=>{c&&e==="landing"&&t("dashboard")},[c,e]);const p=(N="signin")=>{i(N),s(!0)},h=async()=>{try{await d(),t("landing")}catch(N){console.error("Logout failed:",N)}},f=N=>{c?(console.log(`Selected plan: ${N}`),t("dashboard")):(i("signup"),s(!0))},y=N=>{l(N)},b=()=>{switch(e){case"landing":return a.jsx(ql,{onLogin:p,onNavigate:t,user:c});case"dashboard":return c?a.jsx(s2,{user:c,onNavigate:t,onLogout:h,onSetProject:y}):a.jsx(ql,{onLogin:p,onNavigate:t,user:c});case"analysis":return a.jsx(kE,{onNavigate:t,user:c,onLogin:p,project:o});case"figure-analyzer":return a.jsx(EE,{onNavigate:t,user:c,onLogin:p,project:o});case"pricing":return a.jsx(PE,{onNavigate:t,onSelectPlan:f});case"admin":return a.jsx(TE,{onNavigate:t});default:return a.jsx(ql,{onLogin:p,onNavigate:t,user:c})}};return u&&e!=="admin"?(fe.debug("App showing loading screen",{loading:u,currentView:e},"App"),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})})):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[a.jsx(qi,{mode:"wait",children:a.jsx(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:b()},e)}),e!=="admin"&&a.jsx(CE,{isOpen:n,onClose:()=>s(!1),initialMode:r})]})}o0(document.getElementById("root")).render(a.jsx(E.StrictMode,{children:a.jsx(t2,{children:a.jsx(AE,{})})}));export{Py as g};
